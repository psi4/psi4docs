<!-- 
#
# @BEGIN LICENSE
#
# Psi4: an open-source quantum chemistry software package
#
# Copyright (c) 2007-2017 The Psi4 Developers.
#
# The copyrights for code used from other parties are included in
# the corresponding files.
#
# This file is part of Psi4.
#
# Psi4 is free software; you can redistribute it and/or modify
# it under the terms of the GNU Lesser General Public License as published by
# the Free Software Foundation, version 3.
#
# Psi4 is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU Lesser General Public License for more details.
#
# You should have received a copy of the GNU Lesser General Public License along
# with Psi4; if not, write to the Free Software Foundation, Inc.,
# 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.
#
# @END LICENSE
# -->






<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17: http://docutils.sourceforge.net/" />

    <title>Conda Binary Distribution</title>
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/psi4.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/graphviz.css" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css" type="text/css" />
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Noticia+Text|Open+Sans|Droid+Sans+Mono" type="text/css" />
    
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>

    
    
     
        <script src="_static/jquery.cookie.js"></script>
    

    
     
        <script src="_static/cloud.base.js"></script>
    

    
     
        <script src="_static/cloud.js"></script>
    

    <link rel="shortcut icon" href="_static/favicon-psi4.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="A PSI4 Tutorial" href="index_tutorials.html" />
    <link rel="prev" title="Compiling and Installing from Source" href="build_planning.html" /> 
        <meta name="viewport" content="width=device-width, initial-scale=1">
  </head><body>
    <div class="relbar-top">
        
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">Index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="index_tutorials.html" title="A PSI4 Tutorial"
             accesskey="N"><i class="fa fa-long-arrow-right fa-lg"></i></a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="build_planning.html" title="Compiling and Installing from Source"
             accesskey="P"><i class="fa fa-long-arrow-left fa-lg"></i></a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="index.html" title="Table Of Contents"
             accesskey="C"><i class="fa fa-book fa-lg"></i></a> &nbsp; &nbsp;</li>
    <li><a href="http://psicode.org/"><i class="fa fa-home fa-lg"></i></a></li>
    <li><a href="http://github.com/psi4/psi4"><i class="fa fa-github fa-lg"></i></a></li>
    <li><a href="http://forum.psicode.org"><i class="fa fa-comments-o fa-lg"></i></a></li>
    <li><a href="http://github.com/psi4/psi4/edit/master/doc/sphinxman/source/conda.rst"><i class="fa fa-pencil fa-lg"></i></a></li>
    <li style="color: #1a4162">&nbsp;&middot;&nbsp;</li>
    <li><a href="http://github.com/psi4/psi4/tree/38c9807">1.4rc2.dev27</a></li>
    <li style="color: #1a4162">&nbsp;&middot;&nbsp;</li>
    <li class="nav-item nav-item-0"><a href="index.html">
        <span style="font-family: Optima, sans-serif;">P<span style="font-size: 82%;">SI</span>4</span>
        </a><i class="fa fa-angle-double-right" style="color: #a2a7b3; text-shadow: none;"></i></li>

          <li class="nav-item nav-item-1"><a href="external.html" accesskey="U">Installation and Runtime Configuration</a><i class="fa fa-angle-double-right" style="color: #a2a7b3; text-shadow: none;"></i></li>
        <li class="nav-item nav-item-this"><a href="">Conda Binary Distribution</a></li> 
      </ul>
    </div>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="conda-binary-distribution">
<span id="sec-conda"></span><h1>Conda Binary Distribution<a class="headerlink" href="#conda-binary-distribution" title="Permalink to this headline">¶</a></h1>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>As of v1.2rc1, new (conda build 3; updated compilers)
conda packages are available for Linux but not Mac).
Psi4conda installers are not ready for either platform.</p>
</div>
<p><span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span> is available as a pre-compiled binary for Mac and Linux (and
Windows, through the Ubuntu shell) architectures
through <a class="reference external" href="https://www.anaconda.com/products/individual">Anaconda (formerly Continuum Analytics</a>, the company that produces
<a class="reference external" href="http://docs.continuum.io/anaconda/index.html">Anaconda Python</a> (a
full-fledged scientific python environment with package manager <a class="reference external" href="http://conda.pydata.org/index.html">conda</a>) and, more particularly, <a class="reference external" href="http://conda.pydata.org/miniconda.html">Miniconda</a> (a lightweight python
distribution with same package manager <a class="reference external" href="http://conda.pydata.org/index.html">conda</a>). Some nice features for us:</p>
<ul class="simple">
<li><p>cross-platform</p></li>
<li><p>no root, administrator, or sudo access required</p></li>
<li><p>built with high-performance math libraries</p></li>
<li><p>lightweight software stack (&lt;100 MB w/o <span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span>; ~1 GB including <span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span>, numpy, and MKL)</p></li>
<li><p>updated nightly so new features accessible</p></li>
<li><p>standardizes python distribution so no need to find/install libpython packages</p></li>
<li><p>add-ons (plugins, extra features requiring Fortran compiler, etc.) can be made available as conda packages</p></li>
<li><p>develop <span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span> through plugins without a pre-existing development environment, see <a class="reference internal" href="plugins.html#sec-condaplugins"><span class="std std-ref">Creating a New Plugin Using a Conda Pre-compiled Binary</span></a>.</p></li>
</ul>
<p>The <span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span> binary repository is at <a class="reference external" href="https://anaconda.org/psi4">Anaconda (formerly Binstar)</a>.</p>
<p>For commands to get a default installation, go to <a class="reference internal" href="#sec-psi4conda"><span class="std std-ref">How to install a Psi4 binary with the Psi4conda installer, command-line</span></a>
or the <a class="reference external" href="http://psicode.org/downloads.html">psicode downloads page</a>
(<a class="reference external" href="http://psicode.org/develdownloads.html">pre-release downloads page</a>).
Users proficient with conda may prefer to consult <a class="reference internal" href="#sec-condadetails"><span class="std std-ref">What do the conda packages psi4 &amp; psi4-dev and the installer psi4conda contain</span></a>.
For more flexibility and a detailed explanation, go to
<a class="reference internal" href="#sec-slowconda"><span class="std std-ref">Detailed Installation of Miniconda</span></a> and <a class="reference internal" href="#sec-slowpsi4"><span class="std std-ref">Detailed Installation of </span></a>.</p>
<section id="how-to-install-a-psi4-binary-with-the-psi4conda-installer-download-site">
<span id="faq-psicodedownload"></span><h2>How to install a Psi4 binary with the Psi4conda installer, download site<a class="headerlink" href="#how-to-install-a-psi4-binary-with-the-psi4conda-installer-download-site" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://psicode.org/downloads.html">Download one of the nine installers</a> (Linux/Mac/Windows; Py27/35/36).
<code class="docutils literal notranslate"><span class="pre">bash</span></code> it. Follow the prompts and <em>do</em> make the adjustments to
<span class="target" id="index-0"></span><a class="reference internal" href="external.html#envvar-PATH"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PATH</span></code></a> and <span class="target" id="index-1"></span><a class="reference internal" href="external.html#envvar-PSI_SCRATCH"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PSI_SCRATCH</span></code></a> that it suggests at the end. Test
with <code class="docutils literal notranslate"><span class="pre">psi4</span> <span class="pre">--test</span></code> (green and yellow good; red bad). Done. Explicit commands at <a class="reference internal" href="#sec-psi4conda"><span class="std std-ref">How to install a Psi4 binary with the Psi4conda installer, command-line</span></a>.</p>
</section>
<section id="how-to-install-a-psi4-binary-with-the-psi4conda-installer-command-line">
<span id="sec-psi4conda"></span><h2>How to install a Psi4 binary with the Psi4conda installer, command-line<a class="headerlink" href="#how-to-install-a-psi4-binary-with-the-psi4conda-installer-command-line" title="Permalink to this headline">¶</a></h2>
<p>Sequence of commands to get you to a working <span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span> on Linux,
Mac, or Windows (Ubuntu shell for Windows accepts Linux installers).
Installs Miniconda+Psi4+AddOns into <code class="docutils literal notranslate"><span class="pre">$HOME/psi4conda</span></code> and
the <span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span> executable into the main conda environment at
<code class="docutils literal notranslate"><span class="pre">$HOME/psi4conda/bin/psi4</span></code>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Linux</span>
<span class="c1"># py27|py35|py36 for alternate python versions</span>
&gt;&gt;&gt; curl -O <span class="s2">&quot;http://vergil.chemistry.gatech.edu/download/Psi4conda-latest-py35-Linux-x86_64.sh&quot;</span> --keepalive-time <span class="m">2</span>
&gt;&gt;&gt; bash
&gt;&gt;&gt; bash Psi4conda-latest-py35-Linux-x86_64.sh -b -p <span class="nv">$HOME</span>/psi4conda  <span class="c1"># agrees to license terms</span>
&gt;&gt;&gt; <span class="nb">echo</span> <span class="s2">&quot;export PATH=</span><span class="nv">$HOME</span><span class="s2">/psi4conda/bin:\$PATH&quot;</span> &gt;&gt; ~/.bashrc
<span class="c1"># log out, log back in so conda and psi4 in path</span>
&gt;&gt;&gt; psi4 --test
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Mac</span>
<span class="c1"># py27|py35|py36 for alternate python versions</span>
&gt;&gt;&gt; curl -O <span class="s2">&quot;http://vergil.chemistry.gatech.edu/download/Psi4conda-latest-py35-MacOSX-x86_64.sh&quot;</span> --keepalive-time <span class="m">2</span>
&gt;&gt;&gt; bash
&gt;&gt;&gt; bash Psi4conda-latest-py35-MacOSX-x86_64.sh -b -p <span class="nv">$HOME</span>/psi4conda  <span class="c1"># agrees to license terms</span>
&gt;&gt;&gt; <span class="nb">echo</span> <span class="s2">&quot;export PATH=</span><span class="nv">$HOME</span><span class="s2">/psi4conda/bin:\$PATH&quot;</span> &gt;&gt; ~/.bash_profile
<span class="c1"># log out, log back in so conda and psi4 in path</span>
&gt;&gt;&gt; psi4 --test
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Windows</span>
<span class="c1"># py27|py35|py36 for alternate python versions</span>
&gt;&gt;&gt; curl -O <span class="s2">&quot;http://vergil.chemistry.gatech.edu/download/Psi4conda-latest-py35-Windows-x86_64.sh&quot;</span> --keepalive-time <span class="m">2</span>
&gt;&gt;&gt; bash
&gt;&gt;&gt; bash Psi4conda-latest-py35-Windows-x86_64.sh -b -p <span class="nv">$HOME</span>/psi4conda  <span class="c1"># agrees to license terms</span>
&gt;&gt;&gt; <span class="nb">echo</span> <span class="s2">&quot;export PATH=</span><span class="nv">$HOME</span><span class="s2">/psi4conda/bin:\$PATH&quot;</span> &gt;&gt; ~/.bashrc
<span class="c1"># log out, log back in so conda and psi4 in path</span>
&gt;&gt;&gt; psi4 --test
</pre></div>
</div>
<p>That last command tested that <code class="docutils literal notranslate"><span class="pre">psi4</span></code> is in your path, and it’s finding
all the libraries it needs. It works because <span class="target" id="index-2"></span><a class="reference internal" href="external.html#envvar-PSI_SCRATCH"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PSI_SCRATCH</span></code></a>
defaults to <code class="docutils literal notranslate"><span class="pre">/tmp</span></code>. Now you need only specify a permanent scratch
directory (see <a class="reference internal" href="external.html#sec-scratch"><span class="std std-ref">Scratch Files and Elementary Restart</span></a>) by replacing the placeholder in the
following:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; <span class="nb">echo</span> <span class="s2">&quot;export PSI_SCRATCH=/path/to/existing/writable/local-not-network/directory/for/scratch/files&quot;</span> &gt;&gt; ~/.bashrc
<span class="c1"># log out, log back in so variable takes effect</span>
</pre></div>
</div>
<p>All done!</p>
<p>Configuration for this set-up is summarized at <a class="reference internal" href="build_planning.html#faq-runfrombinary"><span class="std std-ref">How to run Psi4 as executable or Python module from conda installation</span></a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span> installs a Python distribution alongside, so you should choose an installer based on the Python version you <em>want</em>, irrespective of any Python version you <em>have</em>.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Above commands use bash for installation and set up your environment for bash at runtime. To use csh at runtime, follow the on-screen directions at the end of the installation or consult step 7 below.</p>
</div>
</section>
<section id="how-to-install-a-psi4-binary-into-an-ana-miniconda-distribution">
<span id="faq-psi4pkg"></span><h2>How to install a Psi4 binary into an Ana/Miniconda distribution<a class="headerlink" href="#how-to-install-a-psi4-binary-into-an-ana-miniconda-distribution" title="Permalink to this headline">¶</a></h2>
<p>Conda command to install the latest nightly build of <span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span> + compiled
add-ons + runtime add-ons into an existing Anaconda or Miniconda
distribution.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Linux or Mac or Windows</span>
<span class="c1"># substitute x.x by 3.5|3.6|3.7 for alternate python versions</span>
<span class="c1"># remove `-c psi4/label/dev` to get stable releases instead of nightly builds</span>
&gt;&gt;&gt; conda create -n p4env <span class="nv">python</span><span class="o">=</span>x.x psi4 psi4-rt -c psi4/label/dev -c psi4
</pre></div>
</div>
<p>Activate environment and make the adjustments to <span class="target" id="index-3"></span><a class="reference internal" href="external.html#envvar-PATH"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PATH</span></code></a> and
<span class="target" id="index-4"></span><a class="reference internal" href="external.html#envvar-PSI_SCRATCH"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PSI_SCRATCH</span></code></a> that it suggests at the end. Test with <code class="docutils literal notranslate"><span class="pre">psi4</span>
<span class="pre">--test</span></code>. Configuration for this set-up is summarized at
<a class="reference internal" href="build_planning.html#faq-runfrombinary"><span class="std std-ref">How to run Psi4 as executable or Python module from conda installation</span></a>.</p>
<p><strong>Details:</strong></p>
<ul class="simple">
<li><p>It is advised to place <span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span> into a conda
environment where its libraries can’t interfere with other programs
rather than the main
Anaconda or Miniconda environment. Hence the creation of the environment
above, but the environment name (<code class="samp docutils literal notranslate"><em><span class="pre">p4env</span></em></code> above) can be
substituted.</p></li>
<li><p>Only reason for <code class="docutils literal notranslate"><span class="pre">psi4-rt</span></code> package is to get the QC runtime
add-ons; could say any combination of <code class="docutils literal notranslate"><span class="pre">dftd3</span> <span class="pre">gcp</span> <span class="pre">v2rdm_casscf</span> <span class="pre">snsmp2</span></code> instead of <code class="docutils literal notranslate"><span class="pre">psi4-rt</span></code>;
or leave them out if you don’t want them.</p></li>
<li><p>Grab a Miniconda through <code class="docutils literal notranslate"><span class="pre">curl</span> <span class="pre">-o</span> <span class="pre">Miniconda-latest.sh</span>
<span class="pre">&quot;https://repo.continuum.io/miniconda/Miniconda3-latest-[MacOSX|Linux]-x86_64.sh&quot;</span></code>,
selecting between Mac and Linux.</p></li>
</ul>
</section>
<section id="how-to-update-a-psi4-binary">
<span id="faq-updatepsi4"></span><h2>How to update a Psi4 binary<a class="headerlink" href="#how-to-update-a-psi4-binary" title="Permalink to this headline">¶</a></h2>
<p>A. Conda command to update an existing <span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span> conda installation to the
newest stable release (roughly annually).</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; conda update psi4 -c psi4

<span class="c1"># if psi4 channel in defaults (true for Psi4conda installers)</span>
&gt;&gt;&gt; conda update psi4
</pre></div>
</div>
<p>B. Conda command to update an existing <span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span> conda installation to the
latest development head (roughly nightly).</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; conda update psi4 -c psi4/label/dev
</pre></div>
</div>
<p>C. Conda command to install a very specific package, including version,
build string, and subchannel. The final <cite>-c psi4</cite> represents any
additional channels or subchannels needed to locate all dependencies.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; conda install <span class="nv">psi4</span><span class="o">=</span><span class="m">1</span>.2a1.dev249+623ad64<span class="o">=</span>py36_sse41_0 -c psi4/label/subchannel -c psi4
</pre></div>
</div>
</section>
<section id="how-to-use-conda-to-compile-psi4-faster-and-easier">
<span id="faq-psi4deps"></span><h2>How to use conda to compile Psi4 faster and easier<a class="headerlink" href="#how-to-use-conda-to-compile-psi4-faster-and-easier" title="Permalink to this headline">¶</a></h2>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp"># </span>Linux <span class="c1"># c. v1.2rc1  ###or Mac or Windows</span>
<span class="gp"># </span>substitute x.x by <span class="m">3</span>.5<span class="p">|</span><span class="m">3</span>.6<span class="p">|</span><span class="m">3</span>.7 <span class="k">for</span> alternate python versions
<span class="go">&gt;&gt;&gt; conda create -n p4dev python=x.x psi4-dev -c psi4/label/dev -c psi4</span>
<span class="go">&gt;&gt;&gt; conda activate p4dev</span>

<span class="go">&gt;&gt;&gt; cd {top-level-psi4-dir}</span>
<span class="go">&gt;&gt;&gt; psi4-path-advisor --help</span>
<span class="go">usage: psi4-path-advisor [-h] [--psi4-compile] [--disable-addons]</span>
<span class="go">                         [--disable-mkl] [--intel | --intel-multiarch | --gcc]</span>

<span class="go">Build and Run path advisor for Psi4</span>

<span class="go">optional arguments:</span>
<span class="go">  -h, --help         show this help message and exit</span>
<span class="go">  --psi4-compile     (Command Default) Generates a minimal CMake command for building Psi4 against</span>
<span class="go">                         this psi4-dev conda metapackage.</span>
<span class="go">                     &gt;&gt;&gt; git clone https://github.com/psi4/psi4.git</span>
<span class="go">                     &gt;&gt;&gt; cd {top-level-psi4-dir}</span>
<span class="go">                     &gt;&gt;&gt; conda create -n p4dev python={3.6} psi4-dev [-c psi4/label/dev] -c psi4</span>
<span class="go">                     &gt;&gt;&gt; conda activate p4dev</span>
<span class="go">                     &gt;&gt;&gt; psi4-path-advisor</span>
<span class="gp">                     # </span>execute or adapt <span class="sb">`</span>cmake<span class="sb">`</span> commands above<span class="p">;</span> DepsCache handles python <span class="p">&amp;</span> addons<span class="p">;</span>
<span class="gp">                     #   </span>DepsMKLCache handles math<span class="p">;</span> further psi4-path-advisor options handle compilers.
<span class="go">                     &gt;&gt;&gt; cd objdir &amp;&amp; make -j`getconf _NPROCESSORS_ONLN`</span>
<span class="go">                     &gt;&gt;&gt; make install</span>
<span class="go">  --disable-addons   Disengage building against the psi4-dev-provided _optional_ link-time Add-Ons like CheMPS2.</span>
<span class="go">  --disable-mkl      Disengage building against the psi4-dev-provided MKL libraries (`libmkl_rt`).</span>
<span class="go">  --intel            Engage self-provided icc/icpc/ifort compilers backed by conda&#39;s psi4-dev-provided gcc/g++.</span>
<span class="go">  --intel-multiarch  Engage self-provided icc/icpc/ifort compilers backed by conda&#39;s psi4-dev-provided gcc/g++ PLUS compile for multiple architectures (useful for cluster deployments).</span>
<span class="go">  --gcc              Engage conda&#39;s psi4-dev-provided gcc/g++/gfortran compilers.</span>

<span class="gp"># </span>execute or adapt <span class="sb">`</span>cmake<span class="sb">`</span> commands above<span class="p">;</span> DepsCache handles python <span class="p">&amp;</span> addons<span class="p">;</span>
<span class="gp">#   </span>DepsMKLCache handles math<span class="p">;</span> further psi4-path-advisor options handle compilers.
<span class="go">&gt;&gt;&gt; `psi4-path-advisor [your args]` -Dany_addl_cmake_vals=ON</span>
<span class="go">&gt;&gt;&gt; cd objdir &amp;&amp; make -j`getconf _NPROCESSORS_ONLN`</span>
<span class="go">&gt;&gt;&gt; make install</span>
</pre></div>
</div>
<p>Same for Linux/Mac/Windows. Substitute desired python version: 3.5, 3.6, 3.7. Fine
to choose your own env name. Include <code class="docutils literal notranslate"><span class="pre">-c</span> <span class="pre">psi4/label/dev</span></code> to get dependencies to
build current master, as opposed to latest release.
Activate environment, <code class="docutils literal notranslate"><span class="pre">conda</span> <span class="pre">activate</span>
<span class="pre">p4dev</span></code>.  Go to where you’ve cloned psi4. Execute <code class="docutils literal notranslate"><span class="pre">psi4-path-advisor</span></code>.
It gives you a basic cmake command covering python, sphinx, link-time qc
addons, and run-time qc addons. There’s a help menu -h that gives more
info. There’s other options that will also pre-configure compilers. For
example, at GaTech <code class="docutils literal notranslate"><span class="pre">psi4-path-advisor</span> <span class="pre">--intel</span></code> works. On Macs with
XCode, <code class="docutils literal notranslate"><span class="pre">psi4-path-advisor</span> <span class="pre">--clang</span></code> works. Just read the help. For users
who want a minimal build, there’s a <code class="docutils literal notranslate"><span class="pre">--disable-addons</span></code>, but it is generally not
encouraged. It gives you a fully
functional cmake command, but those are just setting up CMake cache
— like the plugins you can always add your own CMake variables to
the command.</p>
<p>For run-time, you may also wish to install the executable add-ons (<em>e.g.</em>, dftd3)</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; conda install numpy psi4-rt
</pre></div>
</div>
</section>
<section id="what-do-the-conda-packages-psi4-psi4-dev-and-the-installer-psi4conda-contain">
<span id="sec-condadetails"></span><h2>What do the conda packages psi4 &amp; psi4-dev and the installer psi4conda contain<a class="headerlink" href="#what-do-the-conda-packages-psi4-psi4-dev-and-the-installer-psi4conda-contain" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">psi4</span></code> - has full-featured psi4 itself and necessarily all the link-time qc
addons (e.g., chemps2). It has python, pytest, numpy, and a few more python
modules for specialized functions. Of gcc-ness, it has minimal, run-time
libraries (<em>e.g.</em>, libgcc-ng) not compilers.
It doesn’t have the run-time qc addons <code class="docutils literal notranslate"><span class="pre">psi4-rt</span></code> (<em>e.g.</em>, dftd3) or build tools (<em>e.g.</em>, g++, sphinx, cmake).</p>
<p><code class="docutils literal notranslate"><span class="pre">psi4-dev</span></code> - does not have psi4 itself or the run-time addons <code class="docutils literal notranslate"><span class="pre">psi4-rt</span></code> or numpy (though fine to install them
alongside). Does have all the link-time addons. Does have
cmake and sphinx (and python). Of gcc-ness, has full packages, that is,
compilers as well as runtime packages.</p>
<p>Psi4conda installer - has full-featured <code class="docutils literal notranslate"><span class="pre">psi4</span></code> itself, all link-time qc addons, all
run-time qc addons, and minimal gcc runtime libraries. Developers should additionally install <code class="docutils literal notranslate"><span class="pre">psi4-dev</span></code> for build tools.</p>
<p>The <a class="reference internal" href="#sec-psi4conda"><span class="std std-ref">How to install a Psi4 binary with the Psi4conda installer, command-line</span></a> uses a <a class="reference external" href="https://github.com/conda/constructor">conda constructor</a> to package up Miniconda,
the <span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span> conda package, the <span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span> add-on conda packages, dependencies
thereof (possibly from particular channels), and the psi4 channel
as a default. This is very convenient for novice users and robust
against differing channel settings in <code class="docutils literal notranslate"><span class="pre">~/.condarc</span></code>. But proficient
conda users may prefer to treat <code class="docutils literal notranslate"><span class="pre">psi4</span></code> as a normal conda package and
not have another large Miniconda installation (including the hefty MKL)
lying around just for <span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span>. Installing just the <code class="docutils literal notranslate"><span class="pre">psi4</span></code> package
itself will get you <span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span>, whatever add-ons require linking in to
<span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span> (<em>e.g.</em>, CheMPS2 and PCMSolver), and the correct versions of
packages. However, just the <code class="docutils literal notranslate"><span class="pre">psi4</span></code> package won’t get you add-ons that
don’t need linking (<em>e.g.</em>, DFTD3 and v2rdm_casscf).</p>
</section>
<section id="quick-installation">
<span id="sec-quickconda"></span><h2>Quick Installation<a class="headerlink" href="#quick-installation" title="Permalink to this headline">¶</a></h2>
<p>Sequence of commands to get you to a working <span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span>. Installs
Miniconda into <code class="docutils literal notranslate"><span class="pre">$HOME/miniconda</span></code> and the <span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span> executable into the
main conda environment at <code class="docutils literal notranslate"><span class="pre">$HOME/miniconda/bin/psi4</span></code>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Linux or Mac, Py2 or Py3 for main environment (immaterial to Py for Psi4): select between four lines</span>
<span class="c1"># Windows: in Ubuntu shell, select either Linux line</span>
&gt;&gt;&gt; curl -o Miniconda-latest.sh <span class="s2">&quot;https://repo.continuum.io/miniconda/Miniconda2-latest-Linux-x86_64.sh&quot;</span>
&gt;&gt;&gt; curl -o Miniconda-latest.sh <span class="s2">&quot;https://repo.continuum.io/miniconda/Miniconda3-latest-Linux-x86_64.sh&quot;</span>
&gt;&gt;&gt; curl -o Miniconda-latest.sh <span class="s2">&quot;https://repo.continuum.io/miniconda/Miniconda2-latest-MacOSX-x86_64.sh&quot;</span>
&gt;&gt;&gt; curl -o Miniconda-latest.sh <span class="s2">&quot;https://repo.continuum.io/miniconda/Miniconda3-latest-MacOSX-x86_64.sh&quot;</span>
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; bash
&gt;&gt;&gt; bash Miniconda-latest.sh -b -p <span class="nv">$HOME</span>/miniconda  <span class="c1"># agrees to conda&#39;s license terms</span>
&gt;&gt;&gt; <span class="nb">echo</span> <span class="s2">&quot;export PATH=</span><span class="nv">$HOME</span><span class="s2">/miniconda/bin:\$PATH&quot;</span> &gt;&gt; ~/.bashrc  <span class="c1"># Mac: use ~/.bash_profile</span>
<span class="c1"># log out, log back in so conda in path</span>
&gt;&gt;&gt; conda update --yes --all
&gt;&gt;&gt; conda config --add channels http://conda.anaconda.org/psi4
&gt;&gt;&gt; conda install --yes psi4
&gt;&gt;&gt; psi4 <span class="s2">&quot;</span><span class="k">$(</span>dirname <span class="k">$(</span>which psi4<span class="k">))</span><span class="s2">&quot;</span>/../share/psi4/samples/sapt1/test.in  <span class="c1"># test installation. works b/c PSI_SCRATCH defaults to /tmp</span>
</pre></div>
</div>
<p>That last command tested that <code class="docutils literal notranslate"><span class="pre">psi4</span></code> is in your path, and it’s finding
all the libraries it needs. Now you need only specify a scratch directory
(see <a class="reference internal" href="external.html#sec-scratch"><span class="std std-ref">Scratch Files and Elementary Restart</span></a>) by replacing the placeholder in the following:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; <span class="nb">echo</span> <span class="s2">&quot;export PSI_SCRATCH=/path/to/existing/writable/local-not-network/directory/for/scratch/files&quot;</span> &gt;&gt; ~/.bashrc
<span class="c1"># log out, log back in so variable takes effect</span>
</pre></div>
</div>
<p>All done!</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Above commands use bash for installation and set up your environment for bash at runtime. To use csh at runtime, follow the on-screen directions at the end of the installation or consult step 7 below.</p>
</div>
</section>
<section id="detailed-installation-of-miniconda">
<span id="sec-slowconda"></span><h2>Detailed Installation of Miniconda<a class="headerlink" href="#detailed-installation-of-miniconda" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple" start="0">
<li><p>Sanity check. If you already have Miniconda or Anaconda, skip to step 5. The whole installation takes ~5 min; reading this page takes far longer.</p></li>
<li><p>Get <code class="docutils literal notranslate"><span class="pre">bzip2</span></code>. You’ll need this slightly exotic command so run <code class="docutils literal notranslate"><span class="pre">which</span></code> to test for availability, and install from <code class="docutils literal notranslate"><span class="pre">yum</span></code>, source, <em>etc.</em> if unavailable. You’ll also need an internet connection for downloading; computers behind a firewall or with restricted login domains are eligible. So long as you can ssh <em>into</em> the computer to an account with write permissions and can connect to the internet <em>from</em> the computer, all is well.</p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># check</span>
&gt;&gt;&gt; which bzip2
/usr/bin/bzip2
&gt;&gt;&gt; curl -O <span class="s2">&quot;http://psicode.org/psi4manual/master/introduction.html&quot;</span>
&gt;&gt;&gt; ls -1
introduction.html
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p>Get Miniconda installer script. Either issue the command below or download from <a class="reference external" href="http://conda.pydata.org/miniconda.html">http://conda.pydata.org/miniconda.html</a> by clicking on the appropriate link for your OS. If you already have or would prefer to use Anaconda rather than Miniconda, that’s fine. Locate or install Anaconda, check that <code class="docutils literal notranslate"><span class="pre">conda</span></code> is in your path, and skip to step 4.</p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; curl -O <span class="s2">&quot;http://repo.continuum.io/miniconda/Miniconda-latest-Linux-x86_64.sh&quot;</span>
<span class="c1"># check</span>
&gt;&gt;&gt; ls -1
Miniconda-latest-Linux-x86_64.sh
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li><p>Install Miniconda. Execute the script and answer its questions, particularly your choice of installation location. You may need to replace the filename below with the correct filename for the OS/version of installer you downloaded. Execute with <code class="docutils literal notranslate"><span class="pre">bash</span></code> regardless of <code class="docutils literal notranslate"><span class="pre">csh</span></code>/<code class="docutils literal notranslate"><span class="pre">bash</span></code> shell. If you’re a <code class="docutils literal notranslate"><span class="pre">bash</span></code> user, it’s convenient to agree to its offer to prepend <code class="docutils literal notranslate"><span class="pre">conda</span></code> commands to your <span class="target" id="index-5"></span><a class="reference internal" href="external.html#envvar-PATH"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PATH</span></code></a> in <code class="docutils literal notranslate"><span class="pre">~/.bashrc</span></code>. If you’re a <code class="docutils literal notranslate"><span class="pre">csh</span></code>/<code class="docutils literal notranslate"><span class="pre">tcsh</span></code> user, it’s convenient to do the same by hand to your <code class="docutils literal notranslate"><span class="pre">~/.tcshrc</span></code>: <code class="docutils literal notranslate"><span class="pre">setenv</span> <span class="pre">PATH</span> <span class="pre">/path/to/miniconda/bin:${PATH}</span></code>. Further directions assume that the <code class="docutils literal notranslate"><span class="pre">conda</span></code> command is in your path; you may have to log out and log back in for <code class="docutils literal notranslate"><span class="pre">which</span> <span class="pre">conda</span></code> to return correctly.</p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; bash Miniconda-latest-Linux-x86_64.sh
<span class="c1"># check</span>
&gt;&gt;&gt; which conda
/path/to/miniconda/bin/conda
</pre></div>
</div>
<ol class="arabic simple" start="4">
<li><p>Update conda. This updates the package manager itself.</p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; conda update conda
</pre></div>
</div>
</section>
<section id="detailed-installation-of-psifour">
<span id="sec-slowpsi4"></span><h2>Detailed Installation of <span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span><a class="headerlink" href="#detailed-installation-of-psifour" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple" start="5">
<li><p>Subscribe to <span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span>. Subscribe to our channel at <a class="reference external" href="http://anaconda.org/psi4">http://anaconda.org/psi4</a> that contains the <span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span> package and several dependency packages. Make sure this shows up in your <code class="docutils literal notranslate"><span class="pre">~/.condarc</span></code> file.</p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; conda config --add channels http://conda.anaconda.org/psi4
<span class="c1"># check</span>
&gt;&gt;&gt; cat ~/.condarc
channels:
  - http://conda.anaconda.org/psi4
  - defaults
</pre></div>
</div>
<ol class="arabic simple" start="6">
<li><p>Install <span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span>. You can install into the main conda environment so that whenever commands <code class="docutils literal notranslate"><span class="pre">conda</span></code> or (Ana/Miniconda’s) <code class="docutils literal notranslate"><span class="pre">python</span></code> are available, then <code class="docutils literal notranslate"><span class="pre">psi4</span></code> is available, too.</p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; conda install psi4
<span class="c1"># check</span>
&gt;&gt;&gt; which psi4
/path/to/miniconda/bin/psi4
</pre></div>
</div>
<p>Or, you can install into a <a class="reference external" href="http://conda.pydata.org/docs/faq.html#environments">conda environment</a> that places <span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span> and its dependencies (including python) into a sandbox unaffected by any other software installed in Ana/Miniconda. This is recommended for developers to avoid interference between multiple versions (including github/conda versions) or to test python versions, <em>etc.</em>. In practical terms, installing into a conda environment means you can turn <span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span>‘s availability on/off by switching conda environments without turning on/off the whole Ana/Miniconda installation. Below, <span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span> is installed into an environment called <code class="docutils literal notranslate"><span class="pre">p4env</span></code>. Then the environment is activated, removing the main Ana/Miniconda <code class="docutils literal notranslate"><span class="pre">bin</span></code> and adding <code class="docutils literal notranslate"><span class="pre">envs/p4env/bin</span></code> to <span class="target" id="index-6"></span><a class="reference internal" href="external.html#envvar-PATH"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PATH</span></code></a>. The <code class="docutils literal notranslate"><span class="pre">conda</span> <span class="pre">activate</span></code> command (conda &gt;=4.4; December 2017) works in all shells, but if you’re using old <code class="docutils literal notranslate"><span class="pre">source</span> <span class="pre">activate</span></code> that only works for <code class="docutils literal notranslate"><span class="pre">bash</span></code>; adjust as needed for <code class="docutils literal notranslate"><span class="pre">csh</span></code>/<code class="docutils literal notranslate"><span class="pre">tcsh</span></code>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; conda create -n p4env psi4
&gt;&gt;&gt; conda activate p4env
<span class="c1"># check</span>
&gt;&gt;&gt; which psi4
/path/to/miniconda/envs/p4env/bin/psi4
</pre></div>
</div>
<p>The output for either of the installation commands above looks like the following. It checks what packages are needed, gets your approval for downloading them, fetches and installs them, prints out some useful information, and runs a <span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span> test case to check that all’s well.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; conda install psi4
Using Anaconda Cloud api site https://api.anaconda.org
Fetching package metadata: ......
Solving package specifications: .........

Package plan <span class="k">for</span> installation <span class="k">in</span> environment /theoryfs2/ds/cdsgroup/miniconda/envs/tpsi4:

The following packages will be downloaded:

    package                    <span class="p">|</span>            build
    ---------------------------<span class="p">|</span>-----------------
    psi4-0.4.322               <span class="p">|</span>    py27_g84b3aa1        <span class="m">44</span>.4 MB  http://conda.anaconda.org/psi4/linux-64/

The following NEW packages will be INSTALLED:

    psi4: <span class="m">0</span>.4.322-py27_g84b3aa1 http://conda.anaconda.org/psi4/linux-64/

Proceed <span class="o">([</span>y<span class="o">]</span>/n<span class="o">)</span>? y

Fetching packages ...
psi4-0.4.322-p <span class="m">100</span>% <span class="p">|</span><span class="c1">####################################################################################| Time: 0:00:08   5.77 MB/s</span>
Extracting packages ...
<span class="o">[</span>      COMPLETE      <span class="o">]</span><span class="p">|</span><span class="c1">#######################################################################################################| 100%</span>
Linking packages ...


  Thank you <span class="k">for</span> installing psi4. Additional resources:
    Website: www.psicode.org
    Inputs:  /theoryfs2/ds/cdsgroup/miniconda/envs/tpsi4/share/psi4/samples
    Manual:  http://psicode.org/psi4manual/master/index.html
    GitHub:  https://github.com/psi4/psi4/wiki
    Binary:  https://anaconda.org/psi4
    Youtube: https://www.youtube.com/user/psitutorials

  For csh/tcsh command-line use, add to shell or ~/.tcshrc file:
    unsetenv PSIDATADIR
    setenv PATH /theoryfs2/ds/cdsgroup/miniconda/envs/tpsi4/bin:<span class="nv">$PATH</span>
    setenv PSI_SCRATCH /path/to/existing/writable/local-not-network/disk/for/scratch/files

  For sh/bash command-line use, add to shell or ~/.bashrc file:
    <span class="nb">unset</span> PSIDATADIR
    <span class="nb">export</span> <span class="nv">PATH</span><span class="o">=</span>/theoryfs2/ds/cdsgroup/miniconda/envs/tpsi4/bin:<span class="nv">$PATH</span>
    <span class="nb">export</span> <span class="nv">PSI_SCRATCH</span><span class="o">=</span>/path/to/existing/writable/local-not-network/disk/for/scratch/files

  Report problems at http://forum.psicode.org/t/report-conda-update-psi4-oddities-here/32


    Nuclear Repulsion Energy..........................................PASSED
    SAPT0 Eelst.......................................................PASSED
    SAPT0 Eexch.......................................................PASSED
    SAPT0 Eind........................................................PASSED
    SAPT0 Edisp.......................................................PASSED
    SAPT0 Etotal......................................................PASSED

<span class="o">[</span>      COMPLETE      <span class="o">]</span><span class="p">|</span><span class="c1">#######################################################################################################| 100%</span>
</pre></div>
</div>
<ol class="arabic simple" start="7">
<li><p>Configure environment. Preceding steps have placed <code class="docutils literal notranslate"><span class="pre">conda</span></code> and <code class="docutils literal notranslate"><span class="pre">psi4</span></code> in your <span class="target" id="index-7"></span><a class="reference internal" href="external.html#envvar-PATH"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PATH</span></code></a>, either permanently through rc-files or temporarily in this terminal session. You can keep or undo these changes. For general psi4 use, you must enable the <code class="docutils literal notranslate"><span class="pre">psi4</span></code> executable to be found through any of:</p></li>
</ol>
<blockquote>
<div><ol class="arabic simple">
<li><p>prepending to <span class="target" id="index-8"></span><a class="reference internal" href="external.html#envvar-PATH"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PATH</span></code></a> in shell, <code class="docutils literal notranslate"><span class="pre">~/.bashrc</span></code>, <code class="docutils literal notranslate"><span class="pre">~/.tcshrc</span></code>, or PBS <code class="docutils literal notranslate"><span class="pre">cmd</span></code> file</p></li>
<li><p>activating the conda environment (p4env above) in shell, <code class="docutils literal notranslate"><span class="pre">~/.bashrc</span></code>, or PBS <code class="docutils literal notranslate"><span class="pre">cmd</span></code> file</p></li>
<li><p>supplying full path to executable (shell or PBS <code class="docutils literal notranslate"><span class="pre">cmd</span></code> file)</p></li>
</ol>
</div></blockquote>
<p>Similarly, the scratch directory (see <a class="reference internal" href="external.html#sec-scratch"><span class="std std-ref">Scratch Files and Elementary Restart</span></a>) must be specified through:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>defining <span class="target" id="index-9"></span><a class="reference internal" href="external.html#envvar-PSI_SCRATCH"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PSI_SCRATCH</span></code></a> in shell, <code class="docutils literal notranslate"><span class="pre">~/.bashrc</span></code>, <code class="docutils literal notranslate"><span class="pre">~/.tcshrc</span></code>, or PBS <code class="docutils literal notranslate"><span class="pre">cmd</span></code> file</p></li>
</ol>
</div></blockquote>
<p>Suitable values for these variables have been printed to screen during installation (see last codeblock in step 6).</p>
</section>
<section id="useful-commands">
<h2>Useful Commands<a class="headerlink" href="#useful-commands" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><ol class="upperalpha simple">
<li><p>Initially install <span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span> stable release</p></li>
</ol>
</li>
</ul>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp"># </span>equivalent
<span class="go">&gt;&gt;&gt; conda install psi4 -c psi4</span>
<span class="go">&gt;&gt;&gt; conda install psi4 --channel psi4</span>
</pre></div>
</div>
<ul class="simple">
<li><ol class="upperalpha simple" start="2">
<li><p>Initially install <span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span> stable release with non-current python</p></li>
</ol>
</li>
</ul>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">&gt;&gt;&gt; conda install psi4 python=3.6 -c psi4</span>
</pre></div>
</div>
<ul class="simple">
<li><ol class="upperalpha simple" start="3">
<li><p>Update to latest <span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span> stable release</p></li>
</ol>
</li>
</ul>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">&gt;&gt;&gt; conda update psi4 -c psi4</span>
</pre></div>
</div>
<ul class="simple">
<li><ol class="upperalpha simple" start="4">
<li><p>Initially install stable release into a conda environment “p4env” instead of “root”. This creates a sandbox with <span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span> and python (loaded as dependency).</p></li>
</ol>
</li>
</ul>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">&gt;&gt;&gt; conda create -y -n p4env psi4 -c psi4</span>
<span class="go">&gt;&gt;&gt; conda activate p4env</span>
</pre></div>
</div>
<ul class="simple">
<li><ol class="upperalpha simple" start="5">
<li><p>Install a particular <span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span> version</p></li>
</ol>
</li>
</ul>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">&gt;&gt;&gt; conda install psi4=0.1.12 -c psi4</span>
</pre></div>
</div>
<ul class="simple">
<li><ol class="upperalpha simple" start="6">
<li><p>Uninstall <span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span> from current environment</p></li>
</ol>
</li>
</ul>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">&gt;&gt;&gt; conda remove psi4</span>
</pre></div>
</div>
<ul class="simple">
<li><ol class="upperalpha simple" start="7">
<li><p>Initially install <span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span> nightly build</p></li>
</ol>
</li>
</ul>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp"># </span>equivalent
<span class="go">&gt;&gt;&gt; conda install psi4 -c psi4/label/dev</span>
<span class="go">&gt;&gt;&gt; conda install psi4 --channel psi4/label/dev</span>
</pre></div>
</div>
<ul class="simple">
<li><ol class="upperalpha simple" start="8">
<li><p>Initially install <span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span> nightly build with non-current python</p></li>
</ol>
</li>
</ul>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">&gt;&gt;&gt; conda install psi4 python=3.6 -c psi4/label/dev</span>
</pre></div>
</div>
<ul class="simple">
<li><ol class="upperroman simple">
<li><p>Update to latest <span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span> nightly build</p></li>
</ol>
</li>
</ul>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">&gt;&gt;&gt; conda update psi4 -c psi4/label/dev</span>
</pre></div>
</div>
<ul class="simple">
<li><ol class="upperalpha simple" start="10">
<li><p>Initially install nightly build into a conda environment “p4env” instead of “root”. This creates a sandbox with <span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span> and python (loaded as dependency).</p></li>
</ol>
</li>
</ul>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">&gt;&gt;&gt; conda create -y -n p4env psi4 -c psi4/label/dev</span>
<span class="go">&gt;&gt;&gt; conda activate p4env</span>
</pre></div>
</div>
<ul class="simple">
<li><ol class="upperalpha simple" start="11">
<li><p>Install a particular <span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span> version</p></li>
</ol>
</li>
</ul>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">&gt;&gt;&gt; conda install psi4=0.1.12 -c psi4/label/dev</span>
</pre></div>
</div>
</section>
<section id="troubleshooting">
<h2>Troubleshooting<a class="headerlink" href="#troubleshooting" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p>If the target computer doesn’t have libc &gt;= 2.7 (released c.2007; for reference, 2.10 is newer than 2.7; unlike most libraries, libc generally not available in multiple versions on a computer), the <span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span> conda package won’t work.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># unsuitable computer</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">ldd</span> <span class="o">--</span><span class="n">version</span>
<span class="n">ldd</span> <span class="p">(</span><span class="n">GNU</span> <span class="n">libc</span><span class="p">)</span> <span class="mf">2.5</span>
<span class="c1"># suitable computer</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">ldd</span> <span class="o">--</span><span class="n">version</span>
<span class="n">ldd</span> <span class="p">(</span><span class="n">GNU</span> <span class="n">libc</span><span class="p">)</span> <span class="mf">2.17</span>
</pre></div>
</div>
</li>
<li><p>It is of greatest importance that the <span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span> executable be linked against conda libpython.so <em>not</em> against any system libpython.so. This is arranged by setting <code class="docutils literal notranslate"><span class="pre">RPATH</span></code> to seek libraries relative to executable (thanks, conda binary relocation routine!). The conda <span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span> executable is not vulnerable to interference from your <code class="docutils literal notranslate"><span class="pre">LD_LIBRARY_PATH</span></code> settings. Below shows a well-linked executable.</p>
<blockquote>
<div><ul class="simple">
<li><p>no libraries “not found”</p></li>
<li><p>fundamental libraries like libc, ld-linux, pthreads found system libraries to link against</p></li>
<li><p>libpython linked against conda python <em>not</em> system python</p></li>
<li><p>libm is linked against conda <em>or</em> system</p></li>
<li><p>blas, c++, and gcc libraries are absent because statically linked</p></li>
</ul>
</div></blockquote>
</li>
</ul>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">&gt;&gt;&gt; conda install conda-build  # needed for next command</span>
<span class="go">&gt;&gt;&gt; conda inspect linkages psi4</span>
<span class="go">python-2.7.9-2:</span>
<span class="go">  libpython2.7.so.1.0 (lib/libpython2.7.so.1.0)</span>
<span class="go">system-5.8-1:</span>
<span class="go">  libm.so.6 (lib/libm.so.6)</span>
<span class="go">system:</span>
<span class="go">  libc.so.6 (/lib64/libc.so.6)</span>
<span class="go">  libdl.so.2 (/lib64/libdl.so.2)</span>
<span class="go">  libpthread.so.0 (/lib64/libpthread.so.0)</span>
<span class="go">  librt.so.1 (/lib64/librt.so.1)</span>
<span class="go">  libutil.so.1 (/lib64/libutil.so.1)</span>
<span class="go">  linux-vdso.so.1 ()</span>
<span class="go">not found:</span>
</pre></div>
</div>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
        <p class="logo"><a href="index.html" title="index">
          <img class="logo" src="_static/psi4square.png" alt="Logo"/>
        </a></p><!-- 
#
# @BEGIN LICENSE
#
# Psi4: an open-source quantum chemistry software package
#
# Copyright (c) 2007-2017 The Psi4 Developers.
#
# The copyrights for code used from other parties are included in
# the corresponding files.
#
# This file is part of Psi4.
#
# Psi4 is free software; you can redistribute it and/or modify
# it under the terms of the GNU Lesser General Public License as published by
# the Free Software Foundation, version 3.
#
# Psi4 is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU Lesser General Public License for more details.
#
# You should have received a copy of the GNU Lesser General Public License along
# with Psi4; if not, write to the Free Software Foundation, Inc.,
# 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.
#
# @END LICENSE
# -->


<div id="searchbox" style="display: none" role="search">
  <!--<h3>Quick search</h3>-->
    <form class="search" action="search.html" method="get">
      <!--<div><input type="text" name="q" placeholder="search docs" /></div>-->
      <div><input type="text" name="q" placeholder="&#xF002;" style="font-family:FontAwesome, Ariel" /></div>
      <!--<div><input type="submit" value="Go" /></div>-->
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><div class="sphinx-toc sphinxlocaltoc">
    <h3><a href="index.html">table of contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">Conda Binary Distribution</a><ul>
<li><a class="reference internal" href="#how-to-install-a-psi4-binary-with-the-psi4conda-installer-download-site">How to install a Psi4 binary with the Psi4conda installer, download site</a></li>
<li><a class="reference internal" href="#how-to-install-a-psi4-binary-with-the-psi4conda-installer-command-line">How to install a Psi4 binary with the Psi4conda installer, command-line</a></li>
<li><a class="reference internal" href="#how-to-install-a-psi4-binary-into-an-ana-miniconda-distribution">How to install a Psi4 binary into an Ana/Miniconda distribution</a></li>
<li><a class="reference internal" href="#how-to-update-a-psi4-binary">How to update a Psi4 binary</a></li>
<li><a class="reference internal" href="#how-to-use-conda-to-compile-psi4-faster-and-easier">How to use conda to compile Psi4 faster and easier</a></li>
<li><a class="reference internal" href="#what-do-the-conda-packages-psi4-psi4-dev-and-the-installer-psi4conda-contain">What do the conda packages psi4 &amp; psi4-dev and the installer psi4conda contain</a></li>
<li><a class="reference internal" href="#quick-installation">Quick Installation</a></li>
<li><a class="reference internal" href="#detailed-installation-of-miniconda">Detailed Installation of Miniconda</a></li>
<li><a class="reference internal" href="#detailed-installation-of-psifour">Detailed Installation of <span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span></a></li>
<li><a class="reference internal" href="#useful-commands">Useful Commands</a></li>
<li><a class="reference internal" href="#troubleshooting">Troubleshooting</a></li>
</ul>
</li>
</ul>

  </div>
        </div>
      </div>
    
    
        <div class="sidebar-toggle-group no-js">
            
            <button class="sidebar-toggle" id="sidebar-hide" title="Hide the sidebar menu">
                 «
                <span class="show-for-small">hide menu</span>
                
            </button>
            <button class="sidebar-toggle" id="sidebar-show" title="Show the sidebar menu">
                
                <span class="show-for-small">menu</span>
                <span class="hide-for-small">sidebar</span>
                 »
            </button>
        </div>
    
      <div class="clearer"></div>
    </div>
    <div class="relbar-bottom">
        
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >Index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="index_tutorials.html" title="A PSI4 Tutorial"
             ><i class="fa fa-long-arrow-right fa-lg"></i></a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="build_planning.html" title="Compiling and Installing from Source"
             ><i class="fa fa-long-arrow-left fa-lg"></i></a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="index.html" title="Table Of Contents"
             ><i class="fa fa-book fa-lg"></i></a> &nbsp; &nbsp;</li>
    <li><a href="http://psicode.org/"><i class="fa fa-home fa-lg"></i></a></li>
    <li><a href="http://github.com/psi4/psi4"><i class="fa fa-github fa-lg"></i></a></li>
    <li><a href="http://forum.psicode.org"><i class="fa fa-comments-o fa-lg"></i></a></li>
    <li><a href="http://github.com/psi4/psi4/edit/master/doc/sphinxman/source/conda.rst"><i class="fa fa-pencil fa-lg"></i></a></li>
    <li style="color: #1a4162">&nbsp;&middot;&nbsp;</li>
    <li><a href="http://github.com/psi4/psi4/tree/38c9807">1.4rc2.dev27</a></li>
    <li style="color: #1a4162">&nbsp;&middot;&nbsp;</li>
    <li class="nav-item nav-item-0"><a href="index.html">
        <span style="font-family: Optima, sans-serif;">P<span style="font-size: 82%;">SI</span>4</span>
        </a><i class="fa fa-angle-double-right" style="color: #a2a7b3; text-shadow: none;"></i></li>

          <li class="nav-item nav-item-1"><a href="external.html" >Installation and Runtime Configuration</a><i class="fa fa-angle-double-right" style="color: #a2a7b3; text-shadow: none;"></i></li>
        <li class="nav-item nav-item-this"><a href="">Conda Binary Distribution</a></li> 
      </ul>
    </div>
    </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2021, The Psi4 Project.
      Last updated on Wednesday, 07 April 2021 02:39PM.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.5.3.
    </div>
    <!-- cloud_sptheme 1.4 -->
  </body>
</html>