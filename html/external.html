<!-- 
#
# @BEGIN LICENSE
#
# Psi4: an open-source quantum chemistry software package
#
# Copyright (c) 2007-2017 The Psi4 Developers.
#
# The copyrights for code used from other parties are included in
# the corresponding files.
#
# This file is part of Psi4.
#
# Psi4 is free software; you can redistribute it and/or modify
# it under the terms of the GNU Lesser General Public License as published by
# the Free Software Foundation, version 3.
#
# Psi4 is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU Lesser General Public License for more details.
#
# You should have received a copy of the GNU Lesser General Public License along
# with Psi4; if not, write to the Free Software Foundation, Inc.,
# 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.
#
# @END LICENSE
# -->






<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Installation and Runtime Configuration</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/psi4.css" />
    <link rel="stylesheet" type="text/css" href="_static/graphviz.css" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css" type="text/css" />
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Noticia+Text|Open+Sans|Droid+Sans+Mono" type="text/css" />
    
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "document", "processHtmlClass": "math|output_area"}}</script>

    
    
     
        <script src="_static/jquery.cookie.js"></script>
    

    
     
        <script src="_static/cloud.base.js"></script>
    

    
     
        <script src="_static/cloud.js"></script>
    

    <link rel="shortcut icon" href="_static/favicon-psi4.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Build &amp; Run FAQ" href="build_faq.html" />
    <link rel="prev" title="&lt;no title&gt;" href="cfour_table_grad.html" /> 
        <meta name="viewport" content="width=device-width, initial-scale=1">
  </head><body>
    <div class="relbar-top">
        
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">Index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="build_faq.html" title="Build &amp; Run FAQ"
             accesskey="N"><i class="fa fa-long-arrow-right fa-lg"></i></a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="cfour_table_grad.html" title="&lt;no title&gt;"
             accesskey="P"><i class="fa fa-long-arrow-left fa-lg"></i></a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="index.html" title="Table Of Contents"
             accesskey="C"><i class="fa fa-book fa-lg"></i></a> &nbsp; &nbsp;</li>
    <li><a href="http://psicode.org/"><i class="fa fa-home fa-lg"></i></a></li>
    <li><a href="http://github.com/psi4/psi4"><i class="fa fa-github fa-lg"></i></a></li>
    <li><a href="http://forum.psicode.org"><i class="fa fa-comments-o fa-lg"></i></a></li>
    <li><a href="http://github.com/psi4/psi4/edit/master/doc/sphinxman/source/external.rst"><i class="fa fa-pencil fa-lg"></i></a></li>
    <li style="color: #1a4162">&nbsp;&middot;&nbsp;</li>
    <li><a href="http://github.com/psi4/psi4/tree/ff26262">undefined</a></li>
    <li style="color: #1a4162">&nbsp;&middot;&nbsp;</li>
    <li class="nav-item nav-item-0"><a href="index.html">
        <span style="font-family: Optima, sans-serif;">P<span style="font-size: 82%;">SI</span>4</span>
        </a><i class="fa fa-angle-double-right" style="color: #a2a7b3; text-shadow: none;"></i></li>

        <li class="nav-item nav-item-this"><a href="">Installation and Runtime Configuration</a></li> 
      </ul>
    </div>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="installation-and-runtime-configuration">
<h1>Installation and Runtime Configuration<a class="headerlink" href="#installation-and-runtime-configuration" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="build_faq.html">FAQ</a><ul>
<li class="toctree-l2"><a class="reference internal" href="build_faq.html#obtaining-and-updating-psifour">Obtaining and Updating <span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span></a></li>
<li class="toctree-l2"><a class="reference internal" href="build_faq.html#configuring-and-installing-psifour-via-binary">Configuring and Installing <span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span> via Binary</a></li>
<li class="toctree-l2"><a class="reference internal" href="build_faq.html#configuring-building-and-installing-psifour-via-source">Configuring, Building, and Installing <span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span> via Source</a></li>
<li class="toctree-l2"><a class="reference internal" href="build_faq.html#non-qc-dependencies">Non-QC Dependencies</a></li>
<li class="toctree-l2"><a class="reference internal" href="build_faq.html#qc-dependencies-and-extensions">QC Dependencies and Extensions</a></li>
<li class="toctree-l2"><a class="reference internal" href="build_faq.html#testing">Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="build_faq.html#runtime-setup">Runtime Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="build_faq.html#running-psifour">Running <span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span></a></li>
<li class="toctree-l2"><a class="reference internal" href="build_faq.html#runtime-errors-and-debugging">Runtime Errors and Debugging</a></li>
<li class="toctree-l2"><a class="reference internal" href="build_faq.html#managing-code">Managing Code</a></li>
<li class="toctree-l2"><a class="reference internal" href="build_faq.html#miscellaneous">Miscellaneous</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="build_obtaining.html">Obtaining <span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span></a><ul>
<li class="toctree-l2"><a class="reference internal" href="build_obtaining.html#how-to-obtain-psi4-start-with-find-the-code-quiz-end-in-top-level-psi4-dir">How to obtain Psi4: start with find-the-code quiz, end in <code class="docutils literal notranslate"><span class="pre">{top-level-psi4-dir}</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="build_obtaining.html#find-the-code-quiz">Find-the-code Quiz</a></li>
<li class="toctree-l2"><a class="reference internal" href="build_obtaining.html#binary-installer">Binary Installer</a></li>
<li class="toctree-l2"><a class="reference internal" href="build_obtaining.html#conda-binary-package">Conda Binary Package</a></li>
<li class="toctree-l2"><a class="reference internal" href="build_obtaining.html#clone-from-github-repository">Clone from GitHub Repository</a></li>
<li class="toctree-l2"><a class="reference internal" href="build_obtaining.html#fork-from-github-repository">Fork from GitHub Repository</a></li>
<li class="toctree-l2"><a class="reference internal" href="build_obtaining.html#tarball-from-github-repository">Tarball from GitHub Repository</a></li>
<li class="toctree-l2"><a class="reference internal" href="build_obtaining.html#what-is-the-suggested-github-workflow">What is the suggested GitHub workflow</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="build_planning.html">Compiling and Installing from Source</a><ul>
<li class="toctree-l2"><a class="reference internal" href="build_planning.html#planning-how-to-configure-psi4-and-invoke-cmake">Planning: how to configure Psi4 and invoke CMake</a></li>
<li class="toctree-l2"><a class="reference internal" href="build_planning.html#how-to-build-and-install-psi4-the-compact-version">How to build and install Psi4, the compact version</a></li>
<li class="toctree-l2"><a class="reference internal" href="build_planning.html#how-to-build-test-and-install-psi4-in-detail">How to build, test, and install Psi4, in detail</a></li>
<li class="toctree-l2"><a class="reference internal" href="build_planning.html#what-are-the-tools-and-dependencies-strictly-required-for-building-psi4">What are the tools and dependencies strictly required for building Psi4</a></li>
<li class="toctree-l2"><a class="reference internal" href="build_planning.html#what-are-the-add-on-capabilities-for-psi4-and-what-are-their-dependencies">What are the add-on capabilities for Psi4 and what are their dependencies</a></li>
<li class="toctree-l2"><a class="reference internal" href="build_planning.html#how-to-use-conda-to-get-a-psi4-development-environment">How to use conda to get a Psi4 development environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="build_planning.html#how-to-configure-code-to-use-high-angular-momentum-basis-sets">How to configure code to use high angular momentum basis sets</a></li>
<li class="toctree-l2"><a class="reference internal" href="build_planning.html#how-to-get-high-angular-momentum-integrals-from-conda">How to get high angular momentum integrals from conda</a></li>
<li class="toctree-l2"><a class="reference internal" href="build_planning.html#how-to-see-what-build-configuration-options-are-available">How to see what build configuration options are available</a></li>
<li class="toctree-l2"><a class="reference internal" href="build_planning.html#how-to-install-elsewhere-than-usr-local-psi4">How to install elsewhere than <code class="samp docutils literal notranslate"><span class="pre">/usr/local/psi4</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="build_planning.html#how-to-compile-for-debugging">How to compile for debugging</a></li>
<li class="toctree-l2"><a class="reference internal" href="build_planning.html#how-to-choose-the-compilation-directory-objdir">How to choose the compilation directory, <code class="docutils literal notranslate"><span class="pre">{objdir}</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="build_planning.html#how-to-save-configuration-settings-for-a-future-compilation">How to save configuration settings for a future compilation</a></li>
<li class="toctree-l2"><a class="reference internal" href="build_planning.html#what-is-the-directory-layout-of-the-installed-or-staged-psi4">What is the directory layout of the installed or staged Psi4</a></li>
<li class="toctree-l2"><a class="reference internal" href="build_planning.html#how-to-run-psi4-as-executable-after-compilation">How to run Psi4 as executable after compilation</a></li>
<li class="toctree-l2"><a class="reference internal" href="build_planning.html#how-to-solve-modulenotfounderror-no-module-named-psi4">How to solve <code class="docutils literal notranslate"><span class="pre">ModuleNotFoundError:</span> <span class="pre">No</span> <span class="pre">module</span> <span class="pre">named</span> <span class="pre">'psi4'</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="build_planning.html#how-to-configure-paths-for-psiapi">How to configure paths for PsiAPI</a></li>
<li class="toctree-l2"><a class="reference internal" href="build_planning.html#how-to-run-psi4-as-python-module-after-compilation">How to run Psi4 as Python module after compilation</a></li>
<li class="toctree-l2"><a class="reference internal" href="build_planning.html#how-to-run-psi4-as-executable-or-python-module-from-conda-installation">How to run Psi4 as executable or Python module from conda installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="build_planning.html#how-to-run-psi4-as-executable-after-compilation-using-driver-from-source">How to run Psi4 as executable after compilation using driver from source</a></li>
<li class="toctree-l2"><a class="reference internal" href="build_planning.html#why-not-to-set-psidatadir">Why not to set <code class="xref std std-envvar docutils literal notranslate"><span class="pre">PSIDATADIR</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="build_planning.html#how-to-configure-c-and-c-compilers-for-building-psi4">How to configure C++ and C compilers for building Psi4</a></li>
<li class="toctree-l2"><a class="reference internal" href="build_planning.html#what-c-and-c-compilers-and-versions-are-approved">What C and C++ compilers and versions are approved</a></li>
<li class="toctree-l2"><a class="reference internal" href="build_planning.html#how-to-obtain-c-and-c-compilers-for-mac-without-fink-macports-or-homebrew">How to obtain C and C++ compilers for Mac without Fink, MacPorts, or Homebrew</a></li>
<li class="toctree-l2"><a class="reference internal" href="build_planning.html#how-to-satisfy-the-gcc-4-9-requirement-on-linux-without-updating-the-os">How to satisfy the GCC &gt;= 4.9 requirement on Linux without updating the OS</a></li>
<li class="toctree-l2"><a class="reference internal" href="build_planning.html#how-to-configure-a-psi4-build-on-cray">How to configure a Psi4 build on Cray</a></li>
<li class="toctree-l2"><a class="reference internal" href="build_planning.html#how-to-configure-fortran-compilers-for-building-psi4">How to configure Fortran compilers for building Psi4</a></li>
<li class="toctree-l2"><a class="reference internal" href="build_planning.html#what-fortran-compilers-are-approved">What Fortran compilers are approved</a></li>
<li class="toctree-l2"><a class="reference internal" href="build_planning.html#how-to-obtain-a-fortran-compiler-for-mac-without-fink-macports-or-homebrew">How to obtain a Fortran compiler for Mac without Fink, MacPorts, or Homebrew</a></li>
<li class="toctree-l2"><a class="reference internal" href="build_planning.html#how-to-configure-blas-lapack-for-building-psi4">How to configure BLAS/LAPACK for building Psi4</a></li>
<li class="toctree-l2"><a class="reference internal" href="build_planning.html#how-to-configure-python-for-building-psi4">How to configure Python for building Psi4</a></li>
<li class="toctree-l2"><a class="reference internal" href="build_planning.html#what-python-is-psi4-running">What Python is Psi4 running</a></li>
<li class="toctree-l2"><a class="reference internal" href="build_planning.html#how-to-fix-undefined-symbol-py-falsestruct">How to fix “<code class="docutils literal notranslate"><span class="pre">undefined</span> <span class="pre">symbol:</span> <span class="pre">_Py_FalseStruct</span></code>”</a></li>
<li class="toctree-l2"><a class="reference internal" href="build_planning.html#how-to-use-gdb-and-lldb-with-psi4">How to use <code class="docutils literal notranslate"><span class="pre">gdb</span></code> and <code class="docutils literal notranslate"><span class="pre">lldb</span></code> with Psi4</a></li>
<li class="toctree-l2"><a class="reference internal" href="build_planning.html#how-to-see-the-actual-compiling-commands-or-errors-with-cmake">How to see the actual compiling commands (or errors) with <code class="docutils literal notranslate"><span class="pre">cmake</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="build_planning.html#how-to-highlight-git-merge-conflicts-in-vi">How to highlight git merge conflicts in <code class="docutils literal notranslate"><span class="pre">vi</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="build_planning.html#how-to-handle-runtime-library-may-be-hidden-when-building-with-anaconda-python">How to handle “runtime library may be hidden” when building with Anaconda Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="build_planning.html#how-to-set-up-the-scratch-directory">How to set up the scratch directory</a></li>
<li class="toctree-l2"><a class="reference internal" href="build_planning.html#how-do-i-retain-specific-psi4-scratch-files">How do I retain specific Psi4 scratch files</a></li>
<li class="toctree-l2"><a class="reference internal" href="build_planning.html#how-to-use-psi4-within-a-pbs-queue">How to use Psi4 within a PBS queue</a></li>
<li class="toctree-l2"><a class="reference internal" href="build_planning.html#how-to-update-and-rebuild-psi4">How to update and rebuild Psi4</a></li>
<li class="toctree-l2"><a class="reference internal" href="build_planning.html#how-to-run-a-minute-s-worth-of-tests">How to run a minute’s worth of tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="build_planning.html#how-to-run-a-subset-of-tests">How to run a subset of tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="build_planning.html#how-to-see-ctest-testing-errors">How to see CTest testing errors</a></li>
<li class="toctree-l2"><a class="reference internal" href="build_planning.html#how-to-test-a-psi4-installation">How to test a Psi4 installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="build_planning.html#how-to-refer-to-psi4">How to refer to Psi4</a></li>
<li class="toctree-l2"><a class="reference internal" href="build_planning.html#how-to-get-a-psi4-logo-file">How to get a Psi4 logo file</a></li>
<li class="toctree-l2"><a class="reference internal" href="build_planning.html#how-to-use-a-local-add-on-repository-in-the-psi4-build">How to use a local Add-On repository in the Psi4 build</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="conda.html">Installing from Binary</a><ul>
<li class="toctree-l2"><a class="reference internal" href="conda.html#how-to-install-a-psi4-binary-with-the-psi4conda-installer-download-site">How to install a Psi4 binary with the Psi4conda installer, download site</a></li>
<li class="toctree-l2"><a class="reference internal" href="conda.html#how-to-install-a-psi4-binary-with-the-psi4conda-installer-command-line">How to install a Psi4 binary with the Psi4conda installer, command-line</a></li>
<li class="toctree-l2"><a class="reference internal" href="conda.html#how-to-install-a-psi4-binary-into-an-ana-miniconda-distribution">How to install a Psi4 binary into an Ana/Miniconda distribution</a></li>
<li class="toctree-l2"><a class="reference internal" href="conda.html#how-to-update-a-psi4-binary">How to update a Psi4 binary</a></li>
<li class="toctree-l2"><a class="reference internal" href="conda.html#how-to-use-conda-to-compile-psi4-faster-and-easier">How to use conda to compile Psi4 faster and easier</a></li>
<li class="toctree-l2"><a class="reference internal" href="conda.html#what-do-the-conda-packages-psi4-psi4-dev-and-the-installer-psi4conda-contain">What do the conda packages psi4 &amp; psi4-dev and the installer psi4conda contain</a></li>
<li class="toctree-l2"><a class="reference internal" href="conda.html#quick-installation">Quick Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="conda.html#detailed-installation-of-miniconda">Detailed Installation of Miniconda</a></li>
<li class="toctree-l2"><a class="reference internal" href="conda.html#detailed-installation-of-psifour">Detailed Installation of <span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span></a></li>
<li class="toctree-l2"><a class="reference internal" href="conda.html#useful-commands">Useful Commands</a></li>
</ul>
</li>
</ul>
</div>
<section id="scratch-files-and-elementary-restart">
<span id="sec-scratch"></span><span id="index-0"></span><h2>Scratch Files and Elementary Restart<a class="headerlink" href="#scratch-files-and-elementary-restart" title="Permalink to this headline">¶</a></h2>
<p>One very important part of user configuration at the end of the
installation process
is to tell <span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span> where to write its temporary
(“scratch”) files.  Electronic structure packages like <span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span> can
create rather large temporary disk files.  It is very important to
ensure that <span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span> is writing its temporary files to a disk drive
physically attached to the computer running the computation.  If it
is not, it will significantly slow down the program and the network.
By default, <span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span> will write temporary files to <code class="docutils literal notranslate"><span class="pre">/tmp</span></code>, but this
directory is often not large enough for typical computations.  Therefore,
you need to (a) make sure there is a sufficiently large directory on a
locally attached disk drive (100GB–1TB or more, depending on the size of
the molecules to be studied) and (b) tell <span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span> the path to this
directory. Scratch file location can be specified through the
<span class="target" id="index-1"></span><a class="reference internal" href="#envvar-PSI_SCRATCH"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PSI_SCRATCH</span></code></a> environment variable or through the <code class="file docutils literal notranslate"><span class="pre">~/.psi4rc</span></code> file
(see section <a class="reference internal" href="#sec-psirc"><span class="std std-ref">~/.psi4rc File</span></a>). Most of the time, <span class="target" id="index-2"></span><a class="reference internal" href="#envvar-PSI_SCRATCH"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PSI_SCRATCH</span></code></a>
is preferred, and it overrides any existing <code class="file docutils literal notranslate"><span class="pre">~/.psi4rc</span></code> setting. You can set up
<span class="target" id="index-3"></span><a class="reference internal" href="#envvar-PSI_SCRATCH"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PSI_SCRATCH</span></code></a> by issuing the following commands in a terminal,
or including them in the appropriate <code class="docutils literal notranslate"><span class="pre">rc</span></code> file.</p>
<div class="highlight-tcsh notranslate"><div class="highlight"><pre><span></span><span class="c"># csh, tcsh: add to shell or ~/.tcshrc file</span>
<span class="nb">setenv </span>PSI_SCRATCH /path/to/existing/writable/local-not-network/disk/for/scratch/files
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># sh, bash: add to shell or ~/.bashrc (Linux/Windows) or ~/.bash_profile (Mac) file</span>
<span class="nb">export</span> <span class="nv">PSI_SCRATCH</span><span class="o">=</span>/path/to/existing/writable/local-not-network/disk/for/scratch/files
</pre></div>
</div>
<p><span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span> has a number of utilities that manage
input and output (I/O) of quantities to and from the hard disk.  Most
quantities, such as molecular integrals, are intermediates that are not of
interest to the user and can be deleted after the computation finishes, but
pertinent details of computations are also written to a checkpoint file and
might be useful in subsequent computations.  All files are written to the
designated scratch <a class="reference internal" href="autodoc_psifiles.html#apdx-psifiles"><span class="std std-ref">numbered by content</span></a> and labeled
with the process id, then are deleted at the end of the computation,
unless otherwise instructed by the user.</p>
<p>A Python callable handle to the <span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span> I/O management routines is available,
and is called <code class="docutils literal notranslate"><span class="pre">psi4_io</span></code>.  To instruct the I/O manager to send all files to
another location, say <code class="docutils literal notranslate"><span class="pre">/scratch/user</span></code>, add the following command to your input
file:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">psi4_io</span><span class="o">.</span><span class="n">set_default_path</span><span class="p">(</span><span class="s1">&#39;/scratch/user&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>For batch jobs running through a queue, it might be more convenient to use an
environmental variable (in this case <code class="docutils literal notranslate"><span class="pre">$MYSCRATCH</span></code>) to set the scratch directory;
the following code will do that:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="n">scratch_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;MYSCRATCH&#39;</span><span class="p">)</span>
<span class="k">if</span> <span class="n">scratch_dir</span><span class="p">:</span>
    <span class="n">psi4_io</span><span class="o">.</span><span class="n">set_default_path</span><span class="p">(</span><span class="n">scratch_dir</span> <span class="o">+</span> <span class="s1">&#39;/&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Individual files can be sent to specific locations.  For example, file 12
contains information about the internal coordiantes of a geometry optimization.
The user may want to retain this in the working directory
(<em>i.e.</em>, where <span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span> was launched from) to analyze the optimization.  This is
accomplished by the commands below:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">psi4_io</span><span class="o">.</span><span class="n">set_specific_path</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="s1">&#39;./&#39;</span><span class="p">)</span>
<span class="n">psi4_io</span><span class="o">.</span><span class="n">set_specific_retention</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>

<span class="c1"># equivalent to above</span>
<span class="n">psi4_io</span><span class="o">.</span><span class="n">set_specific_path</span><span class="p">(</span><span class="n">PSIF_INTCO</span><span class="p">,</span> <span class="s1">&#39;./&#39;</span><span class="p">)</span>
<span class="n">psi4_io</span><span class="o">.</span><span class="n">set_specific_retention</span><span class="p">(</span><span class="n">PSIF_INTCO</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>A guide to the contents of individual scratch files may be found at <a class="reference internal" href="autodoc_psifiles.html#apdx-psifiles"><span class="std std-ref">PSIOH Intermediate Files</span></a>.
To circumvent difficulties with running multiple jobs in the same scratch, the
process ID (PID) of the <span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span> instance is incorporated into the full file
name; therefore, it is safe to use the same scratch directory for calculations
running simultaneously. This also means that if the user wants <span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span> to use
information from a previous file, like molecular orbitals, he needs to provide the
name of the file. This can be done through the <code class="docutils literal notranslate"><span class="pre">restart_file</span></code> option</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">energy</span><span class="p">(</span><span class="s1">&#39;scf&#39;</span><span class="p">,</span><span class="n">restart_file</span><span class="o">=</span><span class="s1">&#39;./psi.PID.name.filenumber&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>where by default, PID is the process number, name the name of the molecule,
and filenumber is listed in <a class="reference internal" href="autodoc_psifiles.html#apdx-psifiles"><span class="std std-ref">content</span></a>. Only the filenumber
is necessary for the driver to appropriately rename the file for the next <span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span>
job, and if none is found it defaults to 32, a checkpoint file. If two or more files
are to be read, they need to be provided as a Python list</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">energy</span><span class="p">(</span><span class="s1">&#39;scf&#39;</span><span class="p">,</span><span class="n">restart_file</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;./file1.filenumber&#39;</span><span class="p">,</span><span class="s1">&#39;./file2.filenumber&#39;</span><span class="p">])</span>
</pre></div>
</div>
<p>Note that the <code class="docutils literal notranslate"><span class="pre">restart_file</span></code> options is only available for energy procedures as of now.</p>
<p>Executing <span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span> with the <a class="reference internal" href="#cmdoption-psi4-m"><code class="xref std std-option docutils literal notranslate"><span class="pre">psi4</span> <span class="pre">-m</span></code></a> (for
messy) flag will prevent files being deleted at the end of the run:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">psi4</span> <span class="o">-</span><span class="n">m</span>
</pre></div>
</div>
</section>
<section id="psirc-file">
<span id="sec-psirc"></span><span id="index-4"></span><h2><code class="file docutils literal notranslate"><span class="pre">~/.psi4rc</span></code> File<a class="headerlink" href="#psirc-file" title="Permalink to this headline">¶</a></h2>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>The <code class="file docutils literal notranslate"><span class="pre">~/.psi4rc</span></code> file is only read for Psithon input, not PsiAPI.
It does nothing that can’t be done in other more transparent ways.
It should be avoided.
It is very easy to forget about the <code class="file docutils literal notranslate"><span class="pre">~/.psi4rc</span></code> file you once
created, leading to great confusion over why all your jobs are using
the wrong memory or are suddenly not density-fit. Also be aware that
<code class="file docutils literal notranslate"><span class="pre">~/.psi4rc</span></code> contents count as part of your input file (invoked after
e.g. <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">psi4</span> <span class="pre">import</span> <span class="pre">*</span></code> and before your Psithon–&gt;Python parsed
input commands), so these settings take priority over command-line
arguments to the <code class="docutils literal notranslate"><span class="pre">psi4</span></code> executable.
Please use the <code class="file docutils literal notranslate"><span class="pre">~/.psi4rc</span></code> file sparingly.</p>
</div>
<p>If using the environment variable <span class="target" id="index-5"></span><a class="reference internal" href="#envvar-PSI_SCRATCH"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PSI_SCRATCH</span></code></a> is inconvenient,
or if some <code class="docutils literal notranslate"><span class="pre">psi4_io</span></code> commands must be present in all input files,
the <code class="file docutils literal notranslate"><span class="pre">~/.psi4rc</span></code> resource file can be used (example <a class="reference external" href="https://github.com/psi4/psi4/blob/master/samples/example_psi4rc_file">psi4/samples/example_psi4rc_file</a>).</p>
<p>All the commands mentioned in section <a class="reference internal" href="#sec-scratch"><span class="std std-ref">Scratch Files and Elementary Restart</span></a> can be used in this file.</p>
<p>To set up the scratch path:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">psi4_io</span><span class="o">.</span><span class="n">set_default_path</span><span class="p">(</span><span class="s1">&#39;/scratch/user&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>To set up the scratch path from a variable <code class="docutils literal notranslate"><span class="pre">$MYSCRATCH</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="n">scratch_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;MYSCRATCH&#39;</span><span class="p">)</span>
<span class="k">if</span> <span class="n">scratch_dir</span><span class="p">:</span>
    <span class="n">psi4_io</span><span class="o">.</span><span class="n">set_default_path</span><span class="p">(</span><span class="n">scratch_dir</span> <span class="o">+</span> <span class="s1">&#39;/&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>To set up a specific path for the internal coordinate file and instruct <span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span> not to delete it:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">psi4_io</span><span class="o">.</span><span class="n">set_specific_path</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="s1">&#39;./&#39;</span><span class="p">)</span>
<span class="n">psi4_io</span><span class="o">.</span><span class="n">set_specific_retention</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>

<span class="c1"># equivalent to above</span>
<span class="n">psi4_io</span><span class="o">.</span><span class="n">set_specific_path</span><span class="p">(</span><span class="n">PSIF_INTCO</span><span class="p">,</span> <span class="s1">&#39;./&#39;</span><span class="p">)</span>
<span class="n">psi4_io</span><span class="o">.</span><span class="n">set_specific_retention</span><span class="p">(</span><span class="n">PSIF_INTCO</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>The Python interpreter will execute the contents of the
<code class="file docutils literal notranslate"><span class="pre">~/.psi4rc</span></code> file in the current user’s home area (if present) before performing any
tasks in the input file. As a consequence, the commands in the input files supersede
any instructions in the <code class="file docutils literal notranslate"><span class="pre">~/.psi4rc</span></code> file. During
execution, the <code class="file docutils literal notranslate"><span class="pre">~/.psi4rc</span></code> defaults will be loaded in first, but then the commands
in the input file will be executed.</p>
<p>The <code class="file docutils literal notranslate"><span class="pre">~/.psi4rc</span></code> file can also be used to define constants that are accessible
in input files or to place any Python statements that should be executed
with every <span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span> instance.</p>
</section>
<section id="threading">
<span id="sec-threading"></span><span id="index-6"></span><h2>Threading<a class="headerlink" href="#threading" title="Permalink to this headline">¶</a></h2>
<p>Most new modules in <span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span> are designed to run efficiently on SMP architectures
via application of several thread models. The de facto standard for <span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span>
involves using threaded BLAS/LAPACK (particularly Intel’s excellent MKL package)
for most tensor-like operations, OpenMP for more general operations, and C++
<code class="docutils literal notranslate"><span class="pre">std::thread</span></code> for some special-case operations. Note: Using OpenMP alone is a really
bad idea. The developers make little to no effort to explicitly parallelize
operations which are already easily threaded by MKL or other threaded BLAS. Less
than 20% of the threaded code in <span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span> uses OpenMP, the rest is handled by
parallel DGEMM and other library routines. From this point forward, it is
assumed that you have compiled <span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span> with OpenMP and MKL (Note that it is
possible to use g++ or another compiler and yet still link against MKL).</p>
<p>Control of threading in <span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span> can be accomplished at a variety of levels,
ranging from global environment variables to direct control of thread count in
the input file, to even directives specific to each model. This hierarchy is
explained below. Note that each deeper level trumps all previous levels.</p>
<p class="rubric">(1) OpenMP/MKL Environment Variables</p>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 1.1: </span>Environment variables <span class="target" id="index-7"></span><a class="reference internal" href="#envvar-OMP_NUM_THREADS"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">OMP_NUM_THREADS</span></code></a> and <span class="target" id="index-8"></span><a class="reference internal" href="#envvar-MKL_NUM_THREADS"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">MKL_NUM_THREADS</span></code></a>
do not affect threading in <span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span>.</p>
</div>
<p class="rubric">(2) The -n Command Line Flag</p>
<p>To change the number of threads at runtime, the <a class="reference internal" href="#cmdoption-psi4-n"><code class="xref std std-option docutils literal notranslate"><span class="pre">psi4</span> <span class="pre">-n</span></code></a> flag may be used. An
example is:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>psi4 -i input.dat -o output.dat -n <span class="m">4</span>
</pre></div>
</div>
<p>which will run on four threads. Note that is is not available for PsiAPI mode of operation.</p>
<p class="rubric">(3) Setting Thread Numbers in an Input</p>
<p>For more explicit control, the Process::environment class in <span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span> can
override the number of threads set by environment variables. This functionality
is accessed via the <a class="reference internal" href="api/psi4.core.set_num_threads.html#psi4.core.set_num_threads" title="psi4.core.set_num_threads"><code class="xref py py-func docutils literal notranslate"><span class="pre">set_num_threads()</span></code></a> function, which controls
both MKL and OpenMP thread numbers. The number of threads may be changed
multiple times in a <span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span> input file. An example input for this feature is:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># A bit small-ish, but you get the idea</span>
<span class="n">molecule</span> <span class="n">h2o</span> <span class="p">{</span>
<span class="mi">0</span> <span class="mi">1</span>
<span class="n">O</span>
<span class="n">H</span> <span class="mi">1</span> <span class="mf">1.0</span>
<span class="n">H</span> <span class="mi">1</span> <span class="mf">1.0</span> <span class="mi">2</span> <span class="mf">90.0</span>
<span class="p">}</span>

<span class="c1"># Run from 1 to 4 threads, for instance, to record timings</span>
<span class="k">for</span> <span class="n">nthread</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">):</span>
    <span class="n">set_num_threads</span><span class="p">(</span><span class="n">nthread</span><span class="p">)</span>
    <span class="n">energy</span><span class="p">(</span><span class="s2">&quot;scf/cc-pvdz&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>In PsiAPI mode of operation, this syntax, <code class="docutils literal notranslate"><span class="pre">psi4.set_num_threads(nthread)</span></code>, is
the primary way to control threading.</p>
<p class="rubric">(4) Method-Specific Control</p>
<p>Even more control is possible in certain circumstances. For instance, the
threaded generation of AO density-fitted integrals involves a memory requirement
proportional to the number of threads. This requirement may exceed the total
memory of a small-memory node if all threads are involved in the generation of
these integrals. For general DF algorithms, the user may specify:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">set</span> <span class="n">MODULE_NAME</span> <span class="n">df_ints_num_threads</span> <span class="n">n</span>
</pre></div>
</div>
<p>to explicitly control the number of threads used for integral formation. Setting
this variable to 0 (the default) uses the number of threads specified by the
<a class="reference internal" href="api/psi4.core.set_num_threads.html#psi4.core.set_num_threads" title="psi4.core.set_num_threads"><code class="xref py py-func docutils literal notranslate"><span class="pre">set_num_threads()</span></code></a> Psithon method or the default environmental variables.</p>
</section>
<section id="pbs-job-file">
<span id="sec-pbs"></span><span id="index-9"></span><h2>PBS job file<a class="headerlink" href="#pbs-job-file" title="Permalink to this headline">¶</a></h2>
<p>To run a <span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span> job on a PBS queueing system, you need to properly set up
all necessary variables in the PBS job file. Below is a minimal example of
a PBS job file for a threaded job, and a short explanation for each section.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/bin/tcsh</span>
<span class="c1">#PBS -j oe</span>
<span class="c1">#PBS -l pmem=2120mb</span>
<span class="c1">#PBS -N jobname</span>
<span class="c1">#PBS -V</span>

<span class="nb">cd</span> <span class="nv">$PBS_O_WORKDIR</span>
setenv myscratch /scratch/user/psi4.<span class="nv">$PBS_JOBID</span>

foreach i <span class="o">(</span><span class="sb">`</span>sort <span class="nv">$PBS_NODEFILE</span> <span class="p">|</span> uniq<span class="sb">`</span><span class="o">)</span>
    <span class="nb">echo</span> <span class="s2">&quot;Creating scratch directory &quot;</span> <span class="nv">$myscratch</span> <span class="s2">&quot; on &quot;</span> <span class="nv">$i</span>
    ssh <span class="nv">$i</span> rm -rf <span class="nv">$myscratch</span>
    ssh <span class="nv">$i</span> mkdir -p <span class="nv">$myscratch</span>
end

unsetenv PSIDATADIR
setenv PSI_SCRATCH <span class="nv">$myscratch</span>
<span class="k">if</span> ! <span class="o">(</span> <span class="nv">$?</span>PSIPATH <span class="o">)</span> setenv PSIPATH <span class="s2">&quot;&quot;</span>
setenv PSIPATH /path/to/external/modules:<span class="si">${</span><span class="nv">PSIPATH</span><span class="si">}</span>
setenv PSIPATH /path/to/python/modules:<span class="si">${</span><span class="nv">PSIPATH</span><span class="si">}</span>
/psi/install/directory/bin/psi4 -i input.in -o input.out -n <span class="m">4</span>

foreach i <span class="o">(</span><span class="sb">`</span>sort <span class="nv">$PBS_NODEFILE</span> <span class="p">|</span> uniq<span class="sb">`</span><span class="o">)</span>
    <span class="nb">echo</span> <span class="s2">&quot;Removing scratch directory &quot;</span> <span class="nv">$myscratch</span> <span class="s2">&quot; on &quot;</span> <span class="nv">$i</span>
    ssh <span class="nv">$i</span> rm -rf <span class="nv">$myscratch</span>
end
</pre></div>
</div>
<p>The top section features PBS-specific commands. These depend on the
specific characteristics of your PBS queuing system but they may include:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/bin/tcsh</span>
<span class="c1">#PBS -j oe</span>
<span class="c1">#PBS -l pmem=2120mb</span>
<span class="c1">#PBS -N jobname</span>
<span class="c1">#PBS -V</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">PBS</span> <span class="pre">-j</span> <span class="pre">oe</span></code> option instructs PBS to write any output or error message
from the queuing system in dedicated files. <code class="docutils literal notranslate"><span class="pre">PBS</span> <span class="pre">-l</span> <span class="pre">pmem=2120mb</span></code> requests
2120 MB of memory for each thread on the node. The total memory requested for
the job by PBS should generally be slightly greater than what indicated
in the input file (see <a class="reference internal" href="psithoninput.html#sec-memory"><span class="std std-ref">memory setting</span></a>).</p>
<p>Then, we move to the working directory using PBS variable <code class="docutils literal notranslate"><span class="pre">$PBS_O_WORKDIR</span></code> and
we create scratch directories on every node, using the <code class="docutils literal notranslate"><span class="pre">$PBS_NODEFILE</span></code> which
points to a file containing a list of the nodes attributed to the job.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> <span class="nv">$PBS_O_WORKDIR</span>
setenv myscratch /scratch/user/psi4.<span class="nv">$PBS_JOBID</span>

foreach i <span class="o">(</span><span class="sb">`</span>sort <span class="nv">$PBS_NODEFILE</span> <span class="p">|</span> uniq<span class="sb">`</span><span class="o">)</span>
    <span class="nb">echo</span> <span class="s2">&quot;Creating scratch directory &quot;</span> <span class="nv">$myscratch</span> <span class="s2">&quot; on &quot;</span> <span class="nv">$i</span>
    ssh <span class="nv">$i</span> rm -rf <span class="nv">$myscratch</span>
    ssh <span class="nv">$i</span> mkdir -p <span class="nv">$myscratch</span>
end
</pre></div>
</div>
<p>The next section is <em>very important</em> as it sets the environment variables needed
by <span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>unsetenv PSIDATADIR
setenv PSI_SCRATCH <span class="nv">$myscratch</span>
<span class="k">if</span> ! <span class="o">(</span> <span class="nv">$?</span>PSIPATH <span class="o">)</span> setenv PSIPATH <span class="s2">&quot;&quot;</span>
setenv PSIPATH /path/to/external/modules:<span class="si">${</span><span class="nv">PSIPATH</span><span class="si">}</span>
setenv PSIPATH /path/to/python/modules:<span class="si">${</span><span class="nv">PSIPATH</span><span class="si">}</span>
</pre></div>
</div>
<p><span class="target" id="index-10"></span><a class="reference internal" href="#envvar-PSIDATADIR"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PSIDATADIR</span></code></a> does <em>not</em> need to be set.
In the present example we unset it to make sure it does not interfere with the internal location-finding.
<span class="target" id="index-11"></span><a class="reference internal" href="#envvar-PSIPATH"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PSIPATH</span></code></a> is needed only if you are using external modules or
plugins in <span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span> and should point to the directories where they can be found. In the
present example, we make sure the variable is set with <code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">!</span> <span class="pre">(</span> <span class="pre">$?PSIPATH</span> <span class="pre">)</span> <span class="pre">setenv</span> <span class="pre">PSIPATH</span> <span class="pre">&quot;&quot;</span></code>
before adding more paths to it. Finally, <span class="target" id="index-12"></span><a class="reference internal" href="#envvar-PSI_SCRATCH"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PSI_SCRATCH</span></code></a> should point to a fast, existing
local disk for temporary file storage. To use 4 threads for OpenMP parallelization
and threaded BLAS (see section <a class="reference internal" href="#sec-threading"><span class="std std-ref">Threading</span></a>), we set <code class="docutils literal notranslate"><span class="pre">-n4</span></code> below.
The next step is then to actually run the computation:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="o">/</span><span class="n">psi</span><span class="o">/</span><span class="n">install</span><span class="o">/</span><span class="n">directory</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">psi4</span> <span class="o">-</span><span class="n">i</span> <span class="nb">input</span><span class="o">.</span><span class="ow">in</span> <span class="o">-</span><span class="n">o</span> <span class="nb">input</span><span class="o">.</span><span class="n">out</span> <span class="o">-</span><span class="n">n</span> <span class="mi">4</span>
</pre></div>
</div>
<p>And then to clean up the scratch directories previously created:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>foreach i <span class="o">(</span><span class="sb">`</span>sort <span class="nv">$PBS_NODEFILE</span> <span class="p">|</span> uniq<span class="sb">`</span><span class="o">)</span>
    <span class="nb">echo</span> <span class="s2">&quot;Removing scratch directory &quot;</span> <span class="nv">$myscratch</span> <span class="s2">&quot; on &quot;</span> <span class="nv">$i</span>
    ssh <span class="nv">$i</span> rm -rf <span class="nv">$myscratch</span>
end
</pre></div>
</div>
<p>Note again that the specific commands for your PBS system may differ. Refer
to your system administrator.</p>
</section>
<section id="command-line-options">
<span id="sec-commandlineoptions"></span><h2>Command Line Options<a class="headerlink" href="#command-line-options" title="Permalink to this headline">¶</a></h2>
<p><span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span> can be invoked with no command line arguments, as it takes as input
by default the file “input.dat” and directs output by default to “output.dat”.
Each set of three commands below is completely equivalent, while the second set,
perhaps, is the most common usage.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">psi4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">psi4</span> <span class="o">-</span><span class="n">i</span> <span class="nb">input</span><span class="o">.</span><span class="n">dat</span> <span class="o">-</span><span class="n">o</span> <span class="n">output</span><span class="o">.</span><span class="n">dat</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">psi4</span> <span class="nb">input</span><span class="o">.</span><span class="n">dat</span> <span class="n">output</span><span class="o">.</span><span class="n">dat</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">psi4</span> <span class="n">descriptive_filename</span><span class="o">.</span><span class="ow">in</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">psi4</span> <span class="o">-</span><span class="n">i</span> <span class="n">descriptive_filename</span><span class="o">.</span><span class="ow">in</span> <span class="o">-</span><span class="n">o</span> <span class="n">descriptive_filename</span><span class="o">.</span><span class="n">out</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">psi4</span> <span class="n">descriptive_filename</span><span class="o">.</span><span class="ow">in</span> <span class="n">descriptive_filename</span><span class="o">.</span><span class="n">out</span>
</pre></div>
</div>
<p>Command-line arguments to <span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span> can be accessed through <a class="reference internal" href="#cmdoption-psi4-h"><code class="xref std std-option docutils literal notranslate"><span class="pre">psi4</span> <span class="pre">--help</span></code></a>.</p>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-psi4-a">
<span class="sig-name descname"><span class="pre">-a</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--append</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-psi4-a" title="Permalink to this definition">¶</a></dt>
<dd><p>Append results to output file. Default: Truncate first</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-psi4-h">
<span class="sig-name descname"><span class="pre">-h</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--help</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-psi4-h" title="Permalink to this definition">¶</a></dt>
<dd><p>Display the command-line options and usage information.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-psi4-i">
<span class="sig-name descname"><span class="pre">-i</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;filename&gt;</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--input</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;filename&gt;</span></span><a class="headerlink" href="#cmdoption-psi4-i" title="Permalink to this definition">¶</a></dt>
<dd><p>Input file name. Default: input.dat</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-psi4-inplace">
<span class="sig-name descname"><span class="pre">--inplace</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-psi4-inplace" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs <span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span> with compiled code from &lt;objdir&gt; but driver code from source,
so no need to <code class="docutils literal notranslate"><span class="pre">make</span></code> between Python edits. Expert mode.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-psi4-k">
<span class="sig-name descname"><span class="pre">-k</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--skip-preprocessor</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-psi4-k" title="Permalink to this definition">¶</a></dt>
<dd><p>Skips input preprocessing. Expert mode.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-psi4-l">
<span class="sig-name descname"><span class="pre">-l</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;name&gt;</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--psidatadir</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;name&gt;</span></span><a class="headerlink" href="#cmdoption-psi4-l" title="Permalink to this definition">¶</a></dt>
<dd><p>Overrides the value of
<span class="target" id="index-13"></span><a class="reference internal" href="#envvar-PSIDATADIR"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PSIDATADIR</span></code></a> and specifies the path to the Psi data
library (ends in <code class="docutils literal notranslate"><span class="pre">share/psi4</span></code>). Expert mode.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-psi4-m">
<span class="sig-name descname"><span class="pre">-m</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--messy</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-psi4-m" title="Permalink to this definition">¶</a></dt>
<dd><p>Leave temporary files after the run is completed.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-psi4-memory">
<span class="sig-name descname"><span class="pre">--memory</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;memory&gt;</span></span><a class="headerlink" href="#cmdoption-psi4-memory" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>The amount of memory to use. Can be specified with units (e.g., ‘10MB’) otherwise bytes is assumed.</p>
</div></blockquote>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-psi4-n">
<span class="sig-name descname"><span class="pre">-n</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;threads&gt;</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--nthread</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;threads&gt;</span></span><a class="headerlink" href="#cmdoption-psi4-n" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of threads to use (overrides <span class="target" id="index-14"></span><a class="reference internal" href="#envvar-OMP_NUM_THREADS"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">OMP_NUM_THREADS</span></code></a>).
Also controls the testing parallelism with pytest.</p>
</dd></dl>

</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-psi4-o">
<span class="sig-name descname"><span class="pre">-o</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;filename&gt;</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--output</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;filename&gt;</span></span><a class="headerlink" href="#cmdoption-psi4-o" title="Permalink to this definition">¶</a></dt>
<dd><p>Output file name. Use <code class="docutils literal notranslate"><span class="pre">stdout</span></code> as &lt;filename&gt; to redirect
to the screen. Default: when the input filename is “input.dat”,
then the output filename defaults to “output.dat”.  Otherwise, the
output filename defaults to the the input filename with
“.out” extension.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-psi4-psiapi-path">
<span class="sig-name descname"><span class="pre">--psiapi-path</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-psi4-psiapi-path" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates a bash command to source correct Python interpreter and path for <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">-c</span> <span class="pre">&quot;import</span> <span class="pre">psi4&quot;</span></code></p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-psi4-qcschema">
<span class="sig-name descname"><span class="pre">--qcschema</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-psi4-qcschema" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs input files as QCSchema. Can either be JSON or MessagePack input.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-psi4-s">
<span class="sig-name descname"><span class="pre">-s</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;name&gt;</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--scratch</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;name&gt;</span></span><a class="headerlink" href="#cmdoption-psi4-s" title="Permalink to this definition">¶</a></dt>
<dd><p>This overrides the value of <span class="target" id="index-15"></span><a class="reference internal" href="#envvar-PSI_SCRATCH"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PSI_SCRATCH</span></code></a> and provides
a path to the location of scratch files</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-psi4-t">
<span class="sig-name descname"><span class="pre">-t</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;subset&gt;</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--test</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;subset&gt;</span></span><a class="headerlink" href="#cmdoption-psi4-t" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs pytest tests. If <code class="docutils literal notranslate"><span class="pre">pytest-xdist</span></code> installed, parallel with <a class="reference internal" href="#cmdoption-psi4-n"><code class="xref std std-option docutils literal notranslate"><span class="pre">-n</span></code></a>.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-psi4-v">
<span class="sig-name descname"><span class="pre">-v</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--verbose</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-psi4-v" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the Psithon to Python translation of the input file</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-psi4-V">
<span class="sig-name descname"><span class="pre">-V</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--version</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-psi4-V" title="Permalink to this definition">¶</a></dt>
<dd><p>Print version information.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># stable release</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">psi4</span> <span class="o">--</span><span class="n">version</span>
<span class="mf">1.3.2</span>

<span class="c1"># development snapshot between 1.3 and 1.4</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">psi4</span> <span class="o">--</span><span class="n">version</span>
<span class="mf">1.4</span><span class="n">a2</span><span class="o">.</span><span class="n">dev525</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="environment-variables">
<span id="sec-environmentvariables"></span><h2>Environment Variables<a class="headerlink" href="#environment-variables" title="Permalink to this headline">¶</a></h2>
<p>These environment variables will influence <span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span>‘s behavior.</p>
<dl class="std envvar">
<dt class="sig sig-object std" id="envvar-CONDA_PREFIX">
<span class="sig-name descname"><span class="pre">CONDA_PREFIX</span></span><a class="headerlink" href="#envvar-CONDA_PREFIX" title="Permalink to this definition">¶</a></dt>
<dd><p>Set when a conda environment is activated. Note that if <span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span> has been
built against any library in CONDA_PREFIX, the path has been baked into the
program, so any available dependencies are liable to been loaded from the environment.</p>
</dd></dl>

<dl class="std envvar">
<dt class="sig sig-object std" id="envvar-HOST">
<span class="sig-name descname"><span class="pre">HOST</span></span><a class="headerlink" href="#envvar-HOST" title="Permalink to this definition">¶</a></dt>
<dd><p>Set when a conda environment with conda compilers is activated. Used
when compatibly building <span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span> from source against conda
dependencies.</p>
</dd></dl>

<dl class="std envvar">
<dt class="sig sig-object std" id="envvar-MKL_NUM_THREADS">
<span class="sig-name descname"><span class="pre">MKL_NUM_THREADS</span></span><a class="headerlink" href="#envvar-MKL_NUM_THREADS" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of threads to use by operations with Intel threaded BLAS libraries.</p>
</dd></dl>

<dl class="std envvar">
<dt class="sig sig-object std" id="envvar-OMP_NESTED">
<span class="sig-name descname"><span class="pre">OMP_NESTED</span></span><a class="headerlink" href="#envvar-OMP_NESTED" title="Permalink to this definition">¶</a></dt>
<dd><p>Do access nested DGEMM in OpenMP sections in DFMP2 for multi-socket
platforms. This is very low-level access to OpenMP functions for
experienced programmers. Users should leave this variable unset or set
to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
</dd></dl>

<dl class="std envvar">
<dt class="sig sig-object std" id="envvar-OMP_NUM_THREADS">
<span class="sig-name descname"><span class="pre">OMP_NUM_THREADS</span></span><a class="headerlink" href="#envvar-OMP_NUM_THREADS" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of threads to use by modules with OpenMP threading.</p>
</dd></dl>

<dl class="std envvar">
<dt class="sig sig-object std" id="envvar-PATH">
<span class="sig-name descname"><span class="pre">PATH</span></span><a class="headerlink" href="#envvar-PATH" title="Permalink to this definition">¶</a></dt>
<dd><p>Path for interfaced executables.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>While once configuring <span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span> through <span class="target" id="index-16"></span><a class="reference internal" href="#envvar-PSIPATH"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PSIPATH</span></code></a> was preferred
to modifying this environment variable, now <cite>PATH</cite> is preferred for
executables to accommodate QCEngine.</p>
</div>
<p>To run Kállay’s MRCC program
(see <a class="reference internal" href="mrcc.html#sec-mrcc"><span class="std std-ref">MRCC</span></a>), the <code class="docutils literal notranslate"><span class="pre">dmrcc</span></code> executable must be in <span class="target" id="index-17"></span><a class="reference internal" href="#envvar-PATH"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PATH</span></code></a>.
Likewise to run Grimme’s dftd3 program (see <a class="reference internal" href="dftd3.html#sec-dftd3"><span class="std std-ref">dftd3</span></a>), the
<code class="docutils literal notranslate"><span class="pre">dftd3</span></code> executable must be in <span class="target" id="index-18"></span><a class="reference internal" href="#envvar-PATH"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PATH</span></code></a>.</p>
</dd></dl>

<dl class="std envvar">
<dt class="sig sig-object std" id="envvar-PSI_SCRATCH">
<span class="sig-name descname"><span class="pre">PSI_SCRATCH</span></span><a class="headerlink" href="#envvar-PSI_SCRATCH" title="Permalink to this definition">¶</a></dt>
<dd><p>Directory where scratch files are written. Overrides settings in <code class="file docutils literal notranslate"><span class="pre">~/.psi4rc</span></code>.
It is very important to ensure that <span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span> is writing its scratch files
to a disk drive physically attached to the computer running the computation.
If it is not, it will significantly slow down the program and the network.</p>
<p>Modify <span class="target" id="index-19"></span><a class="reference internal" href="#envvar-PSI_SCRATCH"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PSI_SCRATCH</span></code></a> through normal Linux shell commands before invoking <strong class="command">psi4</strong></p>
<div class="highlight-tcsh notranslate"><div class="highlight"><pre><span></span><span class="c"># csh, tcsh: add to shell or ~/.tcshrc file</span>
<span class="nb">setenv </span>PSI_SCRATCH /scratch/user
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># sh, bash: add to shell or ~/.bashrc (Linux/Windows) or ~/.bash_profile (Mac) file</span>
<span class="nb">export</span> <span class="nv">PSI_SCRATCH</span><span class="o">=</span>/scratch/user
</pre></div>
</div>
</dd></dl>

<dl class="std envvar">
<dt class="sig sig-object std" id="envvar-PSIPATH">
<span class="sig-name descname"><span class="pre">PSIPATH</span></span><a class="headerlink" href="#envvar-PSIPATH" title="Permalink to this definition">¶</a></dt>
<dd><p>Path in which <span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span> looks for user extensions to the built-in
libraries. Specifically, directories containing
<a class="reference internal" href="basissets.html#sec-basisuserdefined"><span class="std std-ref">user basis sets</span></a>,
<a class="reference internal" href="libefp.html#sec-findingefpfragments"><span class="std std-ref">EFP fragments</span></a>,
<a class="reference internal" href="quickadddatabase.html#sec-createdatabase"><span class="std std-ref">databases</span></a>,
<a class="reference internal" href="plugins.html#sec-plugins"><span class="std std-ref">plugins</span></a>, and
interfaced executables (
<code class="docutils literal notranslate"><span class="pre">dmrcc</span></code> for <a class="reference internal" href="mrcc.html#sec-mrcc"><span class="std std-ref">MRCC</span></a> and
<code class="docutils literal notranslate"><span class="pre">dftd3</span></code> for <a class="reference internal" href="dftd3.html#sec-dftd3"><span class="std std-ref">DFTD3</span></a>
) should be placed in this colon-separated list.</p>
<p><span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span> is designed so that user extensions that are findable through
<span class="target" id="index-20"></span><a class="reference internal" href="#envvar-PSIPATH"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PSIPATH</span></code></a> can be used in input files entirely like their
built-in counterparts, without additional tagging as non-standard.</p>
<p>The typical search path is first the built-in libraries, next each
<span class="target" id="index-21"></span><a class="reference internal" href="#envvar-PSIPATH"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PSIPATH</span></code></a> directory in order, and finally the execution
directory (I won’t swear everything tacks on the execution directory).</p>
<p>Path in which the Python interpreter looks for modules to import. For
<span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span>, these are generally <a class="reference internal" href="plugins.html#sec-plugins"><span class="std std-ref">plugins</span></a> or databases.</p>
<p>Modify <span class="target" id="index-22"></span><a class="reference internal" href="#envvar-PSIPATH"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PSIPATH</span></code></a> through normal Linux shell commands before invoking <strong class="command">psi4</strong></p>
<div class="highlight-tcsh notranslate"><div class="highlight"><pre><span></span><span class="c"># csh, tcsh: add to shell or ~/.tcshrc file</span>
<span class="nb">setenv </span>PSIPATH /home/user/psiadditions:/home/user/gbs
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># sh, bash: add to shell or ~/.bashrc (Linux/Windows) or ~/.bash_profile (Mac) file</span>
<span class="nb">export</span> <span class="nv">PSIPATH</span><span class="o">=</span>/home/user/psiadditions:/home/user/gbs
</pre></div>
</div>
</dd></dl>

<dl class="std envvar">
<dt class="sig sig-object std" id="envvar-PYTHONPATH">
<span class="sig-name descname"><span class="pre">PYTHONPATH</span></span><a class="headerlink" href="#envvar-PYTHONPATH" title="Permalink to this definition">¶</a></dt>
<dd><p>Path in which the Python interpreter looks for modules to import. For
<span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span>, these are generally <a class="reference internal" href="plugins.html#sec-plugins"><span class="std std-ref">plugins</span></a> or databases.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>While once configuring <span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span> through <span class="target" id="index-23"></span><a class="reference internal" href="#envvar-PSIPATH"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PSIPATH</span></code></a> was preferred
to modifying this environment variable, now <cite>PYTHONPATH</cite> is preferred for
Python moduels to accommodate QCEngine.</p>
</div>
<p>Modification of <span class="target" id="index-24"></span><a class="reference internal" href="#envvar-PYTHONPATH"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PYTHONPATH</span></code></a> can be done in three ways, equivalently.</p>
<ul>
<li><p>Normal Linux shell commands.</p>
<div class="highlight-tcsh notranslate"><div class="highlight"><pre><span></span><span class="c"># csh, tcsh: add to shell or ~/.tcshrc file</span>
<span class="nb">setenv </span>PYTHONPATH /home/user/psiadditions:<span class="nv">$PYTHONPATH</span>
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># sh, bash: add to shell or ~/.bashrc (Linux/Windows) or ~/.bash_profile (Mac) file</span>
<span class="nb">export</span> <span class="nv">PYTHONPATH</span><span class="o">=</span>/home/user/psiadditions:<span class="nv">$PYTHONPATH</span>
</pre></div>
</div>
</li>
<li><p>Place the path in the <code class="file docutils literal notranslate"><span class="pre">~/.psi4rc</span></code> file so that it is available for
every <span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span> instance.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;/home/user/psiadditions&#39;</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p>Place the path in the input file, either absolute or relative.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;../../psiadditions&#39;</span><span class="p">)</span>
<span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;/home/user/psiadditions&#39;</span><span class="p">)</span>
</pre></div>
</div>
</li>
</ul>
</dd></dl>

<dl class="std envvar">
<dt class="sig sig-object std" id="envvar-PSIDATADIR">
<span class="sig-name descname"><span class="pre">PSIDATADIR</span></span><a class="headerlink" href="#envvar-PSIDATADIR" title="Permalink to this definition">¶</a></dt>
<dd><p>Path in which the <span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span> executable looks for its non-compiled
dependencies (<em>i.e.</em>, basis sets, databases, quadratures, <em>etc.</em>).
This path is always known by the <span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span> program or shared library,
so this variable is relevant primarily to developers wanting a
non-standard location. Value should be set
to directory containing driver, basis, <em>etc.</em> directories, generally
ending in <code class="docutils literal notranslate"><span class="pre">share/psi4</span></code>.</p>
</dd></dl>

</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
        <p class="logo"><a href="index.html" title="index">
          <img class="logo" src="_static/psi4square.png" alt="Logo"/>
        </a></p><!-- 
#
# @BEGIN LICENSE
#
# Psi4: an open-source quantum chemistry software package
#
# Copyright (c) 2007-2017 The Psi4 Developers.
#
# The copyrights for code used from other parties are included in
# the corresponding files.
#
# This file is part of Psi4.
#
# Psi4 is free software; you can redistribute it and/or modify
# it under the terms of the GNU Lesser General Public License as published by
# the Free Software Foundation, version 3.
#
# Psi4 is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU Lesser General Public License for more details.
#
# You should have received a copy of the GNU Lesser General Public License along
# with Psi4; if not, write to the Free Software Foundation, Inc.,
# 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.
#
# @END LICENSE
# -->


<div id="searchbox" style="display: none" role="search">
  <!--<h3>Quick search</h3>-->
    <form class="search" action="search.html" method="get">
      <!--<div><input type="text" name="q" placeholder="search docs" /></div>-->
      <div><input type="text" name="q" placeholder="&#xF002;" style="font-family:FontAwesome, Ariel" /></div>
      <!--<div><input type="submit" value="Go" /></div>-->
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><div class="sphinx-toc sphinxlocaltoc">
    <h3><a href="index.html">table of contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">Installation and Runtime Configuration</a><ul>
<li><a class="reference internal" href="#scratch-files-and-elementary-restart">Scratch Files and Elementary Restart</a></li>
<li><a class="reference internal" href="#psirc-file"><code class="file docutils literal notranslate"><span class="pre">~/.psi4rc</span></code> File</a></li>
<li><a class="reference internal" href="#threading">Threading</a></li>
<li><a class="reference internal" href="#pbs-job-file">PBS job file</a></li>
<li><a class="reference internal" href="#command-line-options">Command Line Options</a></li>
<li><a class="reference internal" href="#environment-variables">Environment Variables</a></li>
</ul>
</li>
</ul>

  </div>
        </div>
      </div>
    
    
        <div class="sidebar-toggle-group no-js">
            
            <button class="sidebar-toggle" id="sidebar-hide" title="Hide the sidebar menu">
                 «
                <span class="show-for-small">hide menu</span>
                
            </button>
            <button class="sidebar-toggle" id="sidebar-show" title="Show the sidebar menu">
                
                <span class="show-for-small">menu</span>
                <span class="hide-for-small">sidebar</span>
                 »
            </button>
        </div>
    
      <div class="clearer"></div>
    </div>
    <div class="relbar-bottom">
        
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >Index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="build_faq.html" title="Build &amp; Run FAQ"
             ><i class="fa fa-long-arrow-right fa-lg"></i></a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="cfour_table_grad.html" title="&lt;no title&gt;"
             ><i class="fa fa-long-arrow-left fa-lg"></i></a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="index.html" title="Table Of Contents"
             ><i class="fa fa-book fa-lg"></i></a> &nbsp; &nbsp;</li>
    <li><a href="http://psicode.org/"><i class="fa fa-home fa-lg"></i></a></li>
    <li><a href="http://github.com/psi4/psi4"><i class="fa fa-github fa-lg"></i></a></li>
    <li><a href="http://forum.psicode.org"><i class="fa fa-comments-o fa-lg"></i></a></li>
    <li><a href="http://github.com/psi4/psi4/edit/master/doc/sphinxman/source/external.rst"><i class="fa fa-pencil fa-lg"></i></a></li>
    <li style="color: #1a4162">&nbsp;&middot;&nbsp;</li>
    <li><a href="http://github.com/psi4/psi4/tree/ff26262">undefined</a></li>
    <li style="color: #1a4162">&nbsp;&middot;&nbsp;</li>
    <li class="nav-item nav-item-0"><a href="index.html">
        <span style="font-family: Optima, sans-serif;">P<span style="font-size: 82%;">SI</span>4</span>
        </a><i class="fa fa-angle-double-right" style="color: #a2a7b3; text-shadow: none;"></i></li>

        <li class="nav-item nav-item-this"><a href="">Installation and Runtime Configuration</a></li> 
      </ul>
    </div>
    </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2021, The Psi4 Project.
      Last updated on Friday, 04 June 2021 04:07PM.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.0.2.
    </div>
    <!-- cloud_sptheme 1.4 -->
  </body>
</html>