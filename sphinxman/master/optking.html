<!-- 
#
# @BEGIN LICENSE
#
# Psi4: an open-source quantum chemistry software package
#
# Copyright (c) 2007-2017 The Psi4 Developers.
#
# The copyrights for code used from other parties are included in
# the corresponding files.
#
# This file is part of Psi4.
#
# Psi4 is free software; you can redistribute it and/or modify
# it under the terms of the GNU Lesser General Public License as published by
# the Free Software Foundation, version 3.
#
# Psi4 is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU Lesser General Public License for more details.
#
# You should have received a copy of the GNU Lesser General Public License along
# with Psi4; if not, write to the Free Software Foundation, Inc.,
# 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.
#
# @END LICENSE
# -->





<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Geometry Optimization</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=88a353b9" />
    <link rel="stylesheet" type="text/css" href="_static/psi4.css?v=5cda37dd" />
    <link rel="stylesheet" type="text/css" href="_static/graphviz.css?v=fd3f3429" />
    <link rel="stylesheet" type="text/css" href="_static/autodoc_pydantic.css" />
    <link rel="stylesheet" type="text/css" href="_static/tabs.css?v=a5c4661c" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css" type="text/css" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noticia+Text:400,i,b,bi|Open+Sans:400,i,b,bi|Roboto+Mono:400,i,b,bi&amp;display=swap" type="text/css" />
    
    <script src="_static/documentation_options.js?v=08eecf87"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

    
    
     
        <script src="_static/jquery.cookie.js"></script>
    

    
     
        <script src="_static/cloud.base.js"></script>
    

    
     
        <script src="_static/cloud.js"></script>
    

    <link rel="icon" href="_static/favicon-psi4.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Evaluation of One-Electron Properties — oeprop()" href="oeprop.html" />
    <link rel="prev" title="Scalar Relativistic Hamiltonians" href="relativistic.html" /> 
        <meta name="viewport" content="width=device-width, initial-scale=1">
  </head><body>
    <div class="relbar-top">
        
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">Index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="oeprop.html" title="Evaluation of One-Electron Properties — oeprop()"
             accesskey="N"><i class="fa fa-long-arrow-right fa-lg"></i></a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="relativistic.html" title="Scalar Relativistic Hamiltonians"
             accesskey="P"><i class="fa fa-long-arrow-left fa-lg"></i></a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="index.html" title="Table Of Contents"
             accesskey="C"><i class="fa fa-book fa-lg"></i></a> &nbsp; &nbsp;</li>
    <li><a href="http://psicode.org/"><i class="fa fa-home fa-lg"></i></a></li>
    <li><a href="http://github.com/psi4/psi4"><i class="fa fa-github fa-lg"></i></a></li>
    <li><a href="http://forum.psicode.org"><i class="fa fa-comments-o fa-lg"></i></a></li>
    <li><a href="http://github.com/psi4/psi4/edit/master/doc/sphinxman/source/optking.rst"><i class="fa fa-pencil fa-lg"></i></a></li>
    <li style="color: #1a4162">&nbsp;&middot;&nbsp;</li>
    <li><a href="http://github.com/psi4/psi4/tree/68ce344">1.11a1.dev21</a></li>
    <li style="color: #1a4162">&nbsp;&middot;&nbsp;</li>
    <li class="nav-item nav-item-0"><a href="index.html">
        <span style="font-family: Optima, sans-serif;">P<span style="font-size: 82%;">SI</span>4</span>
        </a><i class="fa fa-angle-double-right" style="color: #a2a7b3; text-shadow: none;"></i></li>

          <li class="nav-item nav-item-1"><a href="methods.html" accesskey="U">Theoretical Methods: SCF to FCI</a><i class="fa fa-angle-double-right" style="color: #a2a7b3; text-shadow: none;"></i></li>
        <li class="nav-item nav-item-this"><a href="">Geometry Optimization</a></li> 
      </ul>
    </div>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="geometry-optimization">
<span id="sec-optking"></span><span id="index-0"></span><h1>Geometry Optimization<a class="headerlink" href="#geometry-optimization" title="Link to this heading">¶</a></h1>
<p><em>Code author: Rollin A. King and Alexander G. Heide</em></p>
<p><em>Section author: Rollin A. King, Alexander G. Heide, and Lori A. Burns</em></p>
<p><em>Module:</em> <a class="reference internal" href="autodir_options_c/module__optking.html#apdx-optking"><span class="std std-ref">Keywords</span></a>, <a class="reference external" href="https://github.com/psi-rking/optking">OPTKING</a></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>As of version <cite>1.10</cite>, the validation of OptKing’s options has been moved from <span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span> into
OptKing. Any options can still be set directly in <span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span> like in previous versions; however,
validation of any OptKing keywords will not take place until optimize is called.
If an option is not available in your version of <span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span> please make sure that <span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span>
and OptKing are up-to-date. If an option is still not available, use the <code class="docutils literal notranslate"><span class="pre">optimizer_keywords</span></code>
argument to <a class="reference internal" href="api/psi4.driver.optimize.html#psi4.driver.optimize" title="psi4.driver.optimize"><code class="xref py py-func docutils literal notranslate"><span class="pre">optimize()</span></code></a>.</p>
</div>
<p><span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span> carries out molecular optimizations using a Python module called
optking.  The optking program takes as input nuclear gradients and,
optionally, nuclear second derivatives — both in Cartesian coordinates.
The default minimization algorithm employs an empirical model Hessian,
redundant internal coordinates, an RFO step with trust radius scaling, and the BFGS Hessian update.</p>
<p>The principal literature references include the introduction of redundant
internal coordinates by Peng et al. <a class="reference internal" href="bibliography.html#peng-1996-49" id="id1"><span>[Peng:1996:49]</span></a>.
The general approach employed in this code
is similar to the “model Hessian plus RF method” described and tested by Bakken and
Helgaker <a class="reference internal" href="bibliography.html#bakken-2002-9160" id="id2"><span>[Bakken:2002:9160]</span></a>. However, for separated
fragments, we have chosen not to employ their “extra-redundant” coordinates.</p>
<p>The internal coordinates are generated automatically based on an assumed bond
connectivity.  The connectivity is determined by testing if the interatomic
distance is less than the sum of atomic radii times the value of
<a class="reference internal" href="#optking.v1.optparams.OptParams.covalent_connect" title="optking.v1.optparams.OptParams.covalent_connect"><code class="xref py py-attr docutils literal notranslate"><span class="pre">covalent_connect</span></code></a>. If the user finds that some
connectivity is lacking by default, then this value may be increased.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The selection of a Z-matrix input, and in particular the inclusion
of dummy atoms, has no effect on the behavior of the optimizer, which begins
from a Cartesian representation of the system.</p>
</div>
<p id="dimerintro">Presently, by default, separate fragments are bonded by the
nearest atoms, and the whole system is treated as if it were part of one
molecule. However, with the option <a class="reference internal" href="#optking.v1.optparams.OptParams.frag_mode" title="optking.v1.optparams.OptParams.frag_mode"><code class="xref py py-attr docutils literal notranslate"><span class="pre">frag_mode</span></code></a>, fragments
may instead be related by a minimal set of interfragment coordinates defined by
reference points within each fragment.  The reference points can be atomic
positions (current default) or linear combinations of atomic positions
(automatic use of principal axes is under development).
These <cite>dimer coordinates</cite> can be directly specified through <a class="reference internal" href="#optking.v1.optparams.OptParams.interfrag_coords" title="optking.v1.optparams.OptParams.interfrag_coords"><code class="xref py py-attr docutils literal notranslate"><span class="pre">interfrag_coords</span></code></a>)
See <cite>here &lt;DimerSection_&gt;</cite> for two examples of their use.</p>
<section id="basic-keywords">
<h2>Basic Keywords<a class="headerlink" href="#basic-keywords" title="Link to this heading">¶</a></h2>
<dl class="py attribute pydantic_field">
<dt class="sig sig-object py">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">OptParams.</span></span><span class="sig-name descname"><span class="pre">OPT_TYPE</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'MIN'</span></em></dt>
<dd><p>One of <code class="docutils literal notranslate"><span class="pre">[&quot;MIN&quot;,</span> <span class="pre">&quot;TS&quot;,</span> <span class="pre">or</span> <span class="pre">&quot;IRC&quot;]</span></code>. <code class="docutils literal notranslate"><span class="pre">OPT_TYPE</span></code> will be changed if <code class="docutils literal notranslate"><span class="pre">OPT_TYPE</span></code>
is not provided, but <code class="docutils literal notranslate"><span class="pre">STEP_TYPE</span></code> is provided, and the two are inconsistent. If both are
provided but are inconsistent, an error will be raised.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head" colspan="6"><p>Allowed <code class="docutils literal notranslate"><span class="pre">opt_type</span></code> and <code class="docutils literal notranslate"><span class="pre">step_type</span></code> values</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">opt_type</span></code></p></td>
<td colspan="5"><p>compatible <code class="docutils literal notranslate"><span class="pre">step_type</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>MIN</p></td>
<td><p><strong>RFO</strong></p></td>
<td><p>NR</p></td>
<td><p>SD</p></td>
<td><p>LINESEARCH</p></td>
<td><p>Conjugate</p></td>
</tr>
<tr class="row-even"><td><p>TS</p></td>
<td><p><strong>RS_I_RFO</strong></p></td>
<td colspan="4"><p>P_RFO</p></td>
</tr>
<tr class="row-odd"><td><p>IRC</p></td>
<td colspan="5"><p>N/A</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Constraints<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pattern</strong> = (?i)^(?:MIN|TS|IRC)$</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">OptParams.</span></span><span class="sig-name descname"><span class="pre">STEP_TYPE</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'RFO'</span></em></dt>
<dd><p>One of <code class="docutils literal notranslate"><span class="pre">[&quot;RFO&quot;,</span> <span class="pre">&quot;RS_I_RFO&quot;,</span> <span class="pre">&quot;P_RFO&quot;,</span> <span class="pre">&quot;NR&quot;,</span> <span class="pre">&quot;SD&quot;,</span> <span class="pre">&quot;LINESEARCH&quot;,</span> <span class="pre">&quot;CONJUGATE&quot;]</span></code>. If <code class="docutils literal notranslate"><span class="pre">OPT_TYPE</span></code>
is <code class="docutils literal notranslate"><span class="pre">TS</span></code> and <code class="docutils literal notranslate"><span class="pre">STEP_TYPE</span></code> is not specified then <code class="docutils literal notranslate"><span class="pre">STEP_TYPE</span></code> will be set to <code class="docutils literal notranslate"><span class="pre">RS_I_RFO</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Constraints<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pattern</strong> = (?i)^(?:RFO|RS_I_RFO|P_RFO|NR|SD|LINESEARCH|CONJUGATE)$</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">OptParams.</span></span><span class="sig-name descname"><span class="pre">GEOM_MAXITER</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/functions.html#int" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">50</span></em></dt>
<dd><p>The maximum number of geometry optimization steps allowed - Technically this is
the maximum number of gradients that Optking is allowed to calculate.</p>
<dl class="field-list simple">
<dt class="field-odd">Constraints<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>exclusiveMinimum</strong> = 0</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">OptParams.</span></span><span class="sig-name descname"><span class="pre">G_CONVERGENCE</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'QCHEM'</span></em></dt>
<dd><p>A set of optimization criteria covering the change in energy, magnitude of the forces and
the step_size. One of <code class="docutils literal notranslate"><span class="pre">[&quot;QCHEM&quot;,</span> <span class="pre">&quot;MOLPRO&quot;,</span> <span class="pre">&quot;GAU&quot;,</span> <span class="pre">&quot;GAU_LOOSE&quot;,</span> <span class="pre">&quot;GAU_TIGHT&quot;,</span> <span class="pre">&quot;GAU_VERYTIGHT&quot;,</span>
<span class="pre">&quot;TURBOMOLE&quot;,</span> <span class="pre">&quot;CFOUR&quot;,</span> <span class="pre">&quot;NWCHEM_LOOSE&quot;,</span> <span class="pre">&quot;INTERFRAG_TIGHT&quot;]</span></code>. Specification of any
<code class="docutils literal notranslate"><span class="pre">MAX_*_G_CONVERGENCE</span></code> or <code class="docutils literal notranslate"><span class="pre">RMS_*_G_CONVERGENCE</span></code> options will overwrite the criteria set here.
If <code class="docutils literal notranslate"><span class="pre">flexible_g_convergence</span></code> is also on then the specified keyword will be appended.
See Table <a class="reference internal" href="#table-optkingconv"><span class="std std-ref">Geometry Convergence</span></a> for details.</p>
<dl class="field-list simple">
<dt class="field-odd">Constraints<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pattern</strong> = (?i)^(?:QCHEM|MOLPRO|GAU|GAU_LOOSE|GAU_TIGHT|GAU_VERYTIGHT|TURBOMOLE|CFOUR|NWCHEM_LOOSE|INTERFRAG_TIGHT)$</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">OptParams.</span></span><span class="sig-name descname"><span class="pre">FULL_HESS_EVERY</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/functions.html#int" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">-1</span></em></dt>
<dd><p>Frequency with which to compute the full Hessian in the course
of a geometry optimization. 0 means to compute the initial Hessian only,
1 means recompute every step, and N means recompute every N steps. -1 indicates that the
full hessian should never be computed.</p>
<dl class="field-list simple">
<dt class="field-odd">Constraints<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>minimum</strong> = -1</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="optimizing-minima">
<span id="sec-optkingexamples"></span><span id="index-1"></span><h2>Optimizing Minima<a class="headerlink" href="#optimizing-minima" title="Link to this heading">¶</a></h2>
<p>First, define the molecule and basis in the input.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">molecule</span> <span class="n">h2o</span> <span class="p">{</span>
  <span class="n">O</span>
  <span class="n">H</span> <span class="mi">1</span> <span class="mf">1.0</span>
  <span class="n">H</span> <span class="mi">1</span> <span class="mf">1.0</span> <span class="mi">2</span> <span class="mf">105.0</span>
<span class="p">}</span>

<span class="nb">set</span> <span class="n">basis</span> <span class="n">dz</span>
</pre></div>
</div>
<p>Then the following are examples of various types of calculations that can be completed.</p>
<ul>
<li><p>Optimize a geometry using default methods (RFO step):</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">optimize</span><span class="p">(</span><span class="s1">&#39;scf&#39;</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p>Optimize using Newton-Raphson steps instead of RFO steps:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">set</span> <span class="n">step_type</span> <span class="n">nr</span>
<span class="n">optimize</span><span class="p">(</span><span class="s1">&#39;scf&#39;</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p>Optimize using finite differences of energies instead of gradients:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">optimize</span><span class="p">(</span><span class="s1">&#39;scf&#39;</span><span class="p">,</span> <span class="n">dertype</span><span class="o">=</span><span class="s1">&#39;energy&#39;</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p>Optimize while limiting the initial step size to 0.1 au:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">set</span> <span class="n">intrafrag_step_limit</span> <span class="mf">0.1</span>
<span class="n">optimize</span><span class="p">(</span><span class="s1">&#39;scf&#39;</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p>Optimize while always limiting the step size to 0.1 au:</p></li>
</ul>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set {
  intrafrag_step_limit     0.1
  intrafrag_step_limit_min 0.1
  intrafrag_step_limit_max 0.1
}

optimize(&#39;scf&#39;)
</pre></div>
</div>
<ul class="simple">
<li><p>Optimize while calculating the Hessian at every step:</p></li>
</ul>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set full_hess_every 1
optimize(&#39;scf&#39;)
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>import optking
</pre></div>
</div>
</section>
<section id="hessian">
<h2>Hessian<a class="headerlink" href="#hessian" title="Link to this heading">¶</a></h2>
<p>If Cartesian second derivatives are available, optking can read them
and transform them into internal coordinates to make an initial Hessian in
internal coordinates.  Otherwise, several empirical Hessians are available,
including those of Schlegel <a class="reference internal" href="bibliography.html#schlegel-1984-333" id="id3"><span>[Schlegel:1984:333]</span></a> and Fischer and Almlof
<a class="reference internal" href="bibliography.html#fischer-1992-9770" id="id4"><span>[Fischer:1992:9770]</span></a>.
Either of these or a simple diagonal Hessian may be selected using the
<a class="reference internal" href="#optking.v1.optparams.OptParams.intrafrag_hess" title="optking.v1.optparams.OptParams.intrafrag_hess"><code class="xref py py-attr docutils literal notranslate"><span class="pre">intrafrag_hess</span></code></a> keyword.</p>
<p>All the common Hessian update schemes are available.  For formulas, see
Schlegel <a class="reference internal" href="bibliography.html#schlegel-1987-aimqc" id="id5"><span>[Schlegel:1987:AIMQC]</span></a> and Bofill <a class="reference internal" href="bibliography.html#bofill-1994-1" id="id6"><span>[Bofill:1994:1]</span></a>.</p>
<p>The Hessian may be computed during an optimization using the
<a class="reference internal" href="#optking.v1.optparams.OptParams.full_hess_every" title="optking.v1.optparams.OptParams.full_hess_every"><code class="xref py py-attr docutils literal notranslate"><span class="pre">full_hess_every</span></code></a> keyword.</p>
</section>
<section id="transition-states-and-reaction-paths">
<span id="index-2"></span><h2>Transition States and Reaction Paths<a class="headerlink" href="#transition-states-and-reaction-paths" title="Link to this heading">¶</a></h2>
<p>Optking currently has two transition state algorithms. The current default is the
newer RS_I_RFO algorithm <a class="reference internal" href="bibliography.html#besalu-1998-265" id="id7"><span>[Besalu:1998:265]</span></a> . The old algorithm can be used by setting
<code class="docutils literal notranslate"><span class="pre">STEP_TYPE</span> <span class="pre">P_RFO</span></code> for <code class="docutils literal notranslate"><span class="pre">OPT_TYPE</span> <span class="pre">TS</span></code></p>
<ul>
<li><p>Calculate a starting Hessian and optimize the “transition state” of
linear water (note that without a reasonable starting geometry and
Hessian, such a straightforward search often fails):</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">molecule</span> <span class="n">h2o</span> <span class="p">{</span>
   <span class="n">O</span>
   <span class="n">H</span> <span class="mi">1</span> <span class="mf">1.0</span>
   <span class="n">H</span> <span class="mi">1</span> <span class="mf">1.0</span> <span class="mi">2</span> <span class="mf">160.0</span>
<span class="p">}</span>

<span class="nb">set</span> <span class="p">{</span>
   <span class="n">basis</span> <span class="n">dz</span>
   <span class="n">full_hess_every</span> <span class="mi">0</span>
   <span class="n">opt_type</span> <span class="n">ts</span>
<span class="p">}</span>

<span class="n">optimize</span><span class="p">(</span><span class="s1">&#39;scf&#39;</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p>At a transition state (planar HOOH), compute the second derivative, and
then follow the intrinsic reaction path to the minimum:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">molecule</span> <span class="n">hooh</span> <span class="p">{</span>
   <span class="n">symmetry</span> <span class="n">c1</span>
   <span class="n">H</span>
   <span class="n">O</span> <span class="mi">1</span> <span class="mf">0.946347</span>
   <span class="n">O</span> <span class="mi">2</span> <span class="mf">1.397780</span> <span class="mi">1</span>  <span class="mf">107.243777</span>
   <span class="n">H</span> <span class="mi">3</span> <span class="mf">0.946347</span> <span class="mi">2</span>  <span class="mf">107.243777</span>   <span class="mi">1</span> <span class="mf">0.0</span>
<span class="p">}</span>

<span class="nb">set</span> <span class="p">{</span>
   <span class="n">basis</span> <span class="n">dzp</span>
   <span class="n">opt_type</span> <span class="n">irc</span>
   <span class="n">geom_maxiter</span> <span class="mi">50</span>
<span class="p">}</span>

<span class="n">frequencies</span><span class="p">(</span><span class="s1">&#39;scf&#39;</span><span class="p">)</span>
<span class="n">optimize</span><span class="p">(</span><span class="s1">&#39;scf&#39;</span><span class="p">)</span>
</pre></div>
</div>
</li>
</ul>
</section>
<section id="constrained-optimizations">
<h2>Constrained Optimizations<a class="headerlink" href="#constrained-optimizations" title="Link to this heading">¶</a></h2>
<ul>
<li><p>Optimize a geometry (HOOH) at a frozen dihedral angle of 90 degrees.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">molecule</span> <span class="p">{</span>
  <span class="n">H</span>
  <span class="n">O</span> <span class="mi">1</span> <span class="mf">0.90</span>
  <span class="n">O</span> <span class="mi">2</span> <span class="mf">1.40</span> <span class="mi">1</span> <span class="mf">100.0</span>
  <span class="n">H</span> <span class="mi">3</span> <span class="mf">0.90</span> <span class="mi">2</span> <span class="mf">100.0</span> <span class="mi">1</span> <span class="mf">90.0</span>
<span class="p">}</span>

<span class="nb">set</span> <span class="n">optking</span> <span class="p">{</span>
  <span class="n">frozen_dihedral</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;</span>
    <span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">4</span>
  <span class="s2">&quot;)</span>
<span class="p">}</span>
<span class="n">optimize</span><span class="p">(</span><span class="s1">&#39;scf&#39;</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p>To instead freeze the two O-H bond distances</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">set</span> <span class="n">optking</span> <span class="p">{</span>
  <span class="n">frozen_distance</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;</span>
    <span class="mi">1</span>  <span class="mi">2</span>
    <span class="mi">3</span>  <span class="mi">4</span>
  <span class="s2">&quot;)</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
</ul>
<p>For bends, the corresponding keyword is “frozen_bend”.</p>
<ul class="simple">
<li><p>To freeze the cartesian coordinates of atom 2</p></li>
</ul>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>freeze_list = &quot;&quot;&quot;
  2 xyz
&quot;&quot;&quot;
set optking frozen_cartesian $freeze_list
</pre></div>
</div>
<ul class="simple">
<li><p>To freeze only the y coordinates of atoms 2 and 3</p></li>
</ul>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>freeze_list = &quot;&quot;&quot;
  2 y
  3 y
&quot;&quot;&quot;
set optking frozen_cartesian $freeze_list
</pre></div>
</div>
<ul class="simple">
<li><p>To optimize toward a value of 0.95 Angstroms for the distance between
atoms 1 and 3, as well as that between 2 and 4</p></li>
</ul>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set optking {
  ranged_distance = (&quot;
    1  3 0.949 0.95
    2  4 0.949 0.95
  &quot;)
}
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The effect of the frozen and ranged keywords is generally independent of
how the geometry of the molecule was input (whether Z-matrix or Cartesian, etc.)..
At this time; however, enforcing Cartesian constraints when using a zmatrix for
molecular input is not supported. Freezing or constraining Cartesian coordinates
requires Cartesian molecule input. If numerical errors results in symmetry
breaking, while Cartesian constraints are active, symmetrization cannot occur and
an error will be raised, prompting you to restart the job.</p>
</div>
<ul class="simple">
<li><p>As a shortcut, the entire set of dihedral angles can be frozen. A subset can then be unfrozen if desired.</p></li>
</ul>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set {
        freeze_all_dihedrals true
        unfreeze_dihedrals &quot;1 2 3 4&quot;
}
</pre></div>
</div>
<ul class="simple">
<li><p>To scan the potential energy surface by optimizing at several fixed values
of the dihedral angle of HOOH.</p></li>
</ul>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>molecule hooh {
  0 1
  H  0.850718   0.772960    0.563468
  O  0.120432   0.684669   -0.035503
  O -0.120432  -0.684669   -0.035503
  H -0.850718  -0.772960    0.563468
}

set {
  basis cc-pvdz
  intrafrag_step_limit 0.1
}

lower_bound = [99.99, 109.99, 119.99, 129.99, 149.99]
upper_bound = [100, 110, 120, 130, 140, 150]
PES = []

for lower, upper in zip(lower_bound, upper_bound):
my_string = f&quot;1 2 3 4 {lower} {upper}&quot;
set optking ranged_dihedral = $my_string
E = optimize(&#39;scf&#39;)
PES.append((upper, E))

print(&quot;\n\tcc-pVDZ SCF energy as a function of phi\n&quot;)
for point in PES:
  print(&quot;\t%5.1f%20.10f&quot; % (point[0], point[1]))
</pre></div>
</div>
<ul class="simple">
<li><p>To scan the potential energy surface without the <a class="reference internal" href="#optking.v1.optparams.OptParams.ranged_dihedral" title="optking.v1.optparams.OptParams.ranged_dihedral"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ranged_dihedral</span></code></a> keyword, a zmatrix
can be used.</p></li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Rotating dihedrals in large increments without allowing the molecule to relax
in between increments can lead to unphysical geometries with overlapping functional groups in larger molecules,
which may prevent successful constrained optimzations. Furthermore, such a relaxed scan of the PES does
not always procude a result close to an IRC, or even a reaction path along which the energy changes in a
continuous way.</p>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>molecule hooh {
  0 1
  H
  O 1 0.95
  O 2 1.39 1 103
  H 3 0.95 2 103 1 D

  D = 99

  units ang
}

set {
  basis cc-pvdz
  intrafrag_step_limit 0.1
  frozen_dihedral (&quot; 1 2 3 4 &quot;)
}

dihedrals = [100, 110, 120, 130, 140, 150]
PES = []

for phi in dihedrals:
  hooh.D = phi
  E = optimize(&#39;scf&#39;)
  PES.append((phi, E))

print(&quot;\n\tcc-pVDZ SCF energy as a function of phi\n&quot;)
for point in PES:
  print(&quot;\t%5.1f%20.10f&quot; % (point[0], point[1]))
</pre></div>
</div>
</section>
<section id="multi-fragment-optimizations">
<h2>Multi-Fragment Optimizations<a class="headerlink" href="#multi-fragment-optimizations" title="Link to this heading">¶</a></h2>
<p id="dimersection">In previous versions of optking, the metric for connecting atoms was increased until all atoms
were connected. This is the current behavior for <a class="reference internal" href="#optking.v1.optparams.OptParams.frag_mode" title="optking.v1.optparams.OptParams.frag_mode"><code class="xref py py-attr docutils literal notranslate"><span class="pre">frag_mode</span></code></a> <code class="docutils literal notranslate"><span class="pre">single`</span></code>.
Setting <a class="reference internal" href="#optking.v1.optparams.OptParams.frag_mode" title="optking.v1.optparams.OptParams.frag_mode"><code class="xref py py-attr docutils literal notranslate"><span class="pre">frag_mode</span></code></a> to <code class="docutils literal notranslate"><span class="pre">multi</span></code> will now add a special
set of intermolecular coordinates between fragments - internally referred to as DimerFrag
coordinates (see <cite>here &lt;DimerIntro_&gt;</cite> for the brief description).
For each pair of molecular fragments, a set of up to 3 reference points
are chosen on each fragment. Each reference point will be either an atom or a linear combination
of positions of atoms within that fragment. Stretches, bends, and dihedral angles between the two
fragments will be created using these reference points. See
<a class="reference internal" href="#table-dimerfrag"><span class="std std-ref">Dimer coordinate table</span></a> for how reference points are created.
For a set of three dimers A, B, and C, sets of coordinates are created between each pair:
AB, AC, and BC. Each <cite>DimerFrag</cite> may use different reference points.
Creation of the intermolecular coordinates can be controlled through <a class="reference internal" href="#optking.v1.optparams.OptParams.frag_ref_atoms" title="optking.v1.optparams.OptParams.frag_ref_atoms"><code class="xref py py-attr docutils literal notranslate"><span class="pre">frag_ref_atoms</span></code></a>
and <a class="reference internal" href="#optking.v1.optparams.OptParams.interfrag_coords" title="optking.v1.optparams.OptParams.interfrag_coords"><code class="xref py py-attr docutils literal notranslate"><span class="pre">interfrag_coords</span></code></a>. <a class="reference internal" href="#optking.v1.optparams.OptParams.frag_ref_atoms" title="optking.v1.optparams.OptParams.frag_ref_atoms"><code class="xref py py-attr docutils literal notranslate"><span class="pre">frag_ref_atoms</span></code></a> specifies which atoms
(or linear combination of atoms) to use for the reference points and <a class="reference internal" href="#optking.v1.optparams.OptParams.interfrag_coords" title="optking.v1.optparams.OptParams.interfrag_coords"><code class="xref py py-attr docutils literal notranslate"><span class="pre">interfrag_coords</span></code></a>,
which encompasses <a class="reference internal" href="#optking.v1.optparams.OptParams.frag_ref_atoms" title="optking.v1.optparams.OptParams.frag_ref_atoms"><code class="xref py py-attr docutils literal notranslate"><span class="pre">frag_ref_atoms</span></code></a>, allows for constraints and labels to be added to the
intermolecular coordinates.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Manual specification of the interfragment coordinates is supported for power users,
and provides complete control of fragments’ relative orientations.
Setting <a class="reference internal" href="#optking.v1.optparams.OptParams.interfrag_mode" title="optking.v1.optparams.OptParams.interfrag_mode"><code class="xref py py-attr docutils literal notranslate"><span class="pre">interfrag_mode</span></code></a> to <cite>multi</cite> should suffice in almost all cases.
<a class="reference internal" href="#table-dimerfrag"><span class="std std-ref">Dimer coordinate table</span></a>. provides the name and ordering
convention for the coordinates.</p>
</div>
<ul class="simple">
<li><p>Basic multi-fragment optimization. Use automatically generated reference points.</p></li>
</ul>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>memory 4GB
molecule mol {
    0 1
    O   -0.5026452583       -0.9681078610       -0.4772692868
    H   -2.3292990446       -1.1611084524       -0.4772692868
    H   -0.8887241813        0.8340933116       -0.4772692868
    --
    0 1
    C    0.8853463281       -5.2235996493        0.5504918473
    C    1.8139169342       -2.1992967152        3.8040686146
    C    2.8624456357       -4.1143863257        0.5409035710
    C   -0.6240195463       -4.8153482424        2.1904642137
    C   -0.1646305764       -3.3031992532        3.8141619690
    C    3.3271056135       -2.6064153737        2.1669340785
    H    0.5244823836       -6.4459192939       -0.7478283184
    H    4.0823309159       -4.4449979205       -0.7680411190
    H   -2.2074914566       -5.7109913627        2.2110247636
    H   -1.3768100495       -2.9846751653        5.1327625515
    H    4.9209603634       -1.7288723155        2.1638694922
    H    2.1923374156       -0.9964630692        5.1155773223
    nocom
    units au
}

set {
    basis 6-31+G
    frag_mode MULTI
}

optimize(&quot;mp2&quot;)
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The molecule input for psi4 has no effect upon optking, expect to provide Cartesian
coordinates. Specifying independent fragments with the <cite>–</cite> seperator, will not trigger
optking to add specific interfragment coordinates. Use <a class="reference internal" href="#optking.v1.optparams.OptParams.frag_mode" title="optking.v1.optparams.OptParams.frag_mode"><code class="xref py py-attr docutils literal notranslate"><span class="pre">frag_mode</span></code></a> <code class="docutils literal notranslate"><span class="pre">multi</span></code>.</p>
</div>
<ul class="simple">
<li><p>Specify the reference points to use for coordinates via <a class="reference internal" href="#optking.v1.optparams.OptParams.frag_ref_atoms" title="optking.v1.optparams.OptParams.frag_ref_atoms"><code class="xref py py-attr docutils literal notranslate"><span class="pre">frag_ref_atoms</span></code></a>.
Each list corresponds to a fragment. A list of indices denotes a linear combination
of the atoms. In this case, the first reference point for the second fragment is the center
of the benzene ring. Indexing starts at 1, so the second fragment in this example starts at index 4.</p></li>
</ul>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>memory 4GB
molecule mol {
    0 1
    O   -0.5026452583       -0.9681078610       -0.4772692868
    H   -2.3292990446       -1.1611084524       -0.4772692868
    H   -0.8887241813        0.8340933116       -0.4772692868
    --
    0 1
    C    0.8853463281       -5.2235996493        0.5504918473
    C    1.8139169342       -2.1992967152        3.8040686146
    C    2.8624456357       -4.1143863257        0.5409035710
    C   -0.6240195463       -4.8153482424        2.1904642137
    C   -0.1646305764       -3.3031992532        3.8141619690
    C    3.3271056135       -2.6064153737        2.1669340785
    H    0.5244823836       -6.4459192939       -0.7478283184
    H    4.0823309159       -4.4449979205       -0.7680411190
    H   -2.2074914566       -5.7109913627        2.2110247636
    H   -1.3768100495       -2.9846751653        5.1327625515
    H    4.9209603634       -1.7288723155        2.1638694922
    H    2.1923374156       -0.9964630692        5.1155773223
    nocom
    units au
}

set {
    basis 6-31+G
    frag_mode MULTI

    # The line below specifies the reference points that will be used to construct the
    # interfragment coordinates between the two fragments (called A and B).
    # The format is the following:
    # [[A-1], [A-2], [A-3]], [[B-1], [B-2], [B-3]]
    #
    # In terms of atoms within each fragment, the line below chooses, for water:
    # H3 of water for the first reference point, O1 of water for the second reference point, and
    # H2 of water for the third reference point.
    # For benzene: the mean of the positions of all the C atoms, C2, one of the Carbon atoms,
    # and C6, another one of the carbon atoms.

    frag_ref_atoms [
        [[3], [1], [2]], [[4, 5, 6, 7, 8, 9], [5], [9]]
    ]
}

optimize(&quot;mp2&quot;)
</pre></div>
</div>
<p>For even greater control, a dictionary can be passed to <a class="reference internal" href="#optking.v1.optparams.OptParams.interfrag_coords" title="optking.v1.optparams.OptParams.interfrag_coords"><code class="xref py py-attr docutils literal notranslate"><span class="pre">interfrag_coords</span></code></a></p>
<p>The coordinates that are created between two dimers depend upon the number of atoms present
The fragments <cite>A</cite> and <cite>B</cite> have up to 3 reference atoms each as shown in
<a class="reference internal" href="#table-dimerfrag"><span class="std std-ref">Dimer coordinate table</span></a>.
The interfragment coordinates are named and can be frozen according to their names as show in
example below. For specifying reference points, use 1 based indexing.</p>
<span id="table-dimerfrag"></span><table class="docutils align-default" id="id25">
<caption><span class="caption-text">Dimer coordinates</span><a class="headerlink" href="#id25" title="Link to this table">¶</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>name</p></th>
<th class="head"><p>type</p></th>
<th class="head"><p>atom-labels</p></th>
<th class="head"><p>present, if</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>RAB</p></td>
<td><p>distance</p></td>
<td><p>A0-B0</p></td>
<td><p>always</p></td>
</tr>
<tr class="row-odd"><td><p>theta_A</p></td>
<td><p>angle</p></td>
<td><p>A1-A0-B0</p></td>
<td><p>A has &gt; 1 atom</p></td>
</tr>
<tr class="row-even"><td><p>theta_B</p></td>
<td><p>angle</p></td>
<td><p>A0-B0-B1</p></td>
<td><p>B has &gt; 1 atom</p></td>
</tr>
<tr class="row-odd"><td><p>tau</p></td>
<td><p>dihedral</p></td>
<td><p>A1-A0-B0-B1</p></td>
<td><p>A and B have &gt; 1 atom</p></td>
</tr>
<tr class="row-even"><td><p>phi_A</p></td>
<td><p>dihedral</p></td>
<td><p>A2-A1-A0-B0</p></td>
<td><p>A has &gt; 2 atoms. Is not linear</p></td>
</tr>
<tr class="row-odd"><td><p>phi_B</p></td>
<td><p>dihedral</p></td>
<td><p>A0-B0-B1-B2</p></td>
<td><p>B has &gt; 2 atoms. Is not linear</p></td>
</tr>
</tbody>
</table>
<ul class="simple">
<li><p>A constrained optimization is performed where the orientation of the two fragments is fixed but
the distance between the fragments and all intrafragment coordinates are allowed to relax. In this
example, the centers of the benzene and thiophene rings are selected for the first reference points.
The methyl groups carbon and one hydrogen are selected for the other two reference points on the
first fragments. For fragment two, two carbons of the benzene ring are chosen for the other reference points.</p></li>
</ul>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>memory 4GB
molecule mol {
  C       -1.258686      0.546935      0.436840
  H       -0.683650      1.200389      1.102833
  C       -0.699036     -0.349093     -0.396608
  C       -2.693370      0.550414      0.355311
  H       -3.336987      1.206824      0.952052
  C       -3.159324     -0.343127     -0.536418
  H       -4.199699     -0.558111     -0.805894
  S       -1.883829     -1.212288     -1.301525
  C        0.786082     -0.656530     -0.606057
  H        1.387673     -0.016033      0.048976
  H        1.054892     -0.465272     -1.651226
  H        0.978834     -1.708370     -0.365860
  --
  C       -6.955593     -0.119764     -1.395442
  C       -6.977905     -0.135060      1.376787
  C       -7.111625      1.067403     -0.697024
  C       -6.810717     -1.314577     -0.707746
  C       -6.821873     -1.322226      0.678369
  C       -7.122781      1.059754      0.689090
  H       -7.226173      2.012097     -1.240759
  H       -6.687348     -2.253224     -1.259958
  H       -6.707325     -2.266920      1.222105
  H       -7.246150      1.998400      1.241304
  O       -6.944245     -0.111984     -2.805375
  H       -7.058224      0.807436     -3.049180
  C       -6.990227     -0.143507      2.907714
  H       -8.018305     -0.274985      3.264065
  H       -6.592753      0.807024      3.281508
  H       -6.368443     -0.968607      3.273516
  nocom
  unit angstrom
}

# Create a python dictionary and convert to string for pass through to optking
MTdimer = &quot;&quot;&quot;{
   &quot;Natoms per frag&quot;: [12, 16],
   &quot;A Frag&quot;: 1,
   &quot;A Ref Atoms&quot;: [[1, 3, 4, 6, 8], [8], [11]],
   &quot;A Label&quot;: &quot;methylthiophene&quot;,
   &quot;B Frag&quot;: 2,
   &quot;B Ref Atoms&quot;: [[13, 14, 15, 16, 17, 18], [13], [15]],
   &quot;B Label&quot;: &quot;tyrosine&quot;,
   &quot;Frozen&quot;: [&quot;theta_A&quot;, &quot;theta_B&quot;, &quot;tau&quot;, &quot;phi_A&quot;, &quot;phi_B&quot;],
}&quot;&quot;&quot;

set {
    basis 6-31+G
    frag_mode MULTI
    interfrag_coords $MTdimer
}

optimize(&quot;mp2&quot;)
</pre></div>
</div>
</section>
<section id="dealing-with-problematic-optimizations">
<h2>Dealing with problematic optimizations<a class="headerlink" href="#dealing-with-problematic-optimizations" title="Link to this heading">¶</a></h2>
<p>Although optking is continuously improved with robustness in mind, some
attempted optimizations will inevitably fail to converge to the desired minima.
For difficult cases, the following suggestions are made.</p>
<ul class="simple">
<li><p>As for any optimizer, computing the Hessian and limiting the step size will
successfully converge a higher percentage of cases.  The default settings have
been chosen because they perform efficiently for common, representative test sets.
More restrictive, cautious steps are sometimes necessary.</p></li>
<li><p><a class="reference internal" href="#optking.v1.optparams.OptParams.dynamic_level" title="optking.v1.optparams.OptParams.dynamic_level"><code class="xref py py-attr docutils literal notranslate"><span class="pre">dynamic_level</span></code></a> allows optking to change the method of optimization
toward algorithms that, while often less efficient, may help to converge difficult
cases.  If this is initially set to 1, then optking, as poor steps are detected,
will increase the dynamic level through several forms of more robust and cautious algorithms.
The changes will reduce the trust radius, allow backward steps (partial line
searching), add cartesian coordinates, switch to cartesian coordinates, and take
steepest-descent steps.</p></li>
<li><p>The developers have found the <a class="reference internal" href="#optking.v1.optparams.OptParams.opt_coordinates" title="optking.v1.optparams.OptParams.opt_coordinates"><code class="xref py py-attr docutils literal notranslate"><span class="pre">opt_coordinates</span></code></a> set to “BOTH” which
includes both the redundant internal coordinate set, as well as cartesian coordinates,
works well for systems with long ‘arms’ or floppy portions of a molecule poorly
described by local internals.</p></li>
<li><p>Optking does support the specification of ghost atoms. Certain internal coordinates such
as torsions become poorly defined when they contain near-linear bends.
An internal error <cite>AlgError</cite> may be raised in such cases. Optking will avoid such
coordinates when choosing an initial coordinate system; however, they may arise in the course
of an optimization. In such cases, try restarting from the most recent geometry.
Alternatively, setting <a class="reference internal" href="#optking.v1.optparams.OptParams.opt_coordinates" title="optking.v1.optparams.OptParams.opt_coordinates"><code class="xref py py-attr docutils literal notranslate"><span class="pre">opt_coordinates</span></code></a> to cartesian will avoid any internal
coordinate difficulties altogether. These coordinate changes can be automatically
performed by turning <a class="reference internal" href="#optking.v1.optparams.OptParams.dynamic_level" title="optking.v1.optparams.OptParams.dynamic_level"><code class="xref py py-attr docutils literal notranslate"><span class="pre">dynamic_level</span></code></a> to 1.</p></li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>In some cases, such as the coordinate issues described above, optking will reset to maintain
a consistent history. If an error occurs in Psi4 due to <a class="reference internal" href="#optking.v1.optparams.OptParams.geom_maxiter" title="optking.v1.optparams.OptParams.geom_maxiter"><code class="xref py py-attr docutils literal notranslate"><span class="pre">geom_maxiter</span></code></a> being exceeded but
the final step report indicates that optking has not taken <a class="reference internal" href="#optking.v1.optparams.OptParams.geom_maxiter" title="optking.v1.optparams.OptParams.geom_maxiter"><code class="xref py py-attr docutils literal notranslate"><span class="pre">geom_maxiter</span></code></a> steps, such a
reset has occured. Inspection will show that the step counter was reset to 1 somewhere in the
optimization.</p>
</div>
</section>
<section id="convergence-criteria">
<span id="index-3"></span><h2>Convergence Criteria<a class="headerlink" href="#convergence-criteria" title="Link to this heading">¶</a></h2>
<p>Optking monitors five quantities to evaluate the progress of a geometry
optimization. These are (with their keywords) the change in energy
(<a class="reference internal" href="#optking.v1.optparams.OptParams.conv_max_DE" title="optking.v1.optparams.OptParams.conv_max_DE"><code class="xref py py-attr docutils literal notranslate"><span class="pre">max_energy_g_convergence</span></code></a>), the maximum element of
the gradient (<a class="reference internal" href="#optking.v1.optparams.OptParams.conv_max_force" title="optking.v1.optparams.OptParams.conv_max_force"><code class="xref py py-attr docutils literal notranslate"><span class="pre">max_force_g_convergence</span></code></a>), the root-mean-square
of the gradient (<a class="reference internal" href="#optking.v1.optparams.OptParams.conv_rms_force" title="optking.v1.optparams.OptParams.conv_rms_force"><code class="xref py py-attr docutils literal notranslate"><span class="pre">rms_force_g_convergence</span></code></a>), the maximum element
of displacement (<a class="reference internal" href="#optking.v1.optparams.OptParams.conv_max_disp" title="optking.v1.optparams.OptParams.conv_max_disp"><code class="xref py py-attr docutils literal notranslate"><span class="pre">max_disp_g_convergence</span></code></a>), and the
root-mean-square of displacement (<a class="reference internal" href="#optking.v1.optparams.OptParams.conv_rms_disp" title="optking.v1.optparams.OptParams.conv_rms_disp"><code class="xref py py-attr docutils literal notranslate"><span class="pre">rms_disp_g_convergence</span></code></a>),
all in internal coordinates and atomic units. Usually, these options will not
be set directly. Primary control for geometry convergence lies with the keyword
<a class="reference internal" href="#optking.v1.optparams.OptParams.g_convergence" title="optking.v1.optparams.OptParams.g_convergence"><code class="xref py py-attr docutils literal notranslate"><span class="pre">g_convergence</span></code></a> which sets the aforementioned in accordance
with Table <a class="reference internal" href="#table-optkingconv"><span class="std std-ref">Geometry Convergence</span></a>.</p>
<div class="line-block">
<div class="line"><br /></div>
<div class="line"><br /></div>
</div>
<span id="table-optkingconv"></span><table class="docutils align-default" id="id26">
<caption><span class="caption-text">Summary of sets of geometry optimization criteria available in <span style="font-family: Optima, sans-serif; text-transform: none;">P<span style="font-size: 82%;">SI</span>4</span></span><a class="headerlink" href="#id26" title="Link to this table">¶</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p><code class="docutils literal notranslate"><span class="pre">g_convergence</span></code></p></th>
<th class="head"><p>Max Energy</p></th>
<th class="head"><p>Max Force</p></th>
<th class="head"><p>RMS Force</p></th>
<th class="head"><p>Max Disp</p></th>
<th class="head"><p>RMS Disp</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>NWCHEM_LOOSE <a class="footnote-reference brackets" href="#fd" id="id8" role="doc-noteref"><span class="fn-bracket">[</span>4<span class="fn-bracket">]</span></a></p></td>
<td></td>
<td><p><span class="math notranslate nohighlight">\(4.5 \times 10^{-3}\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(3.0 \times 10^{-3}\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(5.4 \times 10^{-3}\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(3.6 \times 10^{-3}\)</span></p></td>
</tr>
<tr class="row-odd"><td><p>GAU_LOOSE <a class="footnote-reference brackets" href="#ff" id="id9" role="doc-noteref"><span class="fn-bracket">[</span>6<span class="fn-bracket">]</span></a></p></td>
<td></td>
<td><p><span class="math notranslate nohighlight">\(2.5 \times 10^{-3}\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(1.7 \times 10^{-3}\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(1.0 \times 10^{-2}\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(6.7 \times 10^{-3}\)</span></p></td>
</tr>
<tr class="row-even"><td><p>TURBOMOLE <a class="footnote-reference brackets" href="#fd" id="id10" role="doc-noteref"><span class="fn-bracket">[</span>4<span class="fn-bracket">]</span></a></p></td>
<td><p><span class="math notranslate nohighlight">\(1.0 \times 10^{-6}\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(1.0 \times 10^{-3}\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(5.0 \times 10^{-4}\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(1.0 \times 10^{-3}\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(5.0 \times 10^{-4}\)</span></p></td>
</tr>
<tr class="row-odd"><td><p>GAU <a class="footnote-reference brackets" href="#fc" id="id11" role="doc-noteref"><span class="fn-bracket">[</span>3<span class="fn-bracket">]</span></a> <a class="footnote-reference brackets" href="#ff" id="id12" role="doc-noteref"><span class="fn-bracket">[</span>6<span class="fn-bracket">]</span></a></p></td>
<td></td>
<td><p><span class="math notranslate nohighlight">\(4.5 \times 10^{-4}\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(3.0 \times 10^{-4}\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(1.8 \times 10^{-3}\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(1.2 \times 10^{-3}\)</span></p></td>
</tr>
<tr class="row-even"><td><p>CFOUR <a class="footnote-reference brackets" href="#fd" id="id13" role="doc-noteref"><span class="fn-bracket">[</span>4<span class="fn-bracket">]</span></a></p></td>
<td></td>
<td></td>
<td><p><span class="math notranslate nohighlight">\(1.0 \times 10^{-4}\)</span></p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>QCHEM <a class="footnote-reference brackets" href="#fa" id="id14" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a> <a class="footnote-reference brackets" href="#fe" id="id15" role="doc-noteref"><span class="fn-bracket">[</span>5<span class="fn-bracket">]</span></a></p></td>
<td><p><span class="math notranslate nohighlight">\(1.0 \times 10^{-6}\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(3.0 \times 10^{-4}\)</span></p></td>
<td></td>
<td><p><span class="math notranslate nohighlight">\(1.2 \times 10^{-3}\)</span></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>MOLPRO <a class="footnote-reference brackets" href="#fb" id="id16" role="doc-noteref"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></a> <a class="footnote-reference brackets" href="#fe" id="id17" role="doc-noteref"><span class="fn-bracket">[</span>5<span class="fn-bracket">]</span></a></p></td>
<td><p><span class="math notranslate nohighlight">\(1.0 \times 10^{-6}\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(3.0 \times 10^{-4}\)</span></p></td>
<td></td>
<td><p><span class="math notranslate nohighlight">\(3.0 \times 10^{-4}\)</span></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>INTERFRAG_TIGHT <a class="footnote-reference brackets" href="#fg" id="id18" role="doc-noteref"><span class="fn-bracket">[</span>7<span class="fn-bracket">]</span></a></p></td>
<td><p><span class="math notranslate nohighlight">\(1.0 \times 10^{-6}\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(1.5 \times 10^{-5}\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(1.0 \times 10^{-5}\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(6.0 \times 10^{-4}\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(4.0 \times 10^{-4}\)</span></p></td>
</tr>
<tr class="row-even"><td><p>GAU_TIGHT <a class="footnote-reference brackets" href="#fc" id="id19" role="doc-noteref"><span class="fn-bracket">[</span>3<span class="fn-bracket">]</span></a> <a class="footnote-reference brackets" href="#ff" id="id20" role="doc-noteref"><span class="fn-bracket">[</span>6<span class="fn-bracket">]</span></a></p></td>
<td></td>
<td><p><span class="math notranslate nohighlight">\(1.5 \times 10^{-5}\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(1.0 \times 10^{-5}\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(6.0 \times 10^{-5}\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(4.0 \times 10^{-5}\)</span></p></td>
</tr>
<tr class="row-odd"><td><p>GAU_VERYTIGHT <a class="footnote-reference brackets" href="#ff" id="id21" role="doc-noteref"><span class="fn-bracket">[</span>6<span class="fn-bracket">]</span></a></p></td>
<td></td>
<td><p><span class="math notranslate nohighlight">\(2.0 \times 10^{-6}\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(1.0 \times 10^{-6}\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(6.0 \times 10^{-6}\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(4.0 \times 10^{-6}\)</span></p></td>
</tr>
</tbody>
</table>
<p class="rubric">Footnotes</p>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="fa" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id14">1</a><span class="fn-bracket">]</span></span>
<p>Default</p>
</aside>
<aside class="footnote brackets" id="fb" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id16">2</a><span class="fn-bracket">]</span></span>
<p>Baker convergence criteria are the same.</p>
</aside>
<aside class="footnote brackets" id="fc" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span>3<span class="fn-bracket">]</span></span>
<span class="backrefs">(<a role="doc-backlink" href="#id11">1</a>,<a role="doc-backlink" href="#id19">2</a>)</span>
<p>Counterpart NWCHEM convergence criteria are the same.</p>
</aside>
<aside class="footnote brackets" id="fd" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span>4<span class="fn-bracket">]</span></span>
<span class="backrefs">(<a role="doc-backlink" href="#id8">1</a>,<a role="doc-backlink" href="#id10">2</a>,<a role="doc-backlink" href="#id13">3</a>)</span>
<p>Convergence achieved when all active criteria are fulfilled.</p>
</aside>
<aside class="footnote brackets" id="fe" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span>5<span class="fn-bracket">]</span></span>
<span class="backrefs">(<a role="doc-backlink" href="#id15">1</a>,<a role="doc-backlink" href="#id17">2</a>,<a role="doc-backlink" href="#id22">3</a>)</span>
<p>Convergence achieved when <strong>Max Force</strong> and one of <strong>Max Energy</strong> or <strong>Max Disp</strong> are fulfilled.</p>
</aside>
<aside class="footnote brackets" id="ff" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span>6<span class="fn-bracket">]</span></span>
<span class="backrefs">(<a role="doc-backlink" href="#id9">1</a>,<a role="doc-backlink" href="#id12">2</a>,<a role="doc-backlink" href="#id20">3</a>,<a role="doc-backlink" href="#id21">4</a>,<a role="doc-backlink" href="#id23">5</a>)</span>
<p>Normal convergence achieved when all four criteria (<strong>Max Force</strong>, <strong>RMS Force</strong>,
<strong>Max Disp</strong>, and <strong>RMS Disp</strong>) are fulfilled. To help with flat
potential surfaces, alternate convergence achieved when 100<span class="math notranslate nohighlight">\(\times\)</span><em>rms force</em> is less
than <strong>RMS Force</strong> criterion.</p>
</aside>
<aside class="footnote brackets" id="fg" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id18">7</a><span class="fn-bracket">]</span></span>
<p>Compensates for difficulties in converging geometry optmizations of supermolecular complexes
tightly, where large <em>rms disp</em> and <em>max disp</em> may result from flat potential surfaces even when
<em>max force</em> and/or <em>rms force</em> are small.</p>
</aside>
</aside>
<p>For ultimate control, specifying a value for any of the five monitored options activates that
criterium and overwrites/appends it to the criteria set by <a class="reference internal" href="#optking.v1.optparams.OptParams.g_convergence" title="optking.v1.optparams.OptParams.g_convergence"><code class="xref py py-attr docutils literal notranslate"><span class="pre">g_convergence</span></code></a>.
Note that this revokes the special convergence arrangements detailed in notes <a class="footnote-reference brackets" href="#fe" id="id22" role="doc-noteref"><span class="fn-bracket">[</span>5<span class="fn-bracket">]</span></a> and <a class="footnote-reference brackets" href="#ff" id="id23" role="doc-noteref"><span class="fn-bracket">[</span>6<span class="fn-bracket">]</span></a>
and instead requires all active criteria to be fulfilled to
achieve convergence. To avoid this revokation, turn on keyword <a class="reference internal" href="#optking.v1.optparams.OptParams.flexible_g_convergence" title="optking.v1.optparams.OptParams.flexible_g_convergence"><code class="xref py py-attr docutils literal notranslate"><span class="pre">flexible_g_convergence</span></code></a>.</p>
</section>
<section id="interface-to-geometric">
<span id="index-4"></span><h2>Interface to GeomeTRIC<a class="headerlink" href="#interface-to-geometric" title="Link to this heading">¶</a></h2>
<p>The GeomeTRIC optimizer developed by Wang and Song <a class="reference internal" href="bibliography.html#wang-2016-214108" id="id24"><span>[Wang:2016:214108]</span></a> may be used in place of
Psi4’s native Optking optimizer. GeomeTRIC uses a translation-rotation-internal coordinate (TRIC)
system that works well for optimizing geometries of systems containing noncovalent interactions.</p>
<p>Use of the GeomeTRIC optimizer is specified with the <code class="docutils literal notranslate"><span class="pre">engine</span></code> argument to
<a class="reference internal" href="api/psi4.driver.optimize.html#psi4.driver.optimize" title="psi4.driver.optimize"><code class="xref py py-func docutils literal notranslate"><span class="pre">optimize()</span></code></a>. The optimization will respect the keywords <a class="reference internal" href="#optking.v1.optparams.OptParams.g_convergence" title="optking.v1.optparams.OptParams.g_convergence"><code class="xref py py-attr docutils literal notranslate"><span class="pre">g_convergence</span></code></a>
and <a class="reference internal" href="#optking.v1.optparams.OptParams.geom_maxiter" title="optking.v1.optparams.OptParams.geom_maxiter"><code class="xref py py-attr docutils literal notranslate"><span class="pre">geom_maxiter</span></code></a>. Any other GeomeTRIC-specific options (including constraints)
may be specified with the <code class="docutils literal notranslate"><span class="pre">optimizer_keywords</span></code> argument to <a class="reference internal" href="api/psi4.driver.optimize.html#psi4.driver.optimize" title="psi4.driver.optimize"><code class="xref py py-func docutils literal notranslate"><span class="pre">optimize()</span></code></a>.
Constraints may be placed on cartesian coordinates, bonds, angles, and dihedrals, and they can be
used to either freeze a coordinate or set it to a specific value. See the <a class="reference external" href="https://github.com/leeping/geomeTRIC">GeomeTRIC github</a>
for more information on keywords and JSON specification of constraints.</p>
<ul>
<li><p>Optimize the water molecule using GeomeTRIC:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">molecule</span> <span class="n">h2o</span> <span class="p">{</span>
   <span class="n">O</span>
   <span class="n">H</span> <span class="mi">1</span> <span class="mf">1.0</span>
   <span class="n">H</span> <span class="mi">1</span> <span class="mf">1.0</span> <span class="mi">2</span> <span class="mf">160.0</span>
<span class="p">}</span>

<span class="nb">set</span> <span class="p">{</span>
   <span class="n">maxiter</span> <span class="mi">100</span>
   <span class="n">g_convergence</span> <span class="n">gau</span>
<span class="p">}</span>

<span class="n">optimize</span><span class="p">(</span><span class="s1">&#39;hf/cc-pvdz&#39;</span><span class="p">,</span> <span class="n">engine</span><span class="o">=</span><span class="s1">&#39;geometric&#39;</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p>Optimize the water molecule using GeomeTRIC, with one of the two OH bonds constrained to 2.0 au
and the HOH angle constrained to 104.5 degrees:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">molecule</span> <span class="n">h2o</span> <span class="p">{</span>
   <span class="n">O</span>
   <span class="n">H</span> <span class="mi">1</span> <span class="mf">1.0</span>
   <span class="n">H</span> <span class="mi">1</span> <span class="mf">1.0</span> <span class="mi">2</span> <span class="mf">160.0</span>
<span class="p">}</span>

<span class="nb">set</span> <span class="p">{</span>
   <span class="n">maxiter</span> <span class="mi">100</span>
   <span class="n">g_convergence</span> <span class="n">gau</span>
<span class="p">}</span>

<span class="n">geometric_keywords</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">&#39;coordsys&#39;</span> <span class="p">:</span> <span class="s1">&#39;tric&#39;</span><span class="p">,</span>
  <span class="s1">&#39;constraints&#39;</span> <span class="p">:</span> <span class="p">{</span>
  <span class="s1">&#39;set&#39;</span> <span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;type&#39;</span>    <span class="p">:</span> <span class="s1">&#39;distance&#39;</span><span class="p">,</span>
            <span class="s1">&#39;indices&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
            <span class="s1">&#39;value&#39;</span>   <span class="p">:</span> <span class="mf">2.0</span> <span class="p">},</span>
           <span class="p">{</span><span class="s1">&#39;type&#39;</span>    <span class="p">:</span> <span class="s1">&#39;angle&#39;</span><span class="p">,</span>
            <span class="s1">&#39;indices&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
            <span class="s1">&#39;value&#39;</span>   <span class="p">:</span> <span class="mf">104.5</span> <span class="p">}]</span>
   <span class="p">}</span>
<span class="p">}</span>

<span class="n">optimize</span><span class="p">(</span><span class="s1">&#39;hf/cc-pvdz&#39;</span><span class="p">,</span> <span class="n">engine</span><span class="o">=</span><span class="s1">&#39;geometric&#39;</span><span class="p">,</span> <span class="n">optimizer_keywords</span><span class="o">=</span><span class="n">geometric_keywords</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p>Optimize the benzene/water dimer using GeomeTRIC, with the 6 carbon atoms of benzene frozen in
place:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">molecule</span> <span class="n">h2o</span> <span class="p">{</span>
  <span class="n">C</span>            <span class="mf">0.833</span>     <span class="mf">1.221</span>    <span class="o">-</span><span class="mf">0.504</span>
  <span class="n">H</span>            <span class="mf">1.482</span>     <span class="mf">2.086</span>    <span class="o">-</span><span class="mf">0.518</span>
  <span class="n">C</span>            <span class="mf">1.379</span>    <span class="o">-</span><span class="mf">0.055</span>    <span class="o">-</span><span class="mf">0.486</span>
  <span class="n">H</span>            <span class="mf">2.453</span>    <span class="o">-</span><span class="mf">0.184</span>    <span class="o">-</span><span class="mf">0.483</span>
  <span class="n">C</span>            <span class="mf">0.546</span>    <span class="o">-</span><span class="mf">1.167</span>    <span class="o">-</span><span class="mf">0.474</span>
  <span class="n">H</span>            <span class="mf">0.971</span>    <span class="o">-</span><span class="mf">2.162</span>    <span class="o">-</span><span class="mf">0.466</span>
  <span class="n">C</span>           <span class="o">-</span><span class="mf">0.833</span>    <span class="o">-</span><span class="mf">1.001</span>    <span class="o">-</span><span class="mf">0.475</span>
  <span class="n">H</span>           <span class="o">-</span><span class="mf">1.482</span>    <span class="o">-</span><span class="mf">1.867</span>    <span class="o">-</span><span class="mf">0.468</span>
  <span class="n">C</span>           <span class="o">-</span><span class="mf">1.379</span>     <span class="mf">0.275</span>    <span class="o">-</span><span class="mf">0.490</span>
  <span class="n">H</span>           <span class="o">-</span><span class="mf">2.453</span>     <span class="mf">0.404</span>    <span class="o">-</span><span class="mf">0.491</span>
  <span class="n">C</span>           <span class="o">-</span><span class="mf">0.546</span>     <span class="mf">1.386</span>    <span class="o">-</span><span class="mf">0.506</span>
  <span class="n">H</span>           <span class="o">-</span><span class="mf">0.971</span>     <span class="mf">2.381</span>    <span class="o">-</span><span class="mf">0.524</span>
  <span class="o">--</span>
  <span class="n">O</span>            <span class="mf">0.000</span>     <span class="mf">0.147</span>     <span class="mf">3.265</span>
  <span class="n">H</span>            <span class="mf">0.000</span>    <span class="o">-</span><span class="mf">0.505</span>     <span class="mf">2.581</span>
  <span class="n">H</span>            <span class="mf">0.000</span>     <span class="mf">0.965</span>     <span class="mf">2.790</span>
  <span class="n">no_com</span>
  <span class="n">no_reorient</span>
<span class="p">}</span>

<span class="nb">set</span> <span class="p">{</span>
   <span class="n">maxiter</span> <span class="mi">100</span>
   <span class="n">g_convergence</span> <span class="n">gau</span>
<span class="p">}</span>

<span class="n">geometric_keywords</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">&#39;coordsys&#39;</span> <span class="p">:</span> <span class="s1">&#39;tric&#39;</span><span class="p">,</span>
  <span class="s1">&#39;constraints&#39;</span> <span class="p">:</span> <span class="p">{</span>
  <span class="s1">&#39;freeze&#39;</span> <span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;type&#39;</span>    <span class="p">:</span> <span class="s1">&#39;xyz&#39;</span><span class="p">,</span>
               <span class="s1">&#39;indices&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">10</span><span class="p">]}]</span>
   <span class="p">}</span>
<span class="p">}</span>

<span class="n">optimize</span><span class="p">(</span><span class="s1">&#39;hf/cc-pvdz&#39;</span><span class="p">,</span> <span class="n">engine</span><span class="o">=</span><span class="s1">&#39;geometric&#39;</span><span class="p">,</span> <span class="n">optimizer_keywords</span><span class="o">=</span><span class="n">geometric_keywords</span><span class="p">)</span>
</pre></div>
</div>
</li>
</ul>
</section>
<section id="output">
<h2>Output<a class="headerlink" href="#output" title="Link to this heading">¶</a></h2>
<p>The progress of a geometry optimization can be monitored by grepping the output file for the
tilde character (<code class="docutils literal notranslate"><span class="pre">~</span></code>). This produces a table like the one below that shows
for each iteration the value for each of the five quantities and whether the criterion
is active and fulfilled (<code class="docutils literal notranslate"><span class="pre">*</span></code>), active and unfulfilled ( ),  or inactive (<code class="docutils literal notranslate"><span class="pre">o</span></code>).</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="o">---------------------------------------------------------------------------------------------</span> <span class="o">~</span>
 <span class="n">Step</span>     <span class="n">Total</span> <span class="n">Energy</span>     <span class="n">Delta</span> <span class="n">E</span>     <span class="n">MAX</span> <span class="n">Force</span>     <span class="n">RMS</span> <span class="n">Force</span>      <span class="n">MAX</span> <span class="n">Disp</span>      <span class="n">RMS</span> <span class="n">Disp</span>    <span class="o">~</span>
<span class="o">---------------------------------------------------------------------------------------------</span> <span class="o">~</span>
  <span class="n">Convergence</span> <span class="n">Criteria</span>    <span class="mf">1.00e-06</span> <span class="o">*</span>    <span class="mf">3.00e-04</span> <span class="o">*</span>             <span class="n">o</span>    <span class="mf">1.20e-03</span> <span class="o">*</span>             <span class="n">o</span>  <span class="o">~</span>
<span class="o">---------------------------------------------------------------------------------------------</span> <span class="o">~</span>
    <span class="mi">1</span>     <span class="o">-</span><span class="mf">38.91591820</span>   <span class="o">-</span><span class="mf">3.89e+01</span>      <span class="mf">6.91e-02</span>      <span class="mf">5.72e-02</span> <span class="n">o</span>    <span class="mf">1.42e-01</span>      <span class="mf">1.19e-01</span> <span class="n">o</span>  <span class="o">~</span>
    <span class="mi">2</span>     <span class="o">-</span><span class="mf">38.92529543</span>   <span class="o">-</span><span class="mf">9.38e-03</span>      <span class="mf">6.21e-03</span>      <span class="mf">3.91e-03</span> <span class="n">o</span>    <span class="mf">2.00e-02</span>      <span class="mf">1.18e-02</span> <span class="n">o</span>  <span class="o">~</span>
    <span class="mi">3</span>     <span class="o">-</span><span class="mf">38.92540669</span>   <span class="o">-</span><span class="mf">1.11e-04</span>      <span class="mf">4.04e-03</span>      <span class="mf">2.46e-03</span> <span class="n">o</span>    <span class="mf">3.63e-02</span>      <span class="mf">2.12e-02</span> <span class="n">o</span>  <span class="o">~</span>
    <span class="mi">4</span>     <span class="o">-</span><span class="mf">38.92548668</span>   <span class="o">-</span><span class="mf">8.00e-05</span>      <span class="mf">2.30e-04</span> <span class="o">*</span>    <span class="mf">1.92e-04</span> <span class="n">o</span>    <span class="mf">1.99e-03</span>      <span class="mf">1.17e-03</span> <span class="n">o</span>  <span class="o">~</span>
    <span class="mi">5</span>     <span class="o">-</span><span class="mf">38.92548698</span>   <span class="o">-</span><span class="mf">2.98e-07</span> <span class="o">*</span>    <span class="mf">3.95e-05</span> <span class="o">*</span>    <span class="mf">3.35e-05</span> <span class="n">o</span>    <span class="mf">1.37e-04</span> <span class="o">*</span>    <span class="mf">1.05e-04</span> <span class="n">o</span>  <span class="o">~</span>
</pre></div>
</div>
<p>Information on the Psithon function that drives geometry optimizations is provided
at <a class="reference internal" href="api/psi4.driver.optimize.html#psi4.driver.optimize" title="psi4.driver.optimize"><code class="xref py py-func docutils literal notranslate"><span class="pre">optimize()</span></code></a>.</p>
</section>
<section id="important-user-changes-from-cpp-optking">
<h2>Important User Changes from cpp-optking<a class="headerlink" href="#important-user-changes-from-cpp-optking" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p><cite>FIXED_COORD</cite> keywords have been generalized to <cite>RANGED_COORD</cite> e.g. <a class="reference internal" href="#optking.v1.optparams.OptParams.ranged_distance" title="optking.v1.optparams.OptParams.ranged_distance"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ranged_distance</span></code></a></p></li>
<li><p>Detailed optimization is now printed through the python logging system. If more information about
the optimization is needed. Please see <cite>&lt;output_name&gt;.log</cite></p></li>
</ul>
</section>
<section id="keywords">
<h2>Keywords<a class="headerlink" href="#keywords" title="Link to this heading">¶</a></h2>
<dl class="py class pydantic_model">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams">
<em class="property"><span class="pre">pydantic</span> <span class="pre">model</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">optking.v1.optparams.</span></span><span class="sig-name descname"><span class="pre">OptParams</span></span><a class="reference internal" href="_modules/optking/v1/optparams.html#OptParams"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#optking.v1.optparams.OptParams" title="Link to this definition">¶</a></dt>
<dd><dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.accept_symmetry_breaking">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ACCEPT_SYMMETRY_BREAKING</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/functions.html#bool" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.accept_symmetry_breaking" title="Link to this definition">¶</a></dt>
<dd><p>Whether to accept steps that lower the molecular point group. Within optking this check is
not rigorous and if the only reasonable step is symmetry breaking it will be taken. This keyword
affects optking’s symmetrization not Psi4’s</p>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.add_auxiliary_bonds">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ADD_AUXILIARY_BONDS</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/functions.html#bool" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.add_auxiliary_bonds" title="Link to this definition">¶</a></dt>
<dd><p>Add bond coordinates for atoms separated by less than <span class="math notranslate nohighlight">\(2.5 \times\)</span> their covalent
radii</p>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.alg_geom_maxiter">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ALG_GEOM_MAXITER</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/functions.html#int" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">50</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.alg_geom_maxiter" title="Link to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Constraints<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>exclusiveMinimum</strong> = 0</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.auxiliary_bond_factor">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">AUXILIARY_BOND_FACTOR</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/functions.html#float" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">2.5</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.auxiliary_bond_factor" title="Link to this definition">¶</a></dt>
<dd><p>This factor times the standard covalent distance is used to add extra stretch coordinates.</p>
<dl class="field-list simple">
<dt class="field-odd">Constraints<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>exclusiveMinimum</strong> = 1.0</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.bt_dx_conv">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BT_DX_CONV</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/functions.html#float" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1e-07</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.bt_dx_conv" title="Link to this definition">¶</a></dt>
<dd><p>Threshold for the change in any given Cartesian coordinate during iterative
back-transformation.</p>
<dl class="field-list simple">
<dt class="field-odd">Constraints<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>exclusiveMinimum</strong> = 0.0</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.bt_dx_rms_change_conv">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BT_DX_RMS_CHANGE_CONV</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/functions.html#float" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1e-12</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.bt_dx_rms_change_conv" title="Link to this definition">¶</a></dt>
<dd><p>Threshold for RMS change in Cartesian coordinates during iterative back-transformation.</p>
<dl class="field-list simple">
<dt class="field-odd">Constraints<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>exclusiveMinimum</strong> = 0.0</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.bt_max_iter">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BT_MAX_ITER</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/functions.html#int" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">25</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.bt_max_iter" title="Link to this definition">¶</a></dt>
<dd><p>Maximum number of iterations allowed to converge back-transformation</p>
<dl class="field-list simple">
<dt class="field-odd">Constraints<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>exclusiveMinimum</strong> = 0</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.bt_pinv_rcond">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BT_PINV_RCOND</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/functions.html#float" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1e-06</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.bt_pinv_rcond" title="Link to this definition">¶</a></dt>
<dd><p>Threshold to remove redundancies from generalized inverse. Corresponds to the <code class="docutils literal notranslate"><span class="pre">rcond</span></code> from
<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.linalg.pinv.html">numpy</a>.
The following should be used whenever redundancies in the coordinates
are removed, in particular when forces and Hessian are projected and
in back-transformation from delta(q) to delta(x).</p>
<dl class="field-list simple">
<dt class="field-odd">Constraints<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>exclusiveMinimum</strong> = 0.0</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.cart_hess_read">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">CART_HESS_READ</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/functions.html#bool" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.cart_hess_read" title="Link to this definition">¶</a></dt>
<dd><p>Do read Cartesian Hessian? Recommended to use <code class="docutils literal notranslate"><span class="pre">full_hess_every</span></code> instead.
cfour format or <code class="docutils literal notranslate"><span class="pre">.json</span></code> file (<a class="reference external" href="https://molssi.github.io/QCElemental/">AtomicResult</a>)
allowed. The filetype is determined by the presence of a <code class="docutils literal notranslate"><span class="pre">.json</span></code> extension. The cfour hessian
format specifies that the first line contains the number of atoms. Each subsequent line
contains three hessian values provided in
<a class="reference external" href="https://en.wikipedia.org/wiki/Row-_and_column-major_order">row-major order</a>.</p>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.conjugate_gradient_type">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">CONJUGATE_GRADIENT_TYPE</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'FLETCHER'</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.conjugate_gradient_type" title="Link to this definition">¶</a></dt>
<dd><p>One of <code class="docutils literal notranslate"><span class="pre">[&quot;POLAK&quot;,</span> <span class="pre">&quot;FLETCHER&quot;,</span> <span class="pre">&quot;DESCENT&quot;]</span></code>. Changes how the step direction is calculated.</p>
<dl class="field-list simple">
<dt class="field-odd">Constraints<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pattern</strong> = (?i)^(?:FLETCHER|DESCENT|POLAK)$</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.consecutive_backsteps_allowed">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">CONSECUTIVE_BACKSTEPS</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/functions.html#int" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.consecutive_backsteps_allowed" title="Link to this definition">¶</a></dt>
<dd><p>Sets the number of consecutive backward steps allowed in an optimization. This option can be
updated by <code class="docutils literal notranslate"><span class="pre">Optking</span></code> if <code class="docutils literal notranslate"><span class="pre">dynamic_lvl</span></code> is &gt; 0. Not recommended for general use.</p>
<dl class="field-list simple">
<dt class="field-odd">Constraints<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>minimum</strong> = 0</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.conv_max_DE">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MAX_ENERGY_G_CONVERGENCE</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/functions.html#float" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1e-06</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.conv_max_DE" title="Link to this definition">¶</a></dt>
<dd><p>Convergence criterion for geometry optimization: maximum energy change</p>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.conv_max_disp">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MAX_DISP_G_CONVERGENCE</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/functions.html#float" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0.0012</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.conv_max_disp" title="Link to this definition">¶</a></dt>
<dd><p>Convergence criterion for geometry optimization: maximum displacement (internal coordinates, au)</p>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.conv_max_force">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MAX_FORCE_G_CONVERGENCE</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/functions.html#float" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0.0003</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.conv_max_force" title="Link to this definition">¶</a></dt>
<dd><p>Convergence criterion for geometry optimization: maximum force (internal coordinates, au)</p>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.conv_rms_disp">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">RMS_DISP_G_CONVERGENCE</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/functions.html#float" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0.0012</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.conv_rms_disp" title="Link to this definition">¶</a></dt>
<dd><p>Convergence criterion for geometry optimization: rms displacement (internal coordinates, au)</p>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.conv_rms_force">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">RMS_FORCE_G_CONVERGENCE</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/functions.html#float" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0.0003</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.conv_rms_force" title="Link to this definition">¶</a></dt>
<dd><p>Convergence criterion for geometry optimization: maximum force (internal coordinates, au)</p>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.covalent_connect">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">COVALENT_CONNECT</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/functions.html#float" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1.3</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.covalent_connect" title="Link to this definition">¶</a></dt>
<dd><p>When determining connectivity, a bond is assigned if the interatomic distance
is less than <code class="docutils literal notranslate"><span class="pre">COVANLENT_CONNECT</span></code> :math:` times ` the sum of covalent radii.
When connecting disparate fragments and <code class="docutils literal notranslate"><span class="pre">FRAG_MODE</span></code> is SINGLE, a “bond”
is assigned if interatomic distance is less than (<code class="docutils literal notranslate"><span class="pre">COVALENT_CONNECT</span></code>) <span class="math notranslate nohighlight">\(\times\)</span> sum of
covalent radii. The value is then increased until all the fragments are connected directly
or indirectly.</p>
<dl class="field-list simple">
<dt class="field-odd">Constraints<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>exclusiveMinimum</strong> = 0.0</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.dynamic_level">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DYNAMIC_LVL</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/functions.html#int" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.dynamic_level" title="Link to this definition">¶</a></dt>
<dd><p>An integer between 0 and 6. Larger values reflect less aggressive optimization techniques
If <code class="docutils literal notranslate"><span class="pre">dynamic_lvl</span></code> is not set, <code class="docutils literal notranslate"><span class="pre">Optking</span></code> will not change the <code class="docutils literal notranslate"><span class="pre">dynamic_lvl</span></code>. The
<code class="docutils literal notranslate"><span class="pre">dynamic_lvl</span></code> must be &gt; 0 for alternative approaches to be tried.
A backstep will be triggered (if allowed) by <span class="math notranslate nohighlight">\(\Delta E &gt; 0\)</span> in a minimization.
A step is considered “bad” if <span class="math notranslate nohighlight">\(\Delta E &gt; 0\)</span> when no more backsteps are allowed <strong>and</strong>
iterations <span class="math notranslate nohighlight">\(&gt; 5\)</span>, <strong>or</strong> there are badly defined internal coordinates or derivatives.
Default = 0</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>dynamic</p></th>
<th class="head"><p>step</p></th>
<th class="head"><p>coord</p></th>
<th class="head"><p>trust</p></th>
<th class="head"><p>backsteps</p></th>
<th class="head" colspan="2"><p>criteria to change dynamic_lvl</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td><p>decrease</p></td>
<td><p>increase</p></td>
</tr>
<tr class="row-odd"><td><p>0</p></td>
<td><p>RFO</p></td>
<td><p>RI</p></td>
<td><p>dynamic</p></td>
<td><p>no</p></td>
<td><p>none</p></td>
<td><p>none</p></td>
</tr>
<tr class="row-even"><td><p>1</p></td>
<td><p>RFO</p></td>
<td><p>RI</p></td>
<td><p>dynamic(d)</p></td>
<td><p>no</p></td>
<td><p>1 bad step</p></td>
<td><p>none</p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>RFO</p></td>
<td><p>RI</p></td>
<td><p>smaller</p></td>
<td><p>yes (1)</p></td>
<td><p>1 bad step</p></td>
<td><p>none</p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p>RFO</p></td>
<td><p>BOTH</p></td>
<td><p>small</p></td>
<td><p>yes (1)</p></td>
<td><p>1 bad step</p></td>
<td><p>none</p></td>
</tr>
<tr class="row-odd"><td><p>4</p></td>
<td><p>RFO</p></td>
<td><p>XYZ</p></td>
<td><p>large</p></td>
<td><p>yes (1)</p></td>
<td><p>1 bad step</p></td>
<td><p>none</p></td>
</tr>
<tr class="row-even"><td><p>5</p></td>
<td><p>RFO</p></td>
<td><p>XYZ</p></td>
<td><p>small</p></td>
<td><p>yes (1)</p></td>
<td><p>1 bad step</p></td>
<td><p>none</p></td>
</tr>
<tr class="row-odd"><td><p>6</p></td>
<td><p>SD</p></td>
<td><p>XYZ</p></td>
<td><p>large</p></td>
<td><p>yes (1)</p></td>
<td><p>1 bad step</p></td>
<td><p>none</p></td>
</tr>
<tr class="row-even"><td><p>7</p></td>
<td><p>SD</p></td>
<td><p>XYZ</p></td>
<td><p>small</p></td>
<td><p>yes (1)</p></td>
<td><p>1 bad step</p></td>
<td><p>none</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Constraints<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>minimum</strong> = 0</p></li>
<li><p><strong>maximum</strong> = 6</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.dynamic_lvl_max">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DYNAMIC_LVL_MAX</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/functions.html#int" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.dynamic_lvl_max" title="Link to this definition">¶</a></dt>
<dd><p>How large <code class="docutils literal notranslate"><span class="pre">dynamic_lvl</span></code> is allowed to grow. If <code class="docutils literal notranslate"><span class="pre">dynamic_lvl</span></code> <span class="math notranslate nohighlight">\(&gt; 0\)</span>, <code class="docutils literal notranslate"><span class="pre">dynamic_lvl_max</span></code>
will default to 6</p>
<dl class="field-list simple">
<dt class="field-odd">Constraints<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>minimum</strong> = 0</p></li>
<li><p><strong>maximum</strong> = 6</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.ensure_bt_convergence">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ENSURE_BT_CONVERGENCE</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/functions.html#bool" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.ensure_bt_convergence" title="Link to this definition">¶</a></dt>
<dd><p>Reduces step size as necessary to ensure convergence of back-transformation of
internal coordinate step to Cartesian coordinates</p>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.ext_force_bend">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">EXT_FORCE_BEND</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.ext_force_bend" title="Link to this definition">¶</a></dt>
<dd><p>A string of white-space separated atomic indices (3) followed by a single variable equation
surrounded in either a single or double quotation mark.
Example: <code class="docutils literal notranslate"><span class="pre">&quot;1</span> <span class="pre">2</span> <span class="pre">3</span> <span class="pre">'Sin(x)'&quot;</span></code> evaluates the force along the coordinate as a 1-D
sinusoidal function where x is the “value” (angle [radians]) of the coordinate (bend)</p>
<dl class="field-list simple">
<dt class="field-odd">Constraints<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pattern</strong> = ^s*(?:W?s*d+W?s+d+W?s+d+s*W*s*s*[’&quot;].*[’&quot;]W?)*$</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.ext_force_cartesian">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">EXT_FORCE_CARTESIAN</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.ext_force_cartesian" title="Link to this definition">¶</a></dt>
<dd><p>A string of whitecaps separated atomic indices (1) and Cartesian labels, followed by a
single variable equation surrounded in either a single or double quotation mark.
Example: <code class="docutils literal notranslate"><span class="pre">&quot;1</span> <span class="pre">X</span> <span class="pre">'Sin(x)'&quot;</span></code> evaluates the force along the coordinate as 1 1-D sinusoidal
function where x is the “value” (angle [bohr]) of the coordinate (bohr)</p>
<dl class="field-list simple">
<dt class="field-odd">Constraints<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pattern</strong> = (?i)^s*(?:W?d+s+(?:xyz|xy|yz|x|y|z)W*s+[’&quot;].*[’&quot;]W*)*$</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.ext_force_dihedral">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">EXT_FORCE_DIHEDRAL</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.ext_force_dihedral" title="Link to this definition">¶</a></dt>
<dd><p>A string of white-space separated atomic indices (4) followed by a single variable equation
surrounded in either a single or double quotation mark.
Example: <code class="docutils literal notranslate"><span class="pre">&quot;1</span> <span class="pre">2</span> <span class="pre">3</span> <span class="pre">4</span> <span class="pre">'Sin(x)'&quot;</span></code> evaluates the force along the coordinate as a 1-D
sinusoidal function where x is the “value” (angle [radians]) of the coordinate (torsion)</p>
<dl class="field-list simple">
<dt class="field-odd">Constraints<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pattern</strong> = ^s*(?:W?s*d+W?s+d+W?s+d+W?s+d+s*W*s*s*[’&quot;].*[’&quot;]W?)*$</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.ext_force_distance">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">EXT_FORCE_DISTANCE</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.ext_force_distance" title="Link to this definition">¶</a></dt>
<dd><p>A string of white-space separated, atomic indices (2) followed by a single variable equation
surrounded in either a single or double quotation mark.
Example: <code class="docutils literal notranslate"><span class="pre">&quot;1</span> <span class="pre">2</span> <span class="pre">'Sin(x)'&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">'1</span> <span class="pre">2</span> <span class="pre">&quot;Sin(x)&quot;'</span></code> evaluates the force along the coordinate
as a 1-dimensional sinusoidal function where x is the “value” (distance [bohr]) of the
coordinate (stretch).</p>
<dl class="field-list simple">
<dt class="field-odd">Constraints<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pattern</strong> = ^s*(?:W?s*d+W?s+d+s*W*s*s*[‘”].*[‘”]W?)*$</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.ext_force_oofp">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">EXT_FORCE_OOFP</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.ext_force_oofp" title="Link to this definition">¶</a></dt>
<dd><p>A string of white-space separated atomic indices (4) followed by a single variable equation
surrounded in either a single or double quotation mark.
Example: <code class="docutils literal notranslate"><span class="pre">&quot;1</span> <span class="pre">2</span> <span class="pre">3</span> <span class="pre">4</span> <span class="pre">'Sin(x)'&quot;</span></code> evaluates the force along the coordinate as a 1-D
sinusoidal function where x is the “value” (angle [radians]) of the coordinate (oofp)</p>
<dl class="field-list simple">
<dt class="field-odd">Constraints<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pattern</strong> = ^s*(?:W?s*d+W?s+d+W?s+d+W?s+d+s*W*s*s+[’&quot;].*[’&quot;]W?)*$</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.fix_val_near_pi">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">FIX_VAL_NEAR_PI</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/functions.html#float" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1.57</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.fix_val_near_pi" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.flexible_g_convergence">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">FLEXIBLE_G_CONVERGENCE</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/functions.html#bool" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.flexible_g_convergence" title="Link to this definition">¶</a></dt>
<dd><p>Normally, any specified <code class="docutils literal notranslate"><span class="pre">*_G_CONVERGENCE</span></code> keyword like <code class="docutils literal notranslate"><span class="pre">MAX_FORCE_G_CONVERGENCE</span></code> will be
obeyed exclusively. If active, <code class="docutils literal notranslate"><span class="pre">FLEXIBLE_G_CONVERGENCE</span></code> appends to <code class="docutils literal notranslate"><span class="pre">G_CONVERGENCE</span></code> with the
value from <code class="docutils literal notranslate"><span class="pre">*_G_CONVERGENCE</span></code> instead of overriding.</p>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.frag_mode">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">FRAG_MODE</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'SINGLE'</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.frag_mode" title="Link to this definition">¶</a></dt>
<dd><p>For multi-fragment molecules, treat as single bonded molecule or via interfragment
coordinates. A primary difference is that in <code class="docutils literal notranslate"><span class="pre">MULTI</span></code> mode, the interfragment
coordinates are not redundant.</p>
<dl class="field-list simple">
<dt class="field-odd">Constraints<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pattern</strong> = (?i)^(?:SINGLE|MULTI)$</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.frag_ref_atoms">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">FRAG_REF_ATOMS</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/stdtypes.html#list" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a><span class="pre">[</span><a class="reference external" href="https://docs.python.org/3.12/library/stdtypes.html#list" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a><span class="pre">[</span><a class="reference external" href="https://docs.python.org/3.12/library/stdtypes.html#list" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a><span class="pre">[</span><a class="reference external" href="https://docs.python.org/3.12/library/functions.html#int" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a><span class="pre">]]]</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[]</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.frag_ref_atoms" title="Link to this definition">¶</a></dt>
<dd><p>Which atoms define the reference points for interfragment coordinates?
Example for a simple diatomic dimer like <span class="math notranslate nohighlight">\(Ne_2\)</span> <code class="docutils literal notranslate"><span class="pre">[[[1]],</span> <span class="pre">[[2]]]</span></code>. Please see the section
on multi-fragment optimizations for more information. <a class="reference external" href="https://optking.readthedocs.io/en/latest/mol.html#dimerfrag" title="(in OptKing v0.4.0)"><span class="xref std std-ref">Multi-Fragment Optimizations</span></a></p>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.freeze_all_dihedrals">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">FREEZE_ALL_DIHEDRALS</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/functions.html#bool" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.freeze_all_dihedrals" title="Link to this definition">¶</a></dt>
<dd><p>A shortcut to request that all dihedrals should be frozen.</p>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.freeze_intrafrag">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">FREEZE_INTRAFRAG</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/functions.html#bool" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.freeze_intrafrag" title="Link to this definition">¶</a></dt>
<dd><p>Whether to freeze all intrafragment coordinates (rigid molecules). Only optimize the
interfragment coordinates.</p>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.frozen_bend">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">FROZEN_BEND</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.frozen_bend" title="Link to this definition">¶</a></dt>
<dd><p>A string of white-space separated atomic indices to specify that the distances between the
atoms should be frozen (unchanged).
<code class="docutils literal notranslate"><span class="pre">OptParams({&quot;frozen_bend&quot;:</span> <span class="pre">&quot;1</span> <span class="pre">2</span> <span class="pre">3</span> <span class="pre">2</span> <span class="pre">3</span> <span class="pre">4&quot;})</span></code> Freezes <code class="docutils literal notranslate"><span class="pre">Bend(1</span> <span class="pre">2</span> <span class="pre">3)</span></code> and <code class="docutils literal notranslate"><span class="pre">Bend(2</span> <span class="pre">3</span> <span class="pre">4)</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Constraints<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pattern</strong> = ^s*(?:W?s*d+W?s+d+W?s+d+s*W*s*)*$</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.frozen_cartesian">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">FROZEN_CARTESIAN</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.frozen_cartesian" title="Link to this definition">¶</a></dt>
<dd><p>A string of white-space separated atomic indices and Cartesian labels to specify that the
Cartesian coordinates for a given atom should be frozen (unchanged).
<code class="docutils literal notranslate"><span class="pre">OptParams({&quot;frozen_cartesian&quot;:</span> <span class="pre">&quot;1</span> <span class="pre">XYZ</span> <span class="pre">2</span> <span class="pre">XY</span> <span class="pre">2</span> <span class="pre">Z&quot;})</span></code> Freezes <code class="docutils literal notranslate"><span class="pre">CART(1,</span> <span class="pre">X)</span></code>,
<code class="docutils literal notranslate"><span class="pre">CART(1,</span> <span class="pre">Y)</span></code>, <code class="docutils literal notranslate"><span class="pre">CART(1,</span> <span class="pre">Z)</span></code>, <code class="docutils literal notranslate"><span class="pre">CART(2,</span> <span class="pre">X)</span></code>, etc…</p>
<dl class="field-list simple">
<dt class="field-odd">Constraints<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pattern</strong> = (?i)^s*(?:W?ds(?:xyz|xy|yz|x|y|z)W*s*)*$</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.frozen_dihedral">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">FROZEN_DIHEDRAL</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.frozen_dihedral" title="Link to this definition">¶</a></dt>
<dd><p>A string of white-space separated atomic indices to specify that the corresponding dihedral
angle should be frozen (unchanged).
<code class="docutils literal notranslate"><span class="pre">OptParams({&quot;frozen_tors&quot;:</span> <span class="pre">&quot;1</span> <span class="pre">2</span> <span class="pre">3</span> <span class="pre">4</span> <span class="pre">2</span> <span class="pre">3</span> <span class="pre">4</span> <span class="pre">5&quot;})</span></code> Freezes <code class="docutils literal notranslate"><span class="pre">Tors(1,</span> <span class="pre">2,</span> <span class="pre">3,</span> <span class="pre">4)</span></code> and <code class="docutils literal notranslate"><span class="pre">Tors(2,</span> <span class="pre">3,</span> <span class="pre">4,</span> <span class="pre">5)</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Constraints<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pattern</strong> = ^s*(?:W?s*d+W?s+d+W?s+d+W?s+d+s*W*s*)*$</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.frozen_distance">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">FROZEN_DISTANCE</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.frozen_distance" title="Link to this definition">¶</a></dt>
<dd><p>A string of white-space separated atomic indices to specify that the distances between the
atoms should be frozen (unchanged).
<code class="docutils literal notranslate"><span class="pre">OptParams({&quot;frozen_distance&quot;:</span> <span class="pre">&quot;1</span> <span class="pre">2</span> <span class="pre">3</span> <span class="pre">4&quot;})</span></code> Freezes <code class="docutils literal notranslate"><span class="pre">Stre(1,</span> <span class="pre">2)</span></code> and <code class="docutils literal notranslate"><span class="pre">Stre(3,</span> <span class="pre">4)</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Constraints<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pattern</strong> = ^s*(?:W?s*d+W?s+d+s*W*s*)*$</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.frozen_oofp">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">FROZEN_OOFP</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.frozen_oofp" title="Link to this definition">¶</a></dt>
<dd><p>A string of white-space separated atomic indices to specify that the corresponding
out-of-plane angle should be frozen.
atoms should be frozen (unchanged).
<code class="docutils literal notranslate"><span class="pre">OptParams({&quot;frozen_oofp&quot;:</span> <span class="pre">&quot;1</span> <span class="pre">2</span> <span class="pre">3</span> <span class="pre">4&quot;})</span></code> Freezes <code class="docutils literal notranslate"><span class="pre">OOFP(1,</span> <span class="pre">2,</span> <span class="pre">3,</span> <span class="pre">4)</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Constraints<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pattern</strong> = ^s*(?:W?s*d+W?s+d+W?s+d+W?s+d+s*W*s*)*$</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.full_hess_every">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">FULL_HESS_EVERY</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/functions.html#int" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">-1</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.full_hess_every" title="Link to this definition">¶</a></dt>
<dd><p>Frequency with which to compute the full Hessian in the course
of a geometry optimization. 0 means to compute the initial Hessian only,
1 means recompute every step, and N means recompute every N steps. -1 indicates that the
full hessian should never be computed.</p>
<dl class="field-list simple">
<dt class="field-odd">Constraints<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>minimum</strong> = -1</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.g_convergence">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">G_CONVERGENCE</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'QCHEM'</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.g_convergence" title="Link to this definition">¶</a></dt>
<dd><p>A set of optimization criteria covering the change in energy, magnitude of the forces and
the step_size. One of <code class="docutils literal notranslate"><span class="pre">[&quot;QCHEM&quot;,</span> <span class="pre">&quot;MOLPRO&quot;,</span> <span class="pre">&quot;GAU&quot;,</span> <span class="pre">&quot;GAU_LOOSE&quot;,</span> <span class="pre">&quot;GAU_TIGHT&quot;,</span> <span class="pre">&quot;GAU_VERYTIGHT&quot;,</span>
<span class="pre">&quot;TURBOMOLE&quot;,</span> <span class="pre">&quot;CFOUR&quot;,</span> <span class="pre">&quot;NWCHEM_LOOSE&quot;,</span> <span class="pre">&quot;INTERFRAG_TIGHT&quot;]</span></code>. Specification of any
<code class="docutils literal notranslate"><span class="pre">MAX_*_G_CONVERGENCE</span></code> or <code class="docutils literal notranslate"><span class="pre">RMS_*_G_CONVERGENCE</span></code> options will overwrite the criteria set here.
If <code class="docutils literal notranslate"><span class="pre">flexible_g_convergence</span></code> is also on then the specified keyword will be appended.
See Table <a class="reference internal" href="#table-optkingconv"><span class="std std-ref">Geometry Convergence</span></a> for details.</p>
<dl class="field-list simple">
<dt class="field-odd">Constraints<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pattern</strong> = (?i)^(?:QCHEM|MOLPRO|GAU|GAU_LOOSE|GAU_TIGHT|GAU_VERYTIGHT|TURBOMOLE|CFOUR|NWCHEM_LOOSE|INTERFRAG_TIGHT)$</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.geom_maxiter">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">GEOM_MAXITER</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/functions.html#int" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">50</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.geom_maxiter" title="Link to this definition">¶</a></dt>
<dd><p>The maximum number of geometry optimization steps allowed - Technically this is
the maximum number of gradients that Optking is allowed to calculate.</p>
<dl class="field-list simple">
<dt class="field-odd">Constraints<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>exclusiveMinimum</strong> = 0</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.h_bond_connect">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">H_BOND_CONNECT</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/functions.html#float" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">4.3</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.h_bond_connect" title="Link to this definition">¶</a></dt>
<dd><p>General, maximum distance for the definition of H-bonds.</p>
<dl class="field-list simple">
<dt class="field-odd">Constraints<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>exclusiveMinimum</strong> = 0.0</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.h_guess_every">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">H_GUESS_EVERY</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/functions.html#bool" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.h_guess_every" title="Link to this definition">¶</a></dt>
<dd><p>Re-estimate the Hessian at every step, i.e., ignore the currently stored Hessian. This is NOT
recommended</p>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.hess_update">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">HESS_UPDATE</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'BFGS'</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.hess_update" title="Link to this definition">¶</a></dt>
<dd><p>one of: <code class="docutils literal notranslate"><span class="pre">[NONE,</span> <span class="pre">&quot;BFGS&quot;,</span> <span class="pre">&quot;MS&quot;,</span> <span class="pre">&quot;POWELL&quot;,</span> <span class="pre">&quot;BOFILL&quot;]</span></code>
Update scheme for the hessian. Default depends on <code class="docutils literal notranslate"><span class="pre">OPT_TYPE</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Constraints<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pattern</strong> = (?i)^(?:NONE|BFGS|MS|POWELL|BOFILL)$</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.hess_update_den_tol">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">HESS_UPDATE_DEN_TOL</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/functions.html#float" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1e-07</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.hess_update_den_tol" title="Link to this definition">¶</a></dt>
<dd><p>Denominator check for hessian update.</p>
<dl class="field-list simple">
<dt class="field-odd">Constraints<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>exclusiveMinimum</strong> = 0.0</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.hess_update_dq_tol">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">HESS_UPDATE_DQ_TOL</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/functions.html#float" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0.5</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.hess_update_dq_tol" title="Link to this definition">¶</a></dt>
<dd><p>Hessian update is avoided if any internal coordinate has changed by more than this in
radians/au</p>
<dl class="field-list simple">
<dt class="field-odd">Constraints<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>minimum</strong> = 0.0</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.hess_update_limit">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">HESS_UPDATE_LIMIT</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/functions.html#bool" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">True</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.hess_update_limit" title="Link to this definition">¶</a></dt>
<dd><p>Do limit the magnitude of changes caused by the Hessian update?
If <code class="docutils literal notranslate"><span class="pre">hess_update_limit</span></code> is True, changes to the Hessian from the update are limited
to the larger of <code class="docutils literal notranslate"><span class="pre">hess_update_limit_scale</span></code> * (current value) and
<code class="docutils literal notranslate"><span class="pre">hess_update_limit_max</span></code> [au].  By default, a Hessian value cannot be changed by more
than 50% and 1 au.</p>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.hess_update_limit_max">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">HESS_UPDATE_LIMIT_MAX</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/functions.html#float" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1.0</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.hess_update_limit_max" title="Link to this definition">¶</a></dt>
<dd><p>Absolute upper limit for how much any given Hessian value can be changed when updating</p>
<dl class="field-list simple">
<dt class="field-odd">Constraints<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>minimum</strong> = 0.0</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.hess_update_limit_scale">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">HESS_UPDATE_LIMIT_SCALE</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/functions.html#float" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0.5</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.hess_update_limit_scale" title="Link to this definition">¶</a></dt>
<dd><p>Relative upper limit for how much any given Hessian value can be changed when updating</p>
<dl class="field-list simple">
<dt class="field-odd">Constraints<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>minimum</strong> = 0.0</p></li>
<li><p><strong>maximum</strong> = 1.0</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.hess_update_use_last">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">HESS_UPDATE_USE_LAST</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/functions.html#int" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">4</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.hess_update_use_last" title="Link to this definition">¶</a></dt>
<dd><p>Number of previous steps to use in Hessian update, 0 uses all steps.</p>
<dl class="field-list simple">
<dt class="field-odd">Constraints<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>minimum</strong> = 0</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.hessian_file">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">HESSIAN_FILE</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/pathlib.html#pathlib.Path" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Path</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">PosixPath('.')</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.hessian_file" title="Link to this definition">¶</a></dt>
<dd><p>Accompanies <code class="docutils literal notranslate"><span class="pre">CART_HESS_READ</span></code>. path to file where hessian has been saved.
WARNING: As of Psi4 v1.10~nightly psi4.optimize() overrides this variable. If you have written
a hessian to disk, copy the file to
<code class="docutils literal notranslate"><span class="pre">psi4.core.write_file_prefix(psi4.core.get_active_molecule().name())</span></code> or use
<code class="docutils literal notranslate"><span class="pre">optking.optimize_psi4()</span></code></p>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.include_oofp">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">INCLUDE_OOFP</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/functions.html#bool" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.include_oofp" title="Link to this definition">¶</a></dt>
<dd><p>Add out-of-plane angles (usually not needed)</p>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.interfrag_collinear_tol">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">INTERFRAG_COLLINEAR_TOL</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/functions.html#float" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0.01</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.interfrag_collinear_tol" title="Link to this definition">¶</a></dt>
<dd><p>Used for determining which atoms in a system are too collinear to be chosen as default
reference atoms. We avoid collinearity. Greater is more restrictive.</p>
<dl class="field-list simple">
<dt class="field-odd">Constraints<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>exclusiveMinimum</strong> = 0.0</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.interfrag_coords">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">INTERFRAG_COORDS</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/stdtypes.html#list" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a><span class="pre">[</span><a class="reference external" href="https://docs.python.org/3.12/library/stdtypes.html#dict" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a><span class="pre">]</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[]</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.interfrag_coords" title="Link to this definition">¶</a></dt>
<dd><p>Let the user submit a dictionary (or array of dictionaries) for
the interfrag coordinates. The input may also be given as a string, but the string input must be
“loadable” as a python dictionary. See input examples
<a class="reference external" href="https://optking.readthedocs.io/en/latest/mol.html#dimerfrag" title="(in OptKing v0.4.0)"><span class="xref std std-ref">Multi-Fragment Optimzations</span></a>.</p>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.interfrag_dist_inv">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">INTERFRAG_DIST_INV</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/functions.html#bool" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.interfrag_dist_inv" title="Link to this definition">¶</a></dt>
<dd><p>Do use 1/R for the interfragment stretching coordinate instead of R?</p>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.interfrag_hess">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">INTERFRAG_HESS</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'DEFAULT'</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.interfrag_hess" title="Link to this definition">¶</a></dt>
<dd><p>Model Hessian to guess interfragment force constants. One of <code class="docutils literal notranslate"><span class="pre">[&quot;DEFAULT&quot;,</span> <span class="pre">&quot;FISCHER_LIKE&quot;]</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Constraints<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pattern</strong> = (?i)^(?:DEFAULT|FISCHER_LIKE)$</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.interfrag_mode">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">INTERFRAG_MODE</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'FIXED'</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.interfrag_mode" title="Link to this definition">¶</a></dt>
<dd><p>One of <code class="docutils literal notranslate"><span class="pre">['FIXED',</span> <span class="pre">'PRINCIPAL_AXES']</span></code>. Use either principal axes or fixed linear combinations
of atoms as reference points for generating the interfragment coordinates.</p>
<dl class="field-list simple">
<dt class="field-odd">Constraints<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pattern</strong> = (?i)^(?:FIXED|PRINCIPAL_AXES)$</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.interfrag_trust">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">INTERFRAG_STEP_LIMIT</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/functions.html#float" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0.5</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.interfrag_trust" title="Link to this definition">¶</a></dt>
<dd><p>Initial maximum step size in bohr or radian along an interfragment coordinate</p>
<dl class="field-list simple">
<dt class="field-odd">Constraints<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>exclusiveMinimum</strong> = 0.0</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.interfrag_trust_max">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">INTERFRAG_STEP_LIMIT_MAX</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/functions.html#float" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1.0</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.interfrag_trust_max" title="Link to this definition">¶</a></dt>
<dd><p>Upper bound for dynamic trust radius [au] for interfragment coordinates</p>
<dl class="field-list simple">
<dt class="field-odd">Constraints<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>exclusiveMinimum</strong> = 0.0</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.interfrag_trust_min">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">INTERFRAG_STEP_LIMIT_MIN</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/functions.html#float" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0.001</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.interfrag_trust_min" title="Link to this definition">¶</a></dt>
<dd><p>Lower bound for dynamic trust radius [au] for interfragment coordinates</p>
<dl class="field-list simple">
<dt class="field-odd">Constraints<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>exclusiveMinimum</strong> = 0.0</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.intrafrag_hess">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">INTRAFRAG_HESS</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'SCHLEGEL'</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.intrafrag_hess" title="Link to this definition">¶</a></dt>
<dd><p>Model Hessian to guess intrafragment force constants. One of <code class="docutils literal notranslate"><span class="pre">[&quot;SCHLEGEL&quot;,</span> <span class="pre">&quot;FISCHER&quot;,</span>
<span class="pre">&quot;SIMPLE&quot;,</span> <span class="pre">&quot;LINDH&quot;,</span> <span class="pre">&quot;LINDH_SIMPLE&quot;]</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Constraints<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pattern</strong> = (?i)^(?:SCHLEGEL|FISCHER|SIMPLE|LINDH|LINDH_SIMPLE)$</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.intrafrag_trust">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">INTRAFRAG_STEP_LIMIT</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/functions.html#float" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0.5</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.intrafrag_trust" title="Link to this definition">¶</a></dt>
<dd><p>Initial maximum step size in bohr or radian in internal coordinates for trust region
methods (<code class="docutils literal notranslate"><span class="pre">RFO</span></code> and <code class="docutils literal notranslate"><span class="pre">RS_I_RFO</span></code>). This value will be updated throughout optimization.</p>
<dl class="field-list simple">
<dt class="field-odd">Constraints<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>exclusiveMinimum</strong> = 0.0</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.intrafrag_trust_max">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">INTRAFRAG_STEP_LIMIT_MAX</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/functions.html#float" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1.0</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.intrafrag_trust_max" title="Link to this definition">¶</a></dt>
<dd><p>Upper bound for dynamic trust radius [au]</p>
<dl class="field-list simple">
<dt class="field-odd">Constraints<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>exclusiveMinimum</strong> = 0.0</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.intrafrag_trust_min">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">INTRAFRAG_STEP_LIMIT_MIN</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/functions.html#float" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0.001</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.intrafrag_trust_min" title="Link to this definition">¶</a></dt>
<dd><p>Lower bound for dynamic trust radius [au]</p>
<dl class="field-list simple">
<dt class="field-odd">Constraints<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>exclusiveMinimum</strong> = 0.0</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.irc_convergence">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">IRC_CONVERGENCE</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/functions.html#float" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">-0.7</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.irc_convergence" title="Link to this definition">¶</a></dt>
<dd><p>Main criteria for declaring convergence for an IRC. The overlap between the unit forces
at two points of the IRC is compared to this value to assess whether a minimum has been stepped
over. If <span class="math notranslate nohighlight">\(overlap &lt; irc_convergence\)</span>, declare convergence. If an IRC terminates too early,
this may be symptomatic of a highly curved reaction-path, decrease try
<code class="docutils literal notranslate"><span class="pre">irc_converence</span> <span class="pre">=</span> <span class="pre">-0.9</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Constraints<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>exclusiveMinimum</strong> = -1.0</p></li>
<li><p><strong>exclusiveMaximum</strong> = -0.5</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.irc_direction">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">IRC_DIRECTION</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'FORWARD'</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.irc_direction" title="Link to this definition">¶</a></dt>
<dd><p>One of <code class="docutils literal notranslate"><span class="pre">[&quot;FORWARD&quot;,</span> <span class="pre">&quot;BACKWARD&quot;]</span></code>. Whether to step in the forward (+) direction along
the transition state mode (smallest mode of hessian) or backward (-)</p>
<dl class="field-list simple">
<dt class="field-odd">Constraints<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pattern</strong> = (?i)^(?:FORWARD|BACKWARD)$</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.irc_mode">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">IRC_MODE</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'NORMAL'</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.irc_mode" title="Link to this definition">¶</a></dt>
<dd><p>Experimental - One of [‘NORMAL’, ‘CONFIRM’]. ‘CONFIRM’ is meant to be used for dissociation
reactions. The IRC is terminated once the molecule’s connectivity has changed. Convergence
is declared once the original <code class="docutils literal notranslate"><span class="pre">covalent_connect</span></code> must be increased by more than 0.4 au.</p>
<dl class="field-list simple">
<dt class="field-odd">Constraints<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pattern</strong> = (?i)^(?:NORMAL|CONFIRM)$</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.irc_points">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">IRC_POINTS</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/functions.html#int" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">20</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.irc_points" title="Link to this definition">¶</a></dt>
<dd><p>Maximum number of converged points along the IRC path to map out before quitting.
For dissociation reactions, where the reaction path may not terminate in
a minimum, this is needed to cap the number of step’s Optking is allowed to take</p>
<dl class="field-list simple">
<dt class="field-odd">Constraints<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>exclusiveMinimum</strong> = 0</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.irc_step_size">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">IRC_STEP_SIZE</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/functions.html#float" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0.2</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.irc_step_size" title="Link to this definition">¶</a></dt>
<dd><p>Specifies the distance between each converged point along the IRC reaction path in
<span class="math notranslate nohighlight">\(bohr amu^{1/2}\)</span></p>
<dl class="field-list simple">
<dt class="field-odd">Constraints<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>exclusiveMinimum</strong> = 0.0</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.linear_bend_threshold">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">LINEAR_BEND_THRESHOLD</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/functions.html#float" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">3.05</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.linear_bend_threshold" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.linesearch">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">LINESEARCH</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/functions.html#bool" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.linesearch" title="Link to this definition">¶</a></dt>
<dd><p>performs linesearch on top of current <code class="docutils literal notranslate"><span class="pre">STEP_TYPE</span></code>.</p>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.linesearch_step">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">LINESEARCH_STEP</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/functions.html#float" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0.1</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.linesearch_step" title="Link to this definition">¶</a></dt>
<dd><p>Initial stepsize  when performing a 1-D linesearch</p>
<dl class="field-list simple">
<dt class="field-odd">Constraints<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>exclusiveMinimum</strong> = 0.0</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.opt_coordinates">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">OPT_COORDINATES</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'INTERNAL'</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.opt_coordinates" title="Link to this definition">¶</a></dt>
<dd><p>One of <code class="docutils literal notranslate"><span class="pre">[&quot;REDUNDANT&quot;,</span> <span class="pre">&quot;INTERNAL&quot;,</span> <span class="pre">&quot;CARTESIAN&quot;,</span> <span class="pre">&quot;BOTH&quot;]</span></code>. <code class="docutils literal notranslate"><span class="pre">&quot;INTERNAL&quot;</span></code> is just a synonym for
<code class="docutils literal notranslate"><span class="pre">&quot;REDUNDANT&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">&quot;BOTH&quot;</span></code> utilizes a full set of redundant internal coordinates and cartesian
<span class="math notranslate nohighlight">\((3N - 6+) + (3N) = (6N - 6+)\)</span> coordinates.</p>
<dl class="field-list simple">
<dt class="field-odd">Constraints<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pattern</strong> = (?i)^(?:REDUNDANT|INTERNAL|DELOCALIZED|NATURAL|CARTESIAN|BOTH)$</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.opt_type">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">OPT_TYPE</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'MIN'</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.opt_type" title="Link to this definition">¶</a></dt>
<dd><p>One of <code class="docutils literal notranslate"><span class="pre">[&quot;MIN&quot;,</span> <span class="pre">&quot;TS&quot;,</span> <span class="pre">or</span> <span class="pre">&quot;IRC&quot;]</span></code>. <code class="docutils literal notranslate"><span class="pre">OPT_TYPE</span></code> will be changed if <code class="docutils literal notranslate"><span class="pre">OPT_TYPE</span></code>
is not provided, but <code class="docutils literal notranslate"><span class="pre">STEP_TYPE</span></code> is provided, and the two are inconsistent. If both are
provided but are inconsistent, an error will be raised.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head" colspan="6"><p>Allowed <code class="docutils literal notranslate"><span class="pre">opt_type</span></code> and <code class="docutils literal notranslate"><span class="pre">step_type</span></code> values</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">opt_type</span></code></p></td>
<td colspan="5"><p>compatible <code class="docutils literal notranslate"><span class="pre">step_type</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>MIN</p></td>
<td><p><strong>RFO</strong></p></td>
<td><p>NR</p></td>
<td><p>SD</p></td>
<td><p>LINESEARCH</p></td>
<td><p>Conjugate</p></td>
</tr>
<tr class="row-even"><td><p>TS</p></td>
<td><p><strong>RS_I_RFO</strong></p></td>
<td colspan="4"><p>P_RFO</p></td>
</tr>
<tr class="row-odd"><td><p>IRC</p></td>
<td colspan="5"><p>N/A</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Constraints<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pattern</strong> = (?i)^(?:MIN|TS|IRC)$</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.print_lvl">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">PRINT</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/functions.html#int" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.print_lvl" title="Link to this definition">¶</a></dt>
<dd><p>An integer between 1 (least printing) and 5 (most printing). This has been largely, but not
entirely, replaced by using the logging modules <code class="docutils literal notranslate"><span class="pre">DEBUG</span></code> and <code class="docutils literal notranslate"><span class="pre">INFO</span></code> levels.
Consider changing the logging handler in <code class="docutils literal notranslate"><span class="pre">loggingconfig.py</span></code> or if using Psi4 change the
logging level from the command line. <code class="docutils literal notranslate"><span class="pre">psi4</span> <span class="pre">--loglevel=10...</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Constraints<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>minimum</strong> = 1</p></li>
<li><p><strong>maximum</strong> = 5</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.print_trajectory_xyz_file">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">PRINT_TRAJECTORY_XYZ_FILE</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/functions.html#bool" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.print_trajectory_xyz_file" title="Link to this definition">¶</a></dt>
<dd><p>Deprecated use <code class="docutils literal notranslate"><span class="pre">write_trajectory</span></code> instead.
Create an xyz file with geometries for each step of the Optimization. If <code class="docutils literal notranslate"><span class="pre">opt_type</span></code> is
<code class="docutils literal notranslate"><span class="pre">IRC</span></code>, only the converged IRC points will be included and the file will be named
irc_traj.&lt;pid&gt;.json. Otherwise the file will contain all points and be named
<code class="docutils literal notranslate"><span class="pre">opt_traj.&lt;pid&gt;.json</span></code></p>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.program">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">PROGRAM</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'psi4'</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.program" title="Link to this definition">¶</a></dt>
<dd><p>What program to use for running gradient and energy calculations through <code class="docutils literal notranslate"><span class="pre">qcengine</span></code>.</p>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.ranged_bend">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">RANGED_BEND</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.ranged_bend" title="Link to this definition">¶</a></dt>
<dd><p>A string of white-space separated atomic indices and bounds for the angle between three
atoms.
<code class="docutils literal notranslate"><span class="pre">OptParams({1</span> <span class="pre">2</span> <span class="pre">3</span> <span class="pre">100</span> <span class="pre">110})</span></code> Forces <span class="math notranslate nohighlight">\(100^{\circ} &lt;\)</span> <code class="docutils literal notranslate"><span class="pre">Bend(1,</span> <span class="pre">2,</span> <span class="pre">3)</span></code>
<span class="math notranslate nohighlight">\(&lt; 110^{\circ}\)</span></p>
<dl class="field-list simple">
<dt class="field-odd">Constraints<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pattern</strong> = ^s*(?:W?s*d+W?s+d+W?s+d+s*W*s*W?-?d+.d+W?s+-?d+.d+s*W*s*)*$</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.ranged_cartesian">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">RANGED_CARTESIAN</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.ranged_cartesian" title="Link to this definition">¶</a></dt>
<dd><p>A string of white-space separated atomic indices, Cartesian labels, and bounds for the
Cartesian coordinates of a given atom. <code class="docutils literal notranslate"><span class="pre">OptParams({&quot;ranged_cart&quot;:</span> <span class="pre">&quot;1</span> <span class="pre">XYZ</span> <span class="pre">2.0</span> <span class="pre">2.1&quot;})</span></code> Forces
<span class="math notranslate nohighlight">\(2.0 &lt;\)</span> <code class="docutils literal notranslate"><span class="pre">Cart(1,</span> <span class="pre">X),</span> <span class="pre">Cart(1,</span> <span class="pre">Y),</span> <span class="pre">Cart(1,</span> <span class="pre">Z)</span></code> <span class="math notranslate nohighlight">\(&lt; 2.1\)</span> (Angstroms)</p>
<dl class="field-list simple">
<dt class="field-odd">Constraints<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pattern</strong> = (?i)^s*(?:W?d+s+(?:xyz|xy|yz|x|y|z)W*s*W?-?d+.d+W?s+-?d+.d+s*W*s*)*$</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.ranged_dihedral">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">RANGED_DIHEDRAL</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.ranged_dihedral" title="Link to this definition">¶</a></dt>
<dd><p>A string of white-space separated atomic indices and bounds for the torsion angle of four
atoms. The order of specification determines whether the dihedral is a proper or improper
torsion/dihedral.
<code class="docutils literal notranslate"><span class="pre">OptParams({&quot;ranged_dihedral&quot;:</span> <span class="pre">&quot;1</span> <span class="pre">2</span> <span class="pre">3</span> <span class="pre">4</span> <span class="pre">100</span> <span class="pre">110&quot;})</span></code> Forces
<span class="math notranslate nohighlight">\(100^{\circ} &lt;\)</span> <code class="docutils literal notranslate"><span class="pre">Tors(1,</span> <span class="pre">2,</span> <span class="pre">3,</span> <span class="pre">4)</span></code> <span class="math notranslate nohighlight">\(&lt; 110^{\circ}\)</span></p>
<dl class="field-list simple">
<dt class="field-odd">Constraints<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pattern</strong> = ^s*(?:W?s*d+W?s+d+W?s+d+W?s+d+s*W*s*W?-?d+.d+W?s+-?d+.d+s*W*s*)*$</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.ranged_distance">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">RANGED_DISTANCE</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.ranged_distance" title="Link to this definition">¶</a></dt>
<dd><p>A string of white-space separated atomic indices and bounds for the distance between two
atoms.
<code class="docutils literal notranslate"><span class="pre">OptParams({&quot;ranged_distance&quot;:</span> <span class="pre">1</span> <span class="pre">2</span> <span class="pre">2.3</span> <span class="pre">2.4})</span></code> Forces <span class="math notranslate nohighlight">\(2.3 &lt;\)</span>  <code class="docutils literal notranslate"><span class="pre">Stre(1,</span> <span class="pre">2)</span></code>
<span class="math notranslate nohighlight">\(&lt; 2.4\)</span></p>
<dl class="field-list simple">
<dt class="field-odd">Constraints<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pattern</strong> = ^s*(?:W?s*d+W?s+d+s*W*s*W?-?d+.d+W?s+-?d+.d+s*W*s*)*$</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.ranged_oofp">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">RANGED_OOFP</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.ranged_oofp" title="Link to this definition">¶</a></dt>
<dd><p>A string of white-space separated atomic indices and bounds for the out of plane angle
defined by four atoms where the second atom is the central atom.
<code class="docutils literal notranslate"><span class="pre">OptParams({&quot;ranged_oofp&quot;:</span> <span class="pre">&quot;1</span> <span class="pre">2</span> <span class="pre">3</span> <span class="pre">4</span> <span class="pre">100</span> <span class="pre">110&quot;})</span></code> Forces
<span class="math notranslate nohighlight">\(100^{\circ} &lt;\)</span> <code class="docutils literal notranslate"><span class="pre">Oofp(1,</span> <span class="pre">2,</span> <span class="pre">3,</span> <span class="pre">4)</span></code> <span class="math notranslate nohighlight">\(&lt; 110^{\circ}\)</span></p>
<dl class="field-list simple">
<dt class="field-odd">Constraints<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pattern</strong> = ^s*(?:W?s*d+W?s+d+W?s+d+W?s+d+s*W*s*W?-?d+.d+W?s+-?d+.d+s*W*s*)*$</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.redundant_eval_tol">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">REDUNDANT_EVAL_TOL</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/functions.html#float" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1e-10</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.redundant_eval_tol" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.rfo_follow_root">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">RFO_FOLLOW_ROOT</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/functions.html#bool" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.rfo_follow_root" title="Link to this definition">¶</a></dt>
<dd><p>Whether or not to optimize along the previously chosen mode of the augmented hessian matrix</p>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.rfo_normalization_max">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">RFO_NORMALIZATION_MAX</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/functions.html#float" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">100</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.rfo_normalization_max" title="Link to this definition">¶</a></dt>
<dd><p>Eigenvectors of RFO matrix with elements greater than this are ignored as candidates for
the step direction.</p>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.rfo_root">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">RFO_ROOT</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/functions.html#int" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.rfo_root" title="Link to this definition">¶</a></dt>
<dd><p>root for <code class="docutils literal notranslate"><span class="pre">RFO</span></code> or <code class="docutils literal notranslate"><span class="pre">RS_I_RFO</span></code> to follow. Changing rfo_root for a <code class="docutils literal notranslate"><span class="pre">TS</span></code> may lead to a
higher-order stationary point.</p>
<dl class="field-list simple">
<dt class="field-odd">Constraints<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>minimum</strong> = 0</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.rsrfo_alpha_max">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">RSRFO_ALPHA_MAX</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/functions.html#float" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">100000000.0</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.rsrfo_alpha_max" title="Link to this definition">¶</a></dt>
<dd><p>Absolute maximum value of step scaling parameter in <code class="docutils literal notranslate"><span class="pre">RFO</span></code> and <code class="docutils literal notranslate"><span class="pre">RS_I_RFO</span></code>.</p>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.sd_hessian">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SD_HESSIAN</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/functions.html#float" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1.0</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.sd_hessian" title="Link to this definition">¶</a></dt>
<dd><p>Guess at Hessian in steepest-descent direction (acts as a stepsize control).</p>
<dl class="field-list simple">
<dt class="field-odd">Constraints<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>exclusiveMinimum</strong> = 0.0</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.simple_step_scaling">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SIMPLE_STEP_SCALING</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/functions.html#bool" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.simple_step_scaling" title="Link to this definition">¶</a></dt>
<dd><p>Do simple, linear scaling of internal coordinates to limit step instead of restricted-step
(dynamic trust radius) approaches like <code class="docutils literal notranslate"><span class="pre">RS_RFO</span></code> or <code class="docutils literal notranslate"><span class="pre">RS_I_RFO</span></code></p>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.small_bend_fix_threshold">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SMALL_BEND_FIX_THRESHOLD</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/functions.html#float" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0.35</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.small_bend_fix_threshold" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.steepest_descent_type">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">STEEPEST_DESCENT_TYPE</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'OVERLAP'</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.steepest_descent_type" title="Link to this definition">¶</a></dt>
<dd><p>One of <code class="docutils literal notranslate"><span class="pre">[&quot;OVERLAP&quot;,</span> <span class="pre">&quot;BARZILAI_BORWEIN&quot;]</span></code>. Change how the <code class="docutils literal notranslate"><span class="pre">SD</span></code> step is calculated (scaled)</p>
<dl class="field-list simple">
<dt class="field-odd">Constraints<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pattern</strong> = (?i)^(?:OVERLAP|BARZILAI_BORWEIN)$</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.step_type">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">STEP_TYPE</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'RFO'</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.step_type" title="Link to this definition">¶</a></dt>
<dd><p>One of <code class="docutils literal notranslate"><span class="pre">[&quot;RFO&quot;,</span> <span class="pre">&quot;RS_I_RFO&quot;,</span> <span class="pre">&quot;P_RFO&quot;,</span> <span class="pre">&quot;NR&quot;,</span> <span class="pre">&quot;SD&quot;,</span> <span class="pre">&quot;LINESEARCH&quot;,</span> <span class="pre">&quot;CONJUGATE&quot;]</span></code>. If <code class="docutils literal notranslate"><span class="pre">OPT_TYPE</span></code>
is <code class="docutils literal notranslate"><span class="pre">TS</span></code> and <code class="docutils literal notranslate"><span class="pre">STEP_TYPE</span></code> is not specified then <code class="docutils literal notranslate"><span class="pre">STEP_TYPE</span></code> will be set to <code class="docutils literal notranslate"><span class="pre">RS_I_RFO</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Constraints<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pattern</strong> = (?i)^(?:RFO|RS_I_RFO|P_RFO|NR|SD|LINESEARCH|CONJUGATE)$</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.test_B">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">TEST_B</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/functions.html#bool" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.test_B" title="Link to this definition">¶</a></dt>
<dd><p>Do test B matrix?</p>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.test_derivative_B">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">TEST_DERIVATIVE_B</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/functions.html#bool" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.test_derivative_B" title="Link to this definition">¶</a></dt>
<dd><p>Do test derivative B matrix?</p>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.unfreeze_dihedrals">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">UNFREEZE_DIHEDRALS</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.unfreeze_dihedrals" title="Link to this definition">¶</a></dt>
<dd><p>A string of white-space separated atomic indices to specify that the corresponding dihedral
angle should be <strong>unfrozen</strong>. This keyword is meant to be used in conjunction with
<code class="docutils literal notranslate"><span class="pre">FREEZE_ALL_DIHEDRALS</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Constraints<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pattern</strong> = ^s*(?:W?s*d+W?s+d+W?s+d+W?s+d+s*W*s*)*$</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.v3d_tors_angle_lim">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">V3D_TORS_ANGLE_LIM</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/functions.html#float" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0.017</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.v3d_tors_angle_lim" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.v3d_tors_cos_tol">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">V3D_TORS_COS_TOL</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/functions.html#float" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1e-10</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.v3d_tors_cos_tol" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.write_trajectory">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">WRITE_TRAJECTORY</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.12/library/functions.html#bool" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#optking.v1.optparams.OptParams.write_trajectory" title="Link to this definition">¶</a></dt>
<dd><p>Create an xyz file with geometries for each step of the Optimization. If <code class="docutils literal notranslate"><span class="pre">opt_type</span></code> is
<code class="docutils literal notranslate"><span class="pre">IRC</span></code>, only the converged IRC points will be included and the file will be named
irc_traj.&lt;pid&gt;.json. Otherwise the file will contain all points and be named
<code class="docutils literal notranslate"><span class="pre">opt_traj.&lt;pid&gt;.json</span></code></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.conv_criteria">
<span class="sig-name descname"><span class="pre">conv_criteria</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/optking/v1/optparams.html#OptParams.conv_criteria"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#optking.v1.optparams.OptParams.conv_criteria" title="Link to this definition">¶</a></dt>
<dd><p>Returns the currently active values for each convergence criteria. Not the original
user input / presets</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3.12/library/stdtypes.html#dict" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a></span></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.from_internal_dict">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_internal_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/optking/v1/optparams.html#OptParams.from_internal_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#optking.v1.optparams.OptParams.from_internal_dict" title="Link to this definition">¶</a></dt>
<dd><p>Assumes that params does not use the input key and syntax, but uses the internal names and
internal syntax. Meant to be used for recreating options# o dict
It’s probably preferable to dump by alias and then recreate instead of using this</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.to_dict">
<span class="sig-name descname"><span class="pre">to_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">by_alias</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/optking/v1/optparams.html#OptParams.to_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#optking.v1.optparams.OptParams.to_dict" title="Link to this definition">¶</a></dt>
<dd><p>Specialized form of __dict__. Makes sure to include convergence keys that are hidden</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="optking.v1.optparams.OptParams.update_dynamic_level_params">
<span class="sig-name descname"><span class="pre">update_dynamic_level_params</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">run_level</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/optking/v1/optparams.html#OptParams.update_dynamic_level_params"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#optking.v1.optparams.OptParams.update_dynamic_level_params" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
  <p class="logo"><a href="index.html">
    <img class="logo" src="_static/psi4square.png" alt="Logo"/>
  </a></p>
<div id="searchbox" style="display: none" role="search">
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" placeholder="&#xF002;" style="font-family:FontAwesome, Ariel"
                                       aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/></div>
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script><div class="sphinx-toc sphinxlocaltoc">
    <h3><a href="index.html">table of contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">Geometry Optimization</a><ul>
<li><a class="reference internal" href="#basic-keywords">Basic Keywords</a></li>
<li><a class="reference internal" href="#optimizing-minima">Optimizing Minima</a></li>
<li><a class="reference internal" href="#hessian">Hessian</a></li>
<li><a class="reference internal" href="#transition-states-and-reaction-paths">Transition States and Reaction Paths</a></li>
<li><a class="reference internal" href="#constrained-optimizations">Constrained Optimizations</a></li>
<li><a class="reference internal" href="#multi-fragment-optimizations">Multi-Fragment Optimizations</a></li>
<li><a class="reference internal" href="#dealing-with-problematic-optimizations">Dealing with problematic optimizations</a></li>
<li><a class="reference internal" href="#convergence-criteria">Convergence Criteria</a></li>
<li><a class="reference internal" href="#interface-to-geometric">Interface to GeomeTRIC</a></li>
<li><a class="reference internal" href="#output">Output</a></li>
<li><a class="reference internal" href="#important-user-changes-from-cpp-optking">Important User Changes from cpp-optking</a></li>
<li><a class="reference internal" href="#keywords">Keywords</a><ul>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams"><code class="docutils literal notranslate"><span class="pre">OptParams</span></code></a><ul>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.accept_symmetry_breaking"><code class="docutils literal notranslate"><span class="pre">OptParams.accept_symmetry_breaking</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.add_auxiliary_bonds"><code class="docutils literal notranslate"><span class="pre">OptParams.add_auxiliary_bonds</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.alg_geom_maxiter"><code class="docutils literal notranslate"><span class="pre">OptParams.alg_geom_maxiter</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.auxiliary_bond_factor"><code class="docutils literal notranslate"><span class="pre">OptParams.auxiliary_bond_factor</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.bt_dx_conv"><code class="docutils literal notranslate"><span class="pre">OptParams.bt_dx_conv</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.bt_dx_rms_change_conv"><code class="docutils literal notranslate"><span class="pre">OptParams.bt_dx_rms_change_conv</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.bt_max_iter"><code class="docutils literal notranslate"><span class="pre">OptParams.bt_max_iter</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.bt_pinv_rcond"><code class="docutils literal notranslate"><span class="pre">OptParams.bt_pinv_rcond</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.cart_hess_read"><code class="docutils literal notranslate"><span class="pre">OptParams.cart_hess_read</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.conjugate_gradient_type"><code class="docutils literal notranslate"><span class="pre">OptParams.conjugate_gradient_type</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.consecutive_backsteps_allowed"><code class="docutils literal notranslate"><span class="pre">OptParams.consecutive_backsteps_allowed</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.conv_max_DE"><code class="docutils literal notranslate"><span class="pre">OptParams.conv_max_DE</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.conv_max_disp"><code class="docutils literal notranslate"><span class="pre">OptParams.conv_max_disp</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.conv_max_force"><code class="docutils literal notranslate"><span class="pre">OptParams.conv_max_force</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.conv_rms_disp"><code class="docutils literal notranslate"><span class="pre">OptParams.conv_rms_disp</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.conv_rms_force"><code class="docutils literal notranslate"><span class="pre">OptParams.conv_rms_force</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.covalent_connect"><code class="docutils literal notranslate"><span class="pre">OptParams.covalent_connect</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.dynamic_level"><code class="docutils literal notranslate"><span class="pre">OptParams.dynamic_level</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.dynamic_lvl_max"><code class="docutils literal notranslate"><span class="pre">OptParams.dynamic_lvl_max</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.ensure_bt_convergence"><code class="docutils literal notranslate"><span class="pre">OptParams.ensure_bt_convergence</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.ext_force_bend"><code class="docutils literal notranslate"><span class="pre">OptParams.ext_force_bend</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.ext_force_cartesian"><code class="docutils literal notranslate"><span class="pre">OptParams.ext_force_cartesian</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.ext_force_dihedral"><code class="docutils literal notranslate"><span class="pre">OptParams.ext_force_dihedral</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.ext_force_distance"><code class="docutils literal notranslate"><span class="pre">OptParams.ext_force_distance</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.ext_force_oofp"><code class="docutils literal notranslate"><span class="pre">OptParams.ext_force_oofp</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.fix_val_near_pi"><code class="docutils literal notranslate"><span class="pre">OptParams.fix_val_near_pi</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.flexible_g_convergence"><code class="docutils literal notranslate"><span class="pre">OptParams.flexible_g_convergence</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.frag_mode"><code class="docutils literal notranslate"><span class="pre">OptParams.frag_mode</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.frag_ref_atoms"><code class="docutils literal notranslate"><span class="pre">OptParams.frag_ref_atoms</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.freeze_all_dihedrals"><code class="docutils literal notranslate"><span class="pre">OptParams.freeze_all_dihedrals</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.freeze_intrafrag"><code class="docutils literal notranslate"><span class="pre">OptParams.freeze_intrafrag</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.frozen_bend"><code class="docutils literal notranslate"><span class="pre">OptParams.frozen_bend</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.frozen_cartesian"><code class="docutils literal notranslate"><span class="pre">OptParams.frozen_cartesian</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.frozen_dihedral"><code class="docutils literal notranslate"><span class="pre">OptParams.frozen_dihedral</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.frozen_distance"><code class="docutils literal notranslate"><span class="pre">OptParams.frozen_distance</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.frozen_oofp"><code class="docutils literal notranslate"><span class="pre">OptParams.frozen_oofp</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.full_hess_every"><code class="docutils literal notranslate"><span class="pre">OptParams.full_hess_every</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.g_convergence"><code class="docutils literal notranslate"><span class="pre">OptParams.g_convergence</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.geom_maxiter"><code class="docutils literal notranslate"><span class="pre">OptParams.geom_maxiter</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.h_bond_connect"><code class="docutils literal notranslate"><span class="pre">OptParams.h_bond_connect</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.h_guess_every"><code class="docutils literal notranslate"><span class="pre">OptParams.h_guess_every</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.hess_update"><code class="docutils literal notranslate"><span class="pre">OptParams.hess_update</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.hess_update_den_tol"><code class="docutils literal notranslate"><span class="pre">OptParams.hess_update_den_tol</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.hess_update_dq_tol"><code class="docutils literal notranslate"><span class="pre">OptParams.hess_update_dq_tol</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.hess_update_limit"><code class="docutils literal notranslate"><span class="pre">OptParams.hess_update_limit</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.hess_update_limit_max"><code class="docutils literal notranslate"><span class="pre">OptParams.hess_update_limit_max</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.hess_update_limit_scale"><code class="docutils literal notranslate"><span class="pre">OptParams.hess_update_limit_scale</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.hess_update_use_last"><code class="docutils literal notranslate"><span class="pre">OptParams.hess_update_use_last</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.hessian_file"><code class="docutils literal notranslate"><span class="pre">OptParams.hessian_file</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.include_oofp"><code class="docutils literal notranslate"><span class="pre">OptParams.include_oofp</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.interfrag_collinear_tol"><code class="docutils literal notranslate"><span class="pre">OptParams.interfrag_collinear_tol</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.interfrag_coords"><code class="docutils literal notranslate"><span class="pre">OptParams.interfrag_coords</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.interfrag_dist_inv"><code class="docutils literal notranslate"><span class="pre">OptParams.interfrag_dist_inv</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.interfrag_hess"><code class="docutils literal notranslate"><span class="pre">OptParams.interfrag_hess</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.interfrag_mode"><code class="docutils literal notranslate"><span class="pre">OptParams.interfrag_mode</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.interfrag_trust"><code class="docutils literal notranslate"><span class="pre">OptParams.interfrag_trust</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.interfrag_trust_max"><code class="docutils literal notranslate"><span class="pre">OptParams.interfrag_trust_max</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.interfrag_trust_min"><code class="docutils literal notranslate"><span class="pre">OptParams.interfrag_trust_min</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.intrafrag_hess"><code class="docutils literal notranslate"><span class="pre">OptParams.intrafrag_hess</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.intrafrag_trust"><code class="docutils literal notranslate"><span class="pre">OptParams.intrafrag_trust</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.intrafrag_trust_max"><code class="docutils literal notranslate"><span class="pre">OptParams.intrafrag_trust_max</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.intrafrag_trust_min"><code class="docutils literal notranslate"><span class="pre">OptParams.intrafrag_trust_min</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.irc_convergence"><code class="docutils literal notranslate"><span class="pre">OptParams.irc_convergence</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.irc_direction"><code class="docutils literal notranslate"><span class="pre">OptParams.irc_direction</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.irc_mode"><code class="docutils literal notranslate"><span class="pre">OptParams.irc_mode</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.irc_points"><code class="docutils literal notranslate"><span class="pre">OptParams.irc_points</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.irc_step_size"><code class="docutils literal notranslate"><span class="pre">OptParams.irc_step_size</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.linear_bend_threshold"><code class="docutils literal notranslate"><span class="pre">OptParams.linear_bend_threshold</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.linesearch"><code class="docutils literal notranslate"><span class="pre">OptParams.linesearch</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.linesearch_step"><code class="docutils literal notranslate"><span class="pre">OptParams.linesearch_step</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.opt_coordinates"><code class="docutils literal notranslate"><span class="pre">OptParams.opt_coordinates</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.opt_type"><code class="docutils literal notranslate"><span class="pre">OptParams.opt_type</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.print_lvl"><code class="docutils literal notranslate"><span class="pre">OptParams.print_lvl</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.print_trajectory_xyz_file"><code class="docutils literal notranslate"><span class="pre">OptParams.print_trajectory_xyz_file</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.program"><code class="docutils literal notranslate"><span class="pre">OptParams.program</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.ranged_bend"><code class="docutils literal notranslate"><span class="pre">OptParams.ranged_bend</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.ranged_cartesian"><code class="docutils literal notranslate"><span class="pre">OptParams.ranged_cartesian</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.ranged_dihedral"><code class="docutils literal notranslate"><span class="pre">OptParams.ranged_dihedral</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.ranged_distance"><code class="docutils literal notranslate"><span class="pre">OptParams.ranged_distance</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.ranged_oofp"><code class="docutils literal notranslate"><span class="pre">OptParams.ranged_oofp</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.redundant_eval_tol"><code class="docutils literal notranslate"><span class="pre">OptParams.redundant_eval_tol</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.rfo_follow_root"><code class="docutils literal notranslate"><span class="pre">OptParams.rfo_follow_root</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.rfo_normalization_max"><code class="docutils literal notranslate"><span class="pre">OptParams.rfo_normalization_max</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.rfo_root"><code class="docutils literal notranslate"><span class="pre">OptParams.rfo_root</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.rsrfo_alpha_max"><code class="docutils literal notranslate"><span class="pre">OptParams.rsrfo_alpha_max</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.sd_hessian"><code class="docutils literal notranslate"><span class="pre">OptParams.sd_hessian</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.simple_step_scaling"><code class="docutils literal notranslate"><span class="pre">OptParams.simple_step_scaling</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.small_bend_fix_threshold"><code class="docutils literal notranslate"><span class="pre">OptParams.small_bend_fix_threshold</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.steepest_descent_type"><code class="docutils literal notranslate"><span class="pre">OptParams.steepest_descent_type</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.step_type"><code class="docutils literal notranslate"><span class="pre">OptParams.step_type</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.test_B"><code class="docutils literal notranslate"><span class="pre">OptParams.test_B</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.test_derivative_B"><code class="docutils literal notranslate"><span class="pre">OptParams.test_derivative_B</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.unfreeze_dihedrals"><code class="docutils literal notranslate"><span class="pre">OptParams.unfreeze_dihedrals</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.v3d_tors_angle_lim"><code class="docutils literal notranslate"><span class="pre">OptParams.v3d_tors_angle_lim</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.v3d_tors_cos_tol"><code class="docutils literal notranslate"><span class="pre">OptParams.v3d_tors_cos_tol</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.write_trajectory"><code class="docutils literal notranslate"><span class="pre">OptParams.write_trajectory</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.conv_criteria"><code class="docutils literal notranslate"><span class="pre">OptParams.conv_criteria()</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.from_internal_dict"><code class="docutils literal notranslate"><span class="pre">OptParams.from_internal_dict()</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.to_dict"><code class="docutils literal notranslate"><span class="pre">OptParams.to_dict()</span></code></a></li>
<li><a class="reference internal" href="#optking.v1.optparams.OptParams.update_dynamic_level_params"><code class="docutils literal notranslate"><span class="pre">OptParams.update_dynamic_level_params()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

  </div>
        </div>
      </div>
    
    
        <div class="sidebar-toggle-group no-js">
            
            <button class="sidebar-toggle" id="sidebar-hide" title="Hide the sidebar menu">
                 «
                <span class="show-for-small">hide menu</span>
                
            </button>
            <button class="sidebar-toggle" id="sidebar-show" title="Show the sidebar menu">
                
                <span class="show-for-small">menu</span>
                <span class="hide-for-small">sidebar</span>
                 »
            </button>
        </div>
    
      <div class="clearer"></div>
    </div>
    <div class="relbar-bottom">
        
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >Index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="oeprop.html" title="Evaluation of One-Electron Properties — oeprop()"
             ><i class="fa fa-long-arrow-right fa-lg"></i></a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="relativistic.html" title="Scalar Relativistic Hamiltonians"
             ><i class="fa fa-long-arrow-left fa-lg"></i></a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="index.html" title="Table Of Contents"
             ><i class="fa fa-book fa-lg"></i></a> &nbsp; &nbsp;</li>
    <li><a href="http://psicode.org/"><i class="fa fa-home fa-lg"></i></a></li>
    <li><a href="http://github.com/psi4/psi4"><i class="fa fa-github fa-lg"></i></a></li>
    <li><a href="http://forum.psicode.org"><i class="fa fa-comments-o fa-lg"></i></a></li>
    <li><a href="http://github.com/psi4/psi4/edit/master/doc/sphinxman/source/optking.rst"><i class="fa fa-pencil fa-lg"></i></a></li>
    <li style="color: #1a4162">&nbsp;&middot;&nbsp;</li>
    <li><a href="http://github.com/psi4/psi4/tree/68ce344">1.11a1.dev21</a></li>
    <li style="color: #1a4162">&nbsp;&middot;&nbsp;</li>
    <li class="nav-item nav-item-0"><a href="index.html">
        <span style="font-family: Optima, sans-serif;">P<span style="font-size: 82%;">SI</span>4</span>
        </a><i class="fa fa-angle-double-right" style="color: #a2a7b3; text-shadow: none;"></i></li>

          <li class="nav-item nav-item-1"><a href="methods.html" >Theoretical Methods: SCF to FCI</a><i class="fa fa-angle-double-right" style="color: #a2a7b3; text-shadow: none;"></i></li>
        <li class="nav-item nav-item-this"><a href="">Geometry Optimization</a></li> 
      </ul>
    </div>
    </div>

    <div class="footer" role="contentinfo">
    &#169; Copyright 2007-2026, The Psi4 Project.
      Last updated on Saturday, 07 February 2026 02:25AM.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.4.7.
    </div>
    <!-- cloud_sptheme 1.4 -->
  </body>
</html>